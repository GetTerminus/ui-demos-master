(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{CpMl:function(t,l,n){"use strict";n.r(l),n.d(l,"CohortDateRangeModuleNgFactory",(function(){return It}));var e=n("kZht");class a{}var s=n("C9Ky"),u=n("lGdv"),r=n("I8lj"),i=n("XiaT"),o=n("OK5a"),c=n("3kIJ"),b=n("UNv8"),d=n("2UXK"),g=n("CBuE"),h=n("vtRU"),m=n("C1w9"),D=n("Hr7g"),p=n("oBbf"),C=n("/tOu"),f=n("An66"),N=n("b1t3"),v=n("EKI7"),P=n("23/D");class R{constructor(t,l,n){this.start=t,this.end=l,this.source=n}}let j=0;class w{constructor(t){this.formBuilder=t,this.customDateCohort={display:"Custom Dates",range:{start:"",end:""}},this.formGroup=this.formBuilder.group({dateRange:this.formBuilder.group({startDate:[""],endDate:[""]}),cohort:new c.i([])}),this.uid=`ts-cohort-date-range-${j++}`,this._allowCustomDates=!0,this._id=this.uid,this.isDisabled=!1,this.cohortDateRangeChanged=new e.o}get dateRangeFormGroup(){return this.formGroup.get("dateRange")}get cohortControl(){return this.formGroup.get("cohort")}set allowCustomDates(t){this._allowCustomDates=t,this.cohorts=this.originalCohorts}get allowCustomDates(){return this._allowCustomDates}set cohorts(t){if(!t)return;this.originalCohorts=t,this._cohorts=t.slice(),this.allowCustomDates&&this._cohorts.push(this.customDateCohort);const l=t.filter(t=>t.active);l.length&&(this.cohortControl.setValue(l),this.setDateRangeValues(l[0].range))}get cohorts(){return this._cohorts}set id(t){this._id=t||this.uid}get id(){return this._id}ngOnInit(){this.updateSelectOnRangeChange()}ngOnDestroy(){}cohortDateRangeChange(t){this.cohortDateRangeChanged.emit(new R(t.start,t.end,this))}selectionChange(t){this.setDateRangeValues(t.value[0].range)}trackByFn(t){return t}formatter(t){return t.display}setDateRangeValues(t){const l={startDate:t.start,endDate:t.end};l.startDate&&l.endDate&&(this.dateRangeFormGroup.setValue(l),this.cohortDateRangeChange(t))}updateSelectOnRangeChange(){var t;null===(t=this.formGroup.get("dateRange"))||void 0===t||t.valueChanges.pipe(Object(v.j)(this)).subscribe(t=>{if(!this.cohorts||!this.cohorts.length)return;const l=Object(N.c)(t.startDate).getTime(),n=Object(N.c)(t.endDate).getTime();0===this.cohorts.filter(t=>{const e=Object(N.c)(t.range.start).getTime(),a=Object(N.c)(t.range.end).getTime();if(l===e&&n===a)return t}).length&&this.cohortControl.setValue([this.customDateCohort])})}}var y=e.yb({encapsulation:2,styles:[[".ts-cohort-date-range{--cohort-selection-list-minWidth:200px;display:block}.ts-cohort-date-range .ts-selection-list.ts-cohort-date-range__select{display:inline-block;min-width:var(--cohort-selection-list-minWidth)}.ts-date-range.ts-cohort-date-range__date-range{display:inline-block;margin-right:24px}"]],data:{}});function F(t){return e.cc(0,[(t()(),e.Ab(0,0,null,null,4,"ts-option",[["class","ts-option"],["role","option"]],[[2,"ts-selected",null],[2,"ts-option--multiple",null],[2,"ts-option--active",null],[2,"ts-option--disabled",null],[2,"ts-option--template",null],[1,"tabindex",0],[1,"aria-selected",0],[1,"aria-disabled",0],[1,"title",0],[8,"id",0]],[[null,"click"],[null,"keydown"]],(function(t,l,n){var a=!0;return"click"===l&&(a=!1!==e.Pb(t,1).selectViaInteraction()&&a),"keydown"===l&&(a=!1!==e.Pb(t,1).handleKeydown(n)&&a),a}),g.b,g.a)),e.zb(1,9617408,[[2,4]],2,h.c,[e.l,e.h,e.A,[2,h.b],[2,h.a]],{option:[0,"option"],value:[1,"value"]},null),e.Vb(603979776,4,{optionTemplate:0}),e.Vb(603979776,5,{displayElementRef:0}),(t()(),e.Zb(4,0,[" "," "]))],(function(t,l){t(l,1,0,l.context.$implicit,l.context.$implicit)}),(function(t,l){t(l,0,0,e.Pb(l,1).selected,e.Pb(l,1).allowMultiple,e.Pb(l,1).active,e.Pb(l,1).isDisabled,e.Pb(l,1).optionTemplate,e.Pb(l,1).tabIndex,e.Pb(l,1).selected.toString(),!!e.Pb(l,1).isDisabled,e.Pb(l,1).title,e.Pb(l,1).id),t(l,4,0,l.context.$implicit.display)}))}function O(t){return e.cc(2,[e.Vb(402653184,1,{selectionListComponent:0}),(t()(),e.Ab(1,0,null,null,1,"ts-date-range",[["class","ts-cohort-date-range__date-range ts-date-range"]],null,[[null,"dateRangeChange"]],(function(t,l,n){var e=!0;return"dateRangeChange"===l&&(e=!1!==t.component.cohortDateRangeChange(n)&&e),e}),b.b,b.a)),e.zb(2,245760,null,0,d.a,[e.h],{dateFormGroup:[0,"dateFormGroup"],dateLocale:[1,"dateLocale"],endMaxDate:[2,"endMaxDate"],endMinDate:[3,"endMinDate"],isDisabled:[4,"isDisabled"],startMaxDate:[5,"startMaxDate"],startMinDate:[6,"startMinDate"]},{dateRangeChange:"dateRangeChange"}),(t()(),e.Ab(3,0,null,null,10,"ts-selection-list",[["class","ts-cohort-date-range__select ts-selection-list"],["label","Select a date range"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ts-selection-list--required",null],[2,"ts-selection-list--disabled",null],[2,"ts-selection-list--single",null],[2,"ts-selection-list--multiple",null],[1,"aria-owns",0],[1,"aria-required",0],[1,"aria-multiselectable",0]],[[null,"selectionChange"]],(function(t,l,n){var e=!0;return"selectionChange"===l&&(e=!1!==t.component.selectionChange(n)&&e),e}),m.b,m.a)),e.Ub(6144,null,h.b,null,[D.a]),e.Ub(6144,null,p.a,null,[D.a]),e.zb(6,540672,null,0,c.j,[[8,null],[8,null],[8,null],[2,c.G]],{form:[0,"form"]},null),e.Ub(2048,null,c.r,null,[c.j]),e.zb(8,16384,null,0,c.s,[[4,c.r]],null,null),e.zb(9,4440064,[[1,4]],2,D.a,[e.h,C.a,e.l,[6,c.r]],{allowUserInput:[0,"allowUserInput"],isDisabled:[1,"isDisabled"],label:[2,"label"],displayFormatter:[3,"displayFormatter"]},{selectionChange:"selectionChange"}),e.Vb(603979776,2,{options:1}),e.Vb(603979776,3,{optionGroups:1}),(t()(),e.jb(16777216,null,0,1,null,F)),e.zb(13,278528,null,0,f.l,[e.R,e.N,e.t],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(t,l){var n=l.component;t(l,2,0,n.dateRangeFormGroup,n.dateLocale,n.endMaxDate,n.endMinDate,!n.allowCustomDates||n.isDisabled,n.startMaxDate,n.startMinDate),t(l,6,0,n.cohortControl),t(l,9,0,!1,n.isDisabled,"Select a date range",n.formatter),t(l,13,0,n.cohorts,n.trackByFn)}),(function(t,l){t(l,3,1,[e.Pb(l,8).ngClassUntouched,e.Pb(l,8).ngClassTouched,e.Pb(l,8).ngClassPristine,e.Pb(l,8).ngClassDirty,e.Pb(l,8).ngClassValid,e.Pb(l,8).ngClassInvalid,e.Pb(l,8).ngClassPending,e.Pb(l,9).isRequired,e.Pb(l,9).isDisabled,!e.Pb(l,9).allowMultiple,e.Pb(l,9).allowMultiple,e.Pb(l,9).panelOpen?e.Pb(l,9).optionIds:null,e.Pb(l,9).isRequired.toString(),e.Pb(l,9).allowMultiple])}))}var M=n("JuBR"),V=n("mrqE");function z(t){Object(V.a)(1,arguments);var l=Object(M.a)(t);return l.setHours(0,0,0,0),l}var S=n("N1LS");function A(t,l){Object(V.a)(2,arguments);var n=Object(M.a)(t),e=Object(S.a)(l);return n.setDate(n.getDate()+e),n}function x(t,l){Object(V.a)(2,arguments);var n=Object(S.a)(l);return A(t,-n)}function G(t){Object(V.a)(1,arguments);var l=Object(M.a)(t);return l.setHours(23,59,59,999),l}function k(t){Object(V.a)(1,arguments);var l=Object(M.a)(t),n=l.getFullYear(),e=l.getMonth(),a=new Date(0);return a.setFullYear(n,e+1,0),a.setHours(0,0,0,0),a.getDate()}function B(t,l){Object(V.a)(2,arguments);var n=Object(M.a)(t),e=Object(S.a)(l),a=n.getMonth()+e,s=new Date(0);s.setFullYear(n.getFullYear(),a,1),s.setHours(0,0,0,0);var u=k(s);return n.setMonth(a,Math.min(u,n.getDate())),n}function I(t,l){Object(V.a)(2,arguments);var n=Object(S.a)(l);return B(t,-n)}function T(t){Object(V.a)(1,arguments);var l=Object(M.a)(t);return l.setDate(1),l.setHours(0,0,0,0),l}const U=new Date;class _{constructor(t){this.formBuilder=t,this.myForm=this.formBuilder.group({dateRange:this.formBuilder.group({startDate:[null,[c.D.required]],endDate:[null,[c.D.required]]})}),this.constraintForm=this.formBuilder.group({startDateRange:this.formBuilder.group({startDate:[z(x(new Date,120)),[c.D.required]],endDate:[z(x(new Date,1)),[c.D.required]]}),endDateRange:this.formBuilder.group({startDate:[z(x(new Date,119)),[c.D.required]],endDate:[G(new Date),[c.D.required]]})}),this.cohorts=[{display:"Last 90 days",range:{start:z(x(new Date,90)),end:U}},{display:"Last full month",range:{start:z(I(T(U),1)),end:G(x(T(U),1))},active:!0}]}printRange(t){this.lastRange=t}}var q=e.yb({encapsulation:2,styles:[],data:{}});function L(t){return e.cc(0,[(t()(),e.Ab(0,0,null,null,1,"pre",[],null,null,null,null,null)),(t()(),e.Zb(1,null,["    Start: ","\n    End: ","\n  "]))],null,(function(t,l){var n=l.component;t(l,1,0,n.lastRange.start,n.lastRange.end)}))}function E(t){return e.cc(0,[(t()(),e.Ab(0,0,null,null,22,"ts-card",[["class","ts-card"],["tsVerticalSpacing",""]],null,null,null,u.b,u.a)),e.zb(1,49152,null,0,r.a,[],null,null),e.zb(2,16384,null,0,i.a,[e.l],{tsVerticalSpacing:[0,"tsVerticalSpacing"]},null),(t()(),e.Ab(3,0,null,0,3,"h3",[["tsCardTitle",""],["tsVerticalSpacing",""]],[[8,"className",0]],null,null,null,null)),e.zb(4,16384,null,0,o.a,[[3,r.a]],null,null),e.zb(5,16384,null,0,i.a,[e.l],{tsVerticalSpacing:[0,"tsVerticalSpacing"]},null),(t()(),e.Zb(-1,null,["Demo Controls"])),(t()(),e.Ab(7,0,null,0,15,"div",[],null,null,null,null,null)),(t()(),e.Ab(8,0,null,null,2,"div",[["tsVerticalSpacing",""]],null,null,null,null,null)),e.zb(9,16384,null,0,i.a,[e.l],{tsVerticalSpacing:[0,"tsVerticalSpacing"]},null),(t()(),e.Zb(-1,null,["Start date minimum and maximum"])),(t()(),e.Ab(11,0,null,null,11,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,l,n){var a=!0;return"submit"===l&&(a=!1!==e.Pb(t,13).onSubmit(n)&&a),"reset"===l&&(a=!1!==e.Pb(t,13).onReset()&&a),a}),null,null)),e.zb(12,16384,null,0,c.I,[],null,null),e.zb(13,540672,null,0,c.m,[[8,null],[8,null]],{form:[0,"form"]},null),e.Ub(2048,null,c.d,null,[c.m]),e.zb(15,16384,null,0,c.t,[[4,c.d]],null,null),(t()(),e.Ab(16,0,null,null,1,"ts-date-range",[["class","ts-date-range"]],null,null,null,b.b,b.a)),e.zb(17,245760,null,0,d.a,[e.h],{dateFormGroup:[0,"dateFormGroup"]},null),(t()(),e.Ab(18,0,null,null,2,"div",[["tsVerticalSpacing",""]],null,null,null,null,null)),e.zb(19,16384,null,0,i.a,[e.l],{tsVerticalSpacing:[0,"tsVerticalSpacing"]},null),(t()(),e.Zb(-1,null,["End date minimum and maximum"])),(t()(),e.Ab(21,0,null,null,1,"ts-date-range",[["class","ts-date-range"]],null,null,null,b.b,b.a)),e.zb(22,245760,null,0,d.a,[e.h],{dateFormGroup:[0,"dateFormGroup"]},null),(t()(),e.Ab(23,0,null,null,10,"ts-card",[["class","ts-card"]],null,null,null,u.b,u.a)),e.zb(24,49152,null,0,r.a,[],null,null),(t()(),e.Ab(25,0,null,0,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,l,n){var a=!0;return"submit"===l&&(a=!1!==e.Pb(t,27).onSubmit(n)&&a),"reset"===l&&(a=!1!==e.Pb(t,27).onReset()&&a),a}),null,null)),e.zb(26,16384,null,0,c.I,[],null,null),e.zb(27,540672,null,0,c.m,[[8,null],[8,null]],{form:[0,"form"]},null),e.Ub(2048,null,c.d,null,[c.m]),e.zb(29,16384,null,0,c.t,[[4,c.d]],null,null),(t()(),e.Ab(30,0,null,null,1,"ts-cohort-date-range",[["class","ts-cohort-date-range"]],[[2,"ts-cohort-date-range--disabled",null],[1,"disabled",0],[1,"aria-disabled",0],[8,"id",0]],[[null,"cohortDateRangeChanged"]],(function(t,l,n){var e=!0;return"cohortDateRangeChanged"===l&&(e=!1!==t.component.printRange(n)&&e),e}),O,y)),e.zb(31,245760,null,0,w,[c.h],{allowCustomDates:[0,"allowCustomDates"],cohorts:[1,"cohorts"],endMaxDate:[2,"endMaxDate"],endMinDate:[3,"endMinDate"],isDisabled:[4,"isDisabled"],startMaxDate:[5,"startMaxDate"],startMinDate:[6,"startMinDate"]},{cohortDateRangeChanged:"cohortDateRangeChanged"}),(t()(),e.jb(16777216,null,0,1,null,L)),e.zb(33,16384,null,0,f.m,[e.R,e.N],{ngIf:[0,"ngIf"]},null)],(function(t,l){var n=l.component;t(l,2,0,""),t(l,5,0,""),t(l,9,0,""),t(l,13,0,n.constraintForm),t(l,17,0,n.constraintForm.get("startDateRange")),t(l,19,0,""),t(l,22,0,n.constraintForm.get("endDateRange")),t(l,27,0,n.myForm);var e=null,a=null,s=null,u=null,r=null,i=null,o=null,c=null;t(l,31,0,!0,n.cohorts,null==(e=n.constraintForm.get("endDateRange"))||null==(a=e.get("endDate"))?null:a.value,null==(s=n.constraintForm.get("endDateRange"))||null==(u=s.get("startDate"))?null:u.value,!1,null==(r=n.constraintForm.get("startDateRange"))||null==(i=r.get("endDate"))?null:i.value,null==(o=n.constraintForm.get("startDateRange"))||null==(c=o.get("startDate"))?null:c.value),t(l,33,0,n.lastRange)}),(function(t,l){t(l,3,0,e.Pb(l,4).tsCardTitle),t(l,11,0,e.Pb(l,15).ngClassUntouched,e.Pb(l,15).ngClassTouched,e.Pb(l,15).ngClassPristine,e.Pb(l,15).ngClassDirty,e.Pb(l,15).ngClassValid,e.Pb(l,15).ngClassInvalid,e.Pb(l,15).ngClassPending),t(l,25,0,e.Pb(l,29).ngClassUntouched,e.Pb(l,29).ngClassTouched,e.Pb(l,29).ngClassPristine,e.Pb(l,29).ngClassDirty,e.Pb(l,29).ngClassValid,e.Pb(l,29).ngClassInvalid,e.Pb(l,29).ngClassPending),t(l,30,0,e.Pb(l,31).isDisabled,e.Pb(l,31).isDisabled,e.Pb(l,31).isDisabled,e.Pb(l,31).id)}))}function Z(t){return e.cc(0,[(t()(),e.Ab(0,0,null,null,1,"demo-cohort-date-range",[],null,null,null,E,q)),e.zb(1,49152,null,0,_,[c.h],null,null)],null,null)}var K=e.wb("demo-cohort-date-range",_,Z,{},{},[]),H=n("4UJ1"),J=n("20x/"),X=n("76xf"),Y=n("5GZx"),W=n("vE5V"),$=n("mcff"),Q=n("s2U3"),tt=n("807T"),lt=n("pTnX"),nt=n("O1jd"),et=n("9vws"),at=n("ml6+"),st=n("XQqX"),ut=n("yq7f"),rt=n("Lk5d"),it=n("b/KY"),ot=n("0wXM"),ct=n("UhY6"),bt=n("uajk"),dt=n("qrtC"),gt=n("1VvW");class ht{}var mt=n("jL3B"),Dt=n("ydE+"),pt=n("StKv"),Ct=n("G8Wh"),ft=n("Sgnd"),Nt=n("2ob+"),vt=n("aLyt"),Pt=n("CBf0"),Rt=n("hCLc"),jt=n("ZtZA"),wt=n("VbQ3"),yt=n("R1A+"),Ft=n("2whj"),Ot=n("L/jJ"),Mt=n("TP0P"),Vt=n("7cA9"),zt=n("UDV5"),St=n("e1Dg"),At=n("zbEP"),xt=n("qvIn"),Gt=n("iVsO");class kt{}var Bt=n("ZCGg"),It=e.xb(a,[],(function(t){return e.Mb([e.Nb(512,e.j,e.bb,[[8,[s.a,K,H.a,J.b,J.a]],[3,e.j],e.y]),e.Nb(4608,f.o,f.n,[e.v]),e.Nb(4608,c.F,c.F,[]),e.Nb(4608,c.h,c.h,[]),e.Nb(5120,e.b,(function(t,l){return[X.j(t,l)]}),[f.d,e.C]),e.Nb(4608,Y.c,Y.c,[Y.i,Y.e,e.j,Y.h,Y.f,e.s,e.A,f.d,W.b,[2,f.i]]),e.Nb(5120,Y.j,Y.k,[Y.c]),e.Nb(5120,$.b,$.c,[Y.c]),e.Nb(135680,$.d,$.d,[Y.c,e.s,[2,f.i],[2,$.a],$.b,[3,$.d],Y.e]),e.Nb(4608,Q.c,Q.c,[]),e.Nb(4608,tt.i,tt.i,[]),e.Nb(5120,tt.a,tt.b,[Y.c]),e.Nb(4608,lt.c,lt.m,[[2,lt.g],nt.a]),e.Nb(4608,et.a,et.a,[]),e.Nb(4608,at.a,at.a,[]),e.Nb(4608,st.a,st.a,[]),e.Nb(4608,ut.a,ut.a,[]),e.Nb(4608,rt.a,rt.a,[]),e.Nb(4608,it.a,it.a,[]),e.Nb(4608,ot.a,ot.a,[]),e.Nb(4608,ct.a,ct.a,[at.a]),e.Nb(4608,bt.a,bt.a,[]),e.Nb(5120,dt.b,dt.c,[Y.c]),e.Nb(1073742336,f.c,f.c,[]),e.Nb(1073742336,gt.p,gt.p,[[2,gt.u],[2,gt.l]]),e.Nb(1073742336,ht,ht,[]),e.Nb(1073742336,c.E,c.E,[]),e.Nb(1073742336,c.o,c.o,[]),e.Nb(1073742336,c.A,c.A,[]),e.Nb(1073742336,W.a,W.a,[]),e.Nb(1073742336,lt.i,lt.i,[mt.j,[2,lt.e],[2,f.d]]),e.Nb(1073742336,nt.b,nt.b,[]),e.Nb(1073742336,lt.l,lt.l,[]),e.Nb(1073742336,Dt.c,Dt.c,[]),e.Nb(1073742336,pt.a,pt.a,[]),e.Nb(1073742336,Ct.a,Ct.a,[]),e.Nb(1073742336,X.c,X.c,[]),e.Nb(1073742336,ft.i,ft.i,[]),e.Nb(1073742336,Nt.b,Nt.b,[]),e.Nb(1073742336,vt.a,vt.a,[]),e.Nb(1073742336,Pt.a,Pt.a,[X.g,e.C]),e.Nb(1073742336,Rt.c,Rt.c,[]),e.Nb(1073742336,jt.f,jt.f,[]),e.Nb(1073742336,wt.c,wt.c,[]),e.Nb(1073742336,Y.g,Y.g,[]),e.Nb(1073742336,$.g,$.g,[]),e.Nb(1073742336,Q.d,Q.d,[]),e.Nb(1073742336,mt.a,mt.a,[mt.j]),e.Nb(1073742336,tt.j,tt.j,[]),e.Nb(1073742336,lt.n,lt.n,[]),e.Nb(1073742336,yt.a,yt.a,[]),e.Nb(1073742336,Ft.a,Ft.a,[]),e.Nb(1073742336,Ot.a,Ot.a,[]),e.Nb(1073742336,Mt.a,Mt.a,[]),e.Nb(1073742336,Vt.a,Vt.a,[]),e.Nb(1073742336,zt.g,zt.g,[]),e.Nb(1073742336,zt.e,zt.e,[]),e.Nb(1073742336,St.a,St.a,[]),e.Nb(1073742336,At.a,At.a,[]),e.Nb(1073742336,xt.c,xt.c,[]),e.Nb(1073742336,Gt.a,Gt.a,[]),e.Nb(1073742336,P.a,P.a,[]),e.Nb(1073742336,kt,kt,[]),e.Nb(1073742336,Bt.b,Bt.b,[]),e.Nb(1073742336,a,a,[]),e.Nb(1024,gt.j,(function(){return[[{path:"",component:_}]]}),[]),e.Nb(256,lt.f,Mt.b,[])])}))}}]);