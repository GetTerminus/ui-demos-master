function _defineProperties(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"7/VV":function(t,e,a){"use strict";a.r(e),a.d(e,"CohortDateRangeModule",(function(){return V}));var r=a("2kYt"),n=a("nIj0"),c=a("EOaC"),i=a("EM62"),o=a("40Bj"),s=a("3z11"),d=a("6VlH"),l=a("yZt1"),u=a("7sjG"),h=a("HRj5");function p(t,e){if(1&t&&(i.Xb(0,"ts-option",3),i.Mc(1),i.Wb()),2&t){var a=e.$implicit;i.qc("value",a)("option",a),i.Db(1),i.Oc(" ",a.display," ")}}var b,g,f=function t(e,a,r){_classCallCheck(this,t),this.start=e,this.end=a,this.source=r},m=0,D=((g=function(){function t(e){_classCallCheck(this,t),this.formBuilder=e,this.customDateCohort={display:"Custom Dates",range:{start:"",end:""}},this.formGroup=this.formBuilder.group({dateRange:this.formBuilder.group({startDate:[""],endDate:[""]}),cohort:new n.g([])}),this.uid="ts-cohort-date-range-".concat(m++),this._allowCustomDates=!0,this._id=this.uid,this.isDisabled=!1,this.cohortDateRangeChanged=new i.o}return _createClass(t,[{key:"ngOnInit",value:function(){this.updateSelectOnRangeChange()}},{key:"ngOnDestroy",value:function(){}},{key:"cohortDateRangeChange",value:function(t){this.cohortDateRangeChanged.emit(new f(t.start,t.end,this))}},{key:"selectionChange",value:function(t){this.setDateRangeValues(t.value[0].range)}},{key:"trackByFn",value:function(t){return t}},{key:"formatter",value:function(t){return t.display}},{key:"setDateRangeValues",value:function(t){var e={startDate:t.start,endDate:t.end};e.startDate&&e.endDate&&(this.dateRangeFormGroup.setValue(e),this.cohortDateRangeChange(t))}},{key:"updateSelectOnRangeChange",value:function(){var t,e=this;null===(t=this.formGroup.get("dateRange"))||void 0===t||t.valueChanges.pipe(Object(h.j)(this)).subscribe((function(t){if(e.cohorts&&e.cohorts.length){var a=Object(u.c)(t.startDate).getTime(),r=Object(u.c)(t.endDate).getTime();0===e.cohorts.filter((function(t){var e=Object(u.c)(t.range.start).getTime(),n=Object(u.c)(t.range.end).getTime();if(a===e&&r===n)return t})).length&&e.cohortControl.setValue([e.customDateCohort])}}))}},{key:"dateRangeFormGroup",get:function(){return this.formGroup.get("dateRange")}},{key:"cohortControl",get:function(){return this.formGroup.get("cohort")}},{key:"allowCustomDates",set:function(t){this._allowCustomDates=t,this.cohorts=this.originalCohorts},get:function(){return this._allowCustomDates}},{key:"cohorts",set:function(t){if(t){this.originalCohorts=t,this._cohorts=t.slice(),this.allowCustomDates&&this._cohorts.push(this.customDateCohort);var e=t.filter((function(t){return t.active}));e.length&&(this.cohortControl.setValue(e),this.setDateRangeValues(e[0].range))}},get:function(){return this._cohorts}},{key:"id",set:function(t){this._id=t||this.uid},get:function(){return this._id}}]),t}()).\u0275fac=function(t){return new(t||g)(i.Rb(n.f))},g.\u0275cmp=i.Lb({type:g,selectors:[["ts-cohort-date-range"]],viewQuery:function(t,e){var a;1&t&&i.Ic(l.a,!0),2&t&&i.yc(a=i.gc())&&(e.selectionListComponent=a.first)},hostAttrs:[1,"ts-cohort-date-range"],hostVars:5,hostBindings:function(t,e){2&t&&(i.ac("id",e.id),i.Eb("disabled",e.isDisabled)("aria-disabled",e.isDisabled),i.Ib("ts-cohort-date-range--disabled",e.isDisabled))},inputs:{isDisabled:"isDisabled",allowCustomDates:"allowCustomDates",cohorts:"cohorts",id:"id",dateLocale:"dateLocale",endMaxDate:"endMaxDate",endMinDate:"endMinDate",startMaxDate:"startMaxDate",startMinDate:"startMinDate"},outputs:{cohortDateRangeChanged:"cohortDateRangeChanged"},exportAs:["tsCohortDateRange"],decls:3,vars:13,consts:[[1,"ts-cohort-date-range__date-range",3,"dateFormGroup","dateLocale","isDisabled","startMinDate","startMaxDate","endMinDate","endMaxDate","dateRangeChange"],["label","Select a date range",1,"ts-cohort-date-range__select",3,"isDisabled","allowUserInput","formControl","displayFormatter","selectionChange"],[3,"value","option",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value","option"]],template:function(t,e){1&t&&(i.Xb(0,"ts-date-range",0),i.fc("dateRangeChange",(function(t){return e.cohortDateRangeChange(t)})),i.Wb(),i.Xb(1,"ts-selection-list",1),i.fc("selectionChange",(function(t){return e.selectionChange(t)})),i.Kc(2,p,2,3,"ts-option",2),i.Wb()),2&t&&(i.qc("dateFormGroup",e.dateRangeFormGroup)("dateLocale",e.dateLocale)("isDisabled",!e.allowCustomDates||e.isDisabled)("startMinDate",e.startMinDate)("startMaxDate",e.startMaxDate)("endMinDate",e.endMinDate)("endMaxDate",e.endMaxDate),i.Db(1),i.qc("isDisabled",e.isDisabled)("allowUserInput",!1)("formControl",e.cohortControl)("displayFormatter",e.formatter),i.Db(1),i.qc("ngForOf",e.cohorts)("ngForTrackBy",e.trackByFn))},directives:[s.a,l.a,n.q,n.h,r.l,d.c],styles:[".ts-cohort-date-range{--cohort-selection-list-minWidth:200px;display:block}.ts-cohort-date-range .ts-selection-list.ts-cohort-date-range__select{display:inline-block;min-width:var(--cohort-selection-list-minWidth)}.ts-date-range.ts-cohort-date-range__date-range{display:inline-block;margin-right:24px}"],encapsulation:2,changeDetection:0}),g),_=((b=function t(){_classCallCheck(this,t)}).\u0275mod=i.Pb({type:b}),b.\u0275inj=i.Ob({factory:function(t){return new(t||b)},imports:[[r.c,o.a,n.y,s.b,d.e,l.b]]}),b),C=a("0Bg5"),x=a("sEIs"),y=a("JuBR"),v=a("mrqE");function w(t){Object(v.a)(1,arguments);var e=Object(y.a)(t);return e.setHours(0,0,0,0),e}var R=a("N1LS");function k(t,e){Object(v.a)(2,arguments);var a=Object(y.a)(t),r=Object(R.a)(e);return a.setDate(a.getDate()+r),a}function M(t,e){Object(v.a)(2,arguments);var a=Object(R.a)(e);return k(t,-a)}function O(t){Object(v.a)(1,arguments);var e=Object(y.a)(t);return e.setHours(23,59,59,999),e}function j(t){Object(v.a)(1,arguments);var e=Object(y.a)(t),a=e.getFullYear(),r=e.getMonth(),n=new Date(0);return n.setFullYear(a,r+1,0),n.setHours(0,0,0,0),n.getDate()}function F(t,e){Object(v.a)(2,arguments);var a=Object(y.a)(t),r=Object(R.a)(e),n=a.getMonth()+r,c=new Date(0);c.setFullYear(a.getFullYear(),n,1),c.setHours(0,0,0,0);var i=j(c);return a.setMonth(n,Math.min(i,a.getDate())),a}function B(t,e){Object(v.a)(2,arguments);var a=Object(R.a)(e);return F(t,-a)}function T(t){Object(v.a)(1,arguments);var e=Object(y.a)(t);return e.setDate(1),e.setHours(0,0,0,0),e}function q(t,e){if(1&t&&(i.Xb(0,"pre"),i.Mc(1),i.Wb()),2&t){var a=i.jc();i.Db(1),i.Pc("    Start: ",a.lastRange.start,"\n    End: ",a.lastRange.end,"\n  ")}}var I,G,W,X=new Date,H=[{path:"",component:(I=function(){function t(e){_classCallCheck(this,t),this.formBuilder=e,this.myForm=this.formBuilder.group({dateRange:this.formBuilder.group({startDate:[null,[n.B.required]],endDate:[null,[n.B.required]]})}),this.constraintForm=this.formBuilder.group({startDateRange:this.formBuilder.group({startDate:[w(M(new Date,120)),[n.B.required]],endDate:[w(M(new Date,1)),[n.B.required]]}),endDateRange:this.formBuilder.group({startDate:[w(M(new Date,119)),[n.B.required]],endDate:[O(new Date),[n.B.required]]})}),this.cohorts=[{display:"Last 90 days",range:{start:w(M(new Date,90)),end:X}},{display:"Last full month",range:{start:w(B(T(X),1)),end:O(M(T(X),1))},active:!0}]}return _createClass(t,[{key:"printRange",value:function(t){this.lastRange=t}}]),t}(),I.\u0275fac=function(t){return new(t||I)(i.Rb(n.f))},I.\u0275cmp=i.Lb({type:I,selectors:[["demo-cohort-date-range"]],decls:15,vars:12,consts:[["tsVerticalSpacing",""],["tsCardTitle","","tsVerticalSpacing",""],["novalidate","",3,"formGroup"],[3,"dateFormGroup"],[3,"cohorts","allowCustomDates","isDisabled","startMinDate","startMaxDate","endMinDate","endMaxDate","cohortDateRangeChanged"],[4,"ngIf"]],template:function(t,e){if(1&t&&(i.Xb(0,"ts-card",0),i.Xb(1,"h3",1),i.Mc(2,"Demo Controls"),i.Wb(),i.Xb(3,"div"),i.Xb(4,"div",0),i.Mc(5,"Start date minimum and maximum"),i.Wb(),i.Xb(6,"form",2),i.Sb(7,"ts-date-range",3),i.Xb(8,"div",0),i.Mc(9,"End date minimum and maximum"),i.Wb(),i.Sb(10,"ts-date-range",3),i.Wb(),i.Wb(),i.Wb(),i.Xb(11,"ts-card"),i.Xb(12,"form",2),i.Xb(13,"ts-cohort-date-range",4),i.fc("cohortDateRangeChanged",(function(t){return e.printRange(t)})),i.Wb(),i.Wb(),i.Kc(14,q,2,2,"pre",5),i.Wb()),2&t){var a=null,r=null,n=null==(a=e.constraintForm.get("startDateRange"))||null==(r=a.get("startDate"))?null:r.value,c=null,o=null,s=null==(c=e.constraintForm.get("startDateRange"))||null==(o=c.get("endDate"))?null:o.value,d=null,l=null,u=null==(d=e.constraintForm.get("endDateRange"))||null==(l=d.get("startDate"))?null:l.value,h=null,p=null,b=null==(h=e.constraintForm.get("endDateRange"))||null==(p=h.get("endDate"))?null:p.value;i.Db(6),i.qc("formGroup",e.constraintForm),i.Db(1),i.qc("dateFormGroup",e.constraintForm.get("startDateRange")),i.Db(3),i.qc("dateFormGroup",e.constraintForm.get("endDateRange")),i.Db(2),i.qc("formGroup",e.myForm),i.Db(1),i.qc("cohorts",e.cohorts)("allowCustomDates",!0)("isDisabled",!1)("startMinDate",n)("startMaxDate",s)("endMinDate",u)("endMaxDate",b),i.Db(1),i.qc("ngIf",e.lastRange)}},directives:[c.a,C.c,c.c,n.D,n.r,n.k,s.a,D,r.m],encapsulation:2}),I)}],L=((W=function t(){_classCallCheck(this,t)}).\u0275mod=i.Pb({type:W}),W.\u0275inj=i.Ob({factory:function(t){return new(t||W)},imports:[[x.f.forChild(H)],x.f]}),W),V=((G=function t(){_classCallCheck(this,t)}).\u0275mod=i.Pb({type:G}),G.\u0275inj=i.Ob({factory:function(t){return new(t||G)},imports:[[r.c,L,n.m,n.y,c.b,_,s.b,C.b]]}),G)},EOaC:function(t,e,a){"use strict";a.d(e,"a",(function(){return b})),a.d(e,"b",(function(){return f})),a.d(e,"c",(function(){return g}));var r=a("2kYt"),n=a("EM62"),c=a("mFH5"),i=a("ZBpG"),o=a("7sjG"),s=a("UkLp");function d(t,e){if(1&t&&n.Tb(0,4),2&t){var a=n.jc();n.qc("ngTemplateOutlet",a.utilityMenuTemplate)}}function l(t,e){1&t&&(n.Xb(0,"ts-icon",5),n.Mc(1,"lock_outline"),n.Wb())}var u=function(t,e,a,r,n,c){return{"c-card--interaction":t,"c-card--centered":e,"c-card--aspect":a,"c-card--disabled":r,"c-card--right-spacing":n,"c-card--flat":c}},h=["*"],p=0,b=function(){var t=function(){function t(){_classCallCheck(this,t),this.uid="ts-card-".concat(p++),this._border="none",this.centeredContent=!1,this.isDisabled=!1,this.flat=!1,this._id=this.uid,this.supportsInteraction=!1,this._theme="primary"}return _createClass(t,[{key:"aspectRatio",set:function(t){var e=parseInt(t.split(":")[0],10),a=parseInt(t.split(":")[1],10);this.aspectRatioPadding="".concat((a/e*100).toFixed(2),"%")}},{key:"border",set:function(t){this._border=t||"none"},get:function(){return this._border}},{key:"id",set:function(t){this._id=t||this.uid},get:function(){return this._id}},{key:"theme",set:function(t){this._theme=t||"primary"},get:function(){return this._theme}},{key:"borderClass",get:function(){return this.border&&"none"!==this.border?"c-card--border-".concat(this.border):""}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Lb({type:t,selectors:[["ts-card"]],hostAttrs:[1,"ts-card"],inputs:{centeredContent:"centeredContent",isDisabled:"isDisabled",flat:"flat",supportsInteraction:"supportsInteraction",aspectRatio:"aspectRatio",border:"border",id:"id",theme:"theme",utilityMenuTemplate:"utilityMenuTemplate"},exportAs:["tsCard"],ngContentSelectors:h,decls:5,vars:18,consts:[[3,"ngClass"],["mat-ripple","",1,"c-card__inner",3,"matRippleDisabled"],[3,"ngTemplateOutlet",4,"ngIf"],["class","c-card__lock qa-card-lock",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"c-card__lock","qa-card-lock"]],template:function(t,e){1&t&&(n.pc(),n.Xb(0,"div",0),n.Xb(1,"div",1),n.oc(2),n.Wb(),n.Kc(3,d,1,1,"ng-container",2),n.Kc(4,l,2,0,"ts-icon",3),n.Wb()),2&t&&(n.Hb("c-card qa-card ",e.borderClass," c-card--",e.theme,""),n.Jc("padding-top",e.aspectRatioPadding),n.qc("ngClass",n.xc(11,u,e.supportsInteraction,e.centeredContent,e.aspectRatioPadding,e.isDisabled,e.utilityMenuTemplate||e.isDisabled,e.flat)),n.Eb("id",e.id),n.Db(1),n.qc("matRippleDisabled",!e.supportsInteraction||e.isDisabled),n.Db(2),n.qc("ngIf",e.utilityMenuTemplate),n.Db(1),n.qc("ngIf",e.isDisabled&&!e.utilityMenuTemplate))},directives:[r.k,c.o,r.m,r.r,i.a],styles:[".ts-card{display:flex;flex-flow:row nowrap}.ts-card :not(.mat-form-field-label-wrapper){box-sizing:border-box}.ts-card h1,.ts-card h2,.ts-card h3,.ts-card h4,.ts-card h5,.ts-card p{margin:unset}.ts-card .c-card{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;letter-spacing:.01em;font-weight:400;background-color:#fafafa;position:relative;transition:height .2s;width:100%}.ts-card .c-card:not(.c-button):not(.c-input):not(.c-select):not(.ts-checkbox){line-height:20px}.ts-card .c-card:not(.c-card--aspect),.ts-card .c-card:not(.c-card--interaction){align-items:stretch;display:flex;flex-direction:row;justify-content:center}.c-card .c-card__inner{min-height:calc(100% - 48px);padding:24px;vertical-align:top;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);position:relative;width:100%}.c-card .c-card__inner .c-card__title{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:20px;font-weight:500;letter-spacing:.005em}.c-card .c-card__inner .c-card__title-accent-border{border-left:2px solid #00538a;padding-left:8px}.c-card .c-card__inner .c-card__title-accent-border[theme=accent]{border-left-color:#2f854d}.c-card .c-card__inner .c-card__title-accent-border[theme=warn]{border-left-color:#c8604d}.c-card--interaction:not(.c-card--disabled) .c-card__inner{min-height:calc(100% - 48px);padding:24px;vertical-align:top;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);transition:box-shadow 250ms cubic-bezier(.4,0,.2,1);cursor:pointer}.c-card--interaction:not(.c-card--disabled) .c-card__inner:hover{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.c-card--interaction:not(.c-card--disabled) .c-card__inner .c-card__title{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:20px;font-weight:500;letter-spacing:.005em}.c-card--centered .c-card__inner{align-items:center;display:flex;justify-content:center}.c-card--aspect .c-card__inner{bottom:0;left:0;position:absolute;right:0;top:0}.c-card--disabled .c-card__inner{opacity:.5}.c-card--disabled .c-menu{opacity:.3;pointer-events:none}.c-card--disabled .c-card__lock{color:#999;position:absolute;right:24px;top:calc(24px - 2px);transform:scale(.7)}.c-card--right-spacing .c-card__inner{padding-right:56px}.c-card--flat>.c-card__inner{border:1px solid #cecdd1;box-shadow:none}.c-card--border-bottom.c-card--primary .c-card__inner{border-bottom:2px solid #00538a}.c-card--border-bottom.c-card--accent .c-card__inner{border-bottom:2px solid #2f854d}.c-card--border-bottom.c-card--warn .c-card__inner{border-bottom:2px solid #c8604d}.c-card--border-left.c-card--primary .c-card__inner{border-left:2px solid #00538a}.c-card--border-left.c-card--accent .c-card__inner{border-left:2px solid #2f854d}.c-card--border-left.c-card--warn .c-card__inner{border-left:2px solid #c8604d}.c-card--border-right.c-card--primary .c-card__inner{border-right:2px solid #00538a}.c-card--border-right.c-card--accent .c-card__inner{border-right:2px solid #2f854d}.c-card--border-right.c-card--warn .c-card__inner{border-right:2px solid #c8604d}.c-card--border-top.c-card--primary .c-card__inner{border-top:2px solid #00538a}.c-card--border-top.c-card--accent .c-card__inner{border-top:2px solid #2f854d}.c-card--border-top.c-card--warn .c-card__inner{border-top:2px solid #c8604d}.c-card__inner .ts-table~.ts-loading-overlay .c-loading-overlay{left:-24px;right:-24px}"],encapsulation:2,changeDetection:0}),t}(),g=function(){var t=function(){function t(e){if(_classCallCheck(this,t),this.theme="primary",this.tsCardTitle="c-card__title",!(e instanceof b)&&Object(n.X)())throw new s.c("The 'tsCardTitle' directive must be inside a <ts-card> component.")}return _createClass(t,[{key:"tsTitleAccentBorder",set:function(t){Object(o.b)(t)&&(this.tsCardTitle="".concat(this.tsCardTitle," c-card__title-accent-border"))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(n.Rb(b,13))},t.\u0275dir=n.Mb({type:t,selectors:[["","tsCardTitle",""]],hostVars:2,hostBindings:function(t,e){2&t&&n.Fb(e.tsCardTitle)},inputs:{theme:"theme",tsTitleAccentBorder:"tsTitleAccentBorder"}}),t}(),f=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=n.Pb({type:t}),t.\u0275inj=n.Ob({factory:function(e){return new(e||t)},imports:[[r.c,c.p,i.b]]}),t}()}}]);