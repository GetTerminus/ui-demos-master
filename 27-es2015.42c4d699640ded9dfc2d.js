(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"7/VV":function(t,e,r){"use strict";r.r(e),r.d(e,"CohortDateRangeModule",(function(){return G}));var a=r("2kYt"),n=r("nIj0"),c=r("EOaC"),o=r("EM62"),i=r("40Bj"),s=r("3z11"),d=r("6VlH"),l=r("yZt1"),u=r("7sjG"),h=r("HRj5");function p(t,e){if(1&t&&(o.Xb(0,"ts-option",3),o.Mc(1),o.Wb()),2&t){const t=e.$implicit;o.qc("value",t)("option",t),o.Db(1),o.Oc(" ",t.display," ")}}class b{constructor(t,e,r){this.start=t,this.end=e,this.source=r}}let g=0,m=(()=>{let t=class{constructor(t){this.formBuilder=t,this.customDateCohort={display:"Custom Dates",range:{start:"",end:""}},this.formGroup=this.formBuilder.group({dateRange:this.formBuilder.group({startDate:[""],endDate:[""]}),cohort:new n.g([])}),this.uid=`ts-cohort-date-range-${g++}`,this._allowCustomDates=!0,this._id=this.uid,this.isDisabled=!1,this.cohortDateRangeChanged=new o.o}get dateRangeFormGroup(){return this.formGroup.get("dateRange")}get cohortControl(){return this.formGroup.get("cohort")}set allowCustomDates(t){this._allowCustomDates=t,this.cohorts=this.originalCohorts}get allowCustomDates(){return this._allowCustomDates}set cohorts(t){if(!t)return;this.originalCohorts=t,this._cohorts=t.slice(),this.allowCustomDates&&this._cohorts.push(this.customDateCohort);const e=t.filter(t=>t.active);e.length&&(this.cohortControl.setValue(e),this.setDateRangeValues(e[0].range))}get cohorts(){return this._cohorts}set id(t){this._id=t||this.uid}get id(){return this._id}ngOnInit(){this.updateSelectOnRangeChange()}ngOnDestroy(){}cohortDateRangeChange(t){this.cohortDateRangeChanged.emit(new b(t.start,t.end,this))}selectionChange(t){this.setDateRangeValues(t.value[0].range)}trackByFn(t){return t}formatter(t){return t.display}setDateRangeValues(t){const e={startDate:t.start,endDate:t.end};e.startDate&&e.endDate&&(this.dateRangeFormGroup.setValue(e),this.cohortDateRangeChange(t))}updateSelectOnRangeChange(){var t;null===(t=this.formGroup.get("dateRange"))||void 0===t||t.valueChanges.pipe(Object(h.j)(this)).subscribe(t=>{if(!this.cohorts||!this.cohorts.length)return;const e=Object(u.c)(t.startDate).getTime(),r=Object(u.c)(t.endDate).getTime();0===this.cohorts.filter(t=>{const a=Object(u.c)(t.range.start).getTime(),n=Object(u.c)(t.range.end).getTime();if(e===a&&r===n)return t}).length&&this.cohortControl.setValue([this.customDateCohort])})}};return t.\u0275fac=function(e){return new(e||t)(o.Rb(n.f))},t.\u0275cmp=o.Lb({type:t,selectors:[["ts-cohort-date-range"]],viewQuery:function(t,e){var r;1&t&&o.Ic(l.a,!0),2&t&&o.yc(r=o.gc())&&(e.selectionListComponent=r.first)},hostAttrs:[1,"ts-cohort-date-range"],hostVars:5,hostBindings:function(t,e){2&t&&(o.ac("id",e.id),o.Eb("disabled",e.isDisabled)("aria-disabled",e.isDisabled),o.Ib("ts-cohort-date-range--disabled",e.isDisabled))},inputs:{isDisabled:"isDisabled",allowCustomDates:"allowCustomDates",cohorts:"cohorts",id:"id",dateLocale:"dateLocale",endMaxDate:"endMaxDate",endMinDate:"endMinDate",startMaxDate:"startMaxDate",startMinDate:"startMinDate"},outputs:{cohortDateRangeChanged:"cohortDateRangeChanged"},exportAs:["tsCohortDateRange"],decls:3,vars:13,consts:[[1,"ts-cohort-date-range__date-range",3,"dateFormGroup","dateLocale","isDisabled","startMinDate","startMaxDate","endMinDate","endMaxDate","dateRangeChange"],["label","Select a date range",1,"ts-cohort-date-range__select",3,"isDisabled","allowUserInput","formControl","displayFormatter","selectionChange"],[3,"value","option",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value","option"]],template:function(t,e){1&t&&(o.Xb(0,"ts-date-range",0),o.fc("dateRangeChange",(function(t){return e.cohortDateRangeChange(t)})),o.Wb(),o.Xb(1,"ts-selection-list",1),o.fc("selectionChange",(function(t){return e.selectionChange(t)})),o.Kc(2,p,2,3,"ts-option",2),o.Wb()),2&t&&(o.qc("dateFormGroup",e.dateRangeFormGroup)("dateLocale",e.dateLocale)("isDisabled",!e.allowCustomDates||e.isDisabled)("startMinDate",e.startMinDate)("startMaxDate",e.startMaxDate)("endMinDate",e.endMinDate)("endMaxDate",e.endMaxDate),o.Db(1),o.qc("isDisabled",e.isDisabled)("allowUserInput",!1)("formControl",e.cohortControl)("displayFormatter",e.formatter),o.Db(1),o.qc("ngForOf",e.cohorts)("ngForTrackBy",e.trackByFn))},directives:[s.a,l.a,n.q,n.h,a.l,d.c],styles:[".ts-cohort-date-range{--cohort-selection-list-minWidth:200px;display:block}.ts-cohort-date-range .ts-selection-list.ts-cohort-date-range__select{display:inline-block;min-width:var(--cohort-selection-list-minWidth)}.ts-date-range.ts-cohort-date-range__date-range{display:inline-block;margin-right:24px}"],encapsulation:2,changeDetection:0}),t})(),f=(()=>{let t=class{};return t.\u0275mod=o.Pb({type:t}),t.\u0275inj=o.Ob({factory:function(e){return new(e||t)},imports:[[a.c,i.a,n.y,s.b,d.e,l.b]]}),t})();var D=r("0Bg5"),_=r("sEIs"),x=r("JuBR"),C=r("mrqE");function w(t){Object(C.a)(1,arguments);var e=Object(x.a)(t);return e.setHours(0,0,0,0),e}var y=r("N1LS");function v(t,e){Object(C.a)(2,arguments);var r=Object(x.a)(t),a=Object(y.a)(e);return r.setDate(r.getDate()+a),r}function R(t,e){Object(C.a)(2,arguments);var r=Object(y.a)(e);return v(t,-r)}function M(t){Object(C.a)(1,arguments);var e=Object(x.a)(t);return e.setHours(23,59,59,999),e}function O(t){Object(C.a)(1,arguments);var e=Object(x.a)(t),r=e.getFullYear(),a=e.getMonth(),n=new Date(0);return n.setFullYear(r,a+1,0),n.setHours(0,0,0,0),n.getDate()}function j(t,e){Object(C.a)(2,arguments);var r=Object(x.a)(t),a=Object(y.a)(e),n=r.getMonth()+a,c=new Date(0);c.setFullYear(r.getFullYear(),n,1),c.setHours(0,0,0,0);var o=O(c);return r.setMonth(n,Math.min(o,r.getDate())),r}function F(t,e){Object(C.a)(2,arguments);var r=Object(y.a)(e);return j(t,-r)}function B(t){Object(C.a)(1,arguments);var e=Object(x.a)(t);return e.setDate(1),e.setHours(0,0,0,0),e}function T(t,e){if(1&t&&(o.Xb(0,"pre"),o.Mc(1),o.Wb()),2&t){const t=o.jc();o.Db(1),o.Pc("    Start: ",t.lastRange.start,"\n    End: ",t.lastRange.end,"\n  ")}}const q=new Date,k=[{path:"",component:(()=>{class t{constructor(t){this.formBuilder=t,this.myForm=this.formBuilder.group({dateRange:this.formBuilder.group({startDate:[null,[n.B.required]],endDate:[null,[n.B.required]]})}),this.constraintForm=this.formBuilder.group({startDateRange:this.formBuilder.group({startDate:[w(R(new Date,120)),[n.B.required]],endDate:[w(R(new Date,1)),[n.B.required]]}),endDateRange:this.formBuilder.group({startDate:[w(R(new Date,119)),[n.B.required]],endDate:[M(new Date),[n.B.required]]})}),this.cohorts=[{display:"Last 90 days",range:{start:w(R(new Date,90)),end:q}},{display:"Last full month",range:{start:w(F(B(q),1)),end:M(R(B(q),1))},active:!0}]}printRange(t){this.lastRange=t}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(n.f))},t.\u0275cmp=o.Lb({type:t,selectors:[["demo-cohort-date-range"]],decls:15,vars:12,consts:[["tsVerticalSpacing",""],["tsCardTitle","","tsVerticalSpacing",""],["novalidate","",3,"formGroup"],[3,"dateFormGroup"],[3,"cohorts","allowCustomDates","isDisabled","startMinDate","startMaxDate","endMinDate","endMaxDate","cohortDateRangeChanged"],[4,"ngIf"]],template:function(t,e){if(1&t&&(o.Xb(0,"ts-card",0),o.Xb(1,"h3",1),o.Mc(2,"Demo Controls"),o.Wb(),o.Xb(3,"div"),o.Xb(4,"div",0),o.Mc(5,"Start date minimum and maximum"),o.Wb(),o.Xb(6,"form",2),o.Sb(7,"ts-date-range",3),o.Xb(8,"div",0),o.Mc(9,"End date minimum and maximum"),o.Wb(),o.Sb(10,"ts-date-range",3),o.Wb(),o.Wb(),o.Wb(),o.Xb(11,"ts-card"),o.Xb(12,"form",2),o.Xb(13,"ts-cohort-date-range",4),o.fc("cohortDateRangeChanged",(function(t){return e.printRange(t)})),o.Wb(),o.Wb(),o.Kc(14,T,2,2,"pre",5),o.Wb()),2&t){var r=null,a=null;const t=null==(r=e.constraintForm.get("startDateRange"))||null==(a=r.get("startDate"))?null:a.value;var n=null,c=null;const u=null==(n=e.constraintForm.get("startDateRange"))||null==(c=n.get("endDate"))?null:c.value;var i=null,s=null;const h=null==(i=e.constraintForm.get("endDateRange"))||null==(s=i.get("startDate"))?null:s.value;var d=null,l=null;const p=null==(d=e.constraintForm.get("endDateRange"))||null==(l=d.get("endDate"))?null:l.value;o.Db(6),o.qc("formGroup",e.constraintForm),o.Db(1),o.qc("dateFormGroup",e.constraintForm.get("startDateRange")),o.Db(3),o.qc("dateFormGroup",e.constraintForm.get("endDateRange")),o.Db(2),o.qc("formGroup",e.myForm),o.Db(1),o.qc("cohorts",e.cohorts)("allowCustomDates",!0)("isDisabled",!1)("startMinDate",t)("startMaxDate",u)("endMinDate",h)("endMaxDate",p),o.Db(1),o.qc("ngIf",e.lastRange)}},directives:[c.a,D.c,c.c,n.D,n.r,n.k,s.a,m,a.m],encapsulation:2}),t})()}];let I=(()=>{class t{}return t.\u0275mod=o.Pb({type:t}),t.\u0275inj=o.Ob({factory:function(e){return new(e||t)},imports:[[_.f.forChild(k)],_.f]}),t})(),G=(()=>{class t{}return t.\u0275mod=o.Pb({type:t}),t.\u0275inj=o.Ob({factory:function(e){return new(e||t)},imports:[[a.c,I,n.m,n.y,c.b,f,s.b,D.b]]}),t})()},EOaC:function(t,e,r){"use strict";r.d(e,"a",(function(){return b})),r.d(e,"b",(function(){return m})),r.d(e,"c",(function(){return g}));var a=r("2kYt"),n=r("EM62"),c=r("mFH5"),o=r("ZBpG"),i=r("7sjG"),s=r("UkLp");function d(t,e){if(1&t&&n.Tb(0,4),2&t){const t=n.jc();n.qc("ngTemplateOutlet",t.utilityMenuTemplate)}}function l(t,e){1&t&&(n.Xb(0,"ts-icon",5),n.Mc(1,"lock_outline"),n.Wb())}const u=function(t,e,r,a,n,c){return{"c-card--interaction":t,"c-card--centered":e,"c-card--aspect":r,"c-card--disabled":a,"c-card--right-spacing":n,"c-card--flat":c}},h=["*"];let p=0,b=(()=>{let t=class{constructor(){this.uid=`ts-card-${p++}`,this._border="none",this.centeredContent=!1,this.isDisabled=!1,this.flat=!1,this._id=this.uid,this.supportsInteraction=!1,this._theme="primary"}set aspectRatio(t){const e=parseInt(t.split(":")[0],10),r=parseInt(t.split(":")[1],10);this.aspectRatioPadding=`${(r/e*100).toFixed(2)}%`}set border(t){this._border=t||"none"}get border(){return this._border}set id(t){this._id=t||this.uid}get id(){return this._id}set theme(t){this._theme=t||"primary"}get theme(){return this._theme}get borderClass(){return this.border&&"none"!==this.border?`c-card--border-${this.border}`:""}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Lb({type:t,selectors:[["ts-card"]],hostAttrs:[1,"ts-card"],inputs:{centeredContent:"centeredContent",isDisabled:"isDisabled",flat:"flat",supportsInteraction:"supportsInteraction",aspectRatio:"aspectRatio",border:"border",id:"id",theme:"theme",utilityMenuTemplate:"utilityMenuTemplate"},exportAs:["tsCard"],ngContentSelectors:h,decls:5,vars:18,consts:[[3,"ngClass"],["mat-ripple","",1,"c-card__inner",3,"matRippleDisabled"],[3,"ngTemplateOutlet",4,"ngIf"],["class","c-card__lock qa-card-lock",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"c-card__lock","qa-card-lock"]],template:function(t,e){1&t&&(n.pc(),n.Xb(0,"div",0),n.Xb(1,"div",1),n.oc(2),n.Wb(),n.Kc(3,d,1,1,"ng-container",2),n.Kc(4,l,2,0,"ts-icon",3),n.Wb()),2&t&&(n.Hb("c-card qa-card ",e.borderClass," c-card--",e.theme,""),n.Jc("padding-top",e.aspectRatioPadding),n.qc("ngClass",n.xc(11,u,e.supportsInteraction,e.centeredContent,e.aspectRatioPadding,e.isDisabled,e.utilityMenuTemplate||e.isDisabled,e.flat)),n.Eb("id",e.id),n.Db(1),n.qc("matRippleDisabled",!e.supportsInteraction||e.isDisabled),n.Db(2),n.qc("ngIf",e.utilityMenuTemplate),n.Db(1),n.qc("ngIf",e.isDisabled&&!e.utilityMenuTemplate))},directives:[a.k,c.o,a.m,a.r,o.a],styles:[".ts-card{display:flex;flex-flow:row nowrap}.ts-card :not(.mat-form-field-label-wrapper){box-sizing:border-box}.ts-card h1,.ts-card h2,.ts-card h3,.ts-card h4,.ts-card h5,.ts-card p{margin:unset}.ts-card .c-card{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;letter-spacing:.01em;font-weight:400;background-color:#fafafa;position:relative;transition:height .2s;width:100%}.ts-card .c-card:not(.c-button):not(.c-input):not(.c-select):not(.ts-checkbox){line-height:20px}.ts-card .c-card:not(.c-card--aspect),.ts-card .c-card:not(.c-card--interaction){align-items:stretch;display:flex;flex-direction:row;justify-content:center}.c-card .c-card__inner{min-height:calc(100% - 48px);padding:24px;vertical-align:top;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);position:relative;width:100%}.c-card .c-card__inner .c-card__title{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:20px;font-weight:500;letter-spacing:.005em}.c-card .c-card__inner .c-card__title-accent-border{border-left:2px solid #00538a;padding-left:8px}.c-card .c-card__inner .c-card__title-accent-border[theme=accent]{border-left-color:#2f854d}.c-card .c-card__inner .c-card__title-accent-border[theme=warn]{border-left-color:#c8604d}.c-card--interaction:not(.c-card--disabled) .c-card__inner{min-height:calc(100% - 48px);padding:24px;vertical-align:top;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);transition:box-shadow 250ms cubic-bezier(.4,0,.2,1);cursor:pointer}.c-card--interaction:not(.c-card--disabled) .c-card__inner:hover{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.c-card--interaction:not(.c-card--disabled) .c-card__inner .c-card__title{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:20px;font-weight:500;letter-spacing:.005em}.c-card--centered .c-card__inner{align-items:center;display:flex;justify-content:center}.c-card--aspect .c-card__inner{bottom:0;left:0;position:absolute;right:0;top:0}.c-card--disabled .c-card__inner{opacity:.5}.c-card--disabled .c-menu{opacity:.3;pointer-events:none}.c-card--disabled .c-card__lock{color:#999;position:absolute;right:24px;top:calc(24px - 2px);transform:scale(.7)}.c-card--right-spacing .c-card__inner{padding-right:56px}.c-card--flat>.c-card__inner{border:1px solid #cecdd1;box-shadow:none}.c-card--border-bottom.c-card--primary .c-card__inner{border-bottom:2px solid #00538a}.c-card--border-bottom.c-card--accent .c-card__inner{border-bottom:2px solid #2f854d}.c-card--border-bottom.c-card--warn .c-card__inner{border-bottom:2px solid #c8604d}.c-card--border-left.c-card--primary .c-card__inner{border-left:2px solid #00538a}.c-card--border-left.c-card--accent .c-card__inner{border-left:2px solid #2f854d}.c-card--border-left.c-card--warn .c-card__inner{border-left:2px solid #c8604d}.c-card--border-right.c-card--primary .c-card__inner{border-right:2px solid #00538a}.c-card--border-right.c-card--accent .c-card__inner{border-right:2px solid #2f854d}.c-card--border-right.c-card--warn .c-card__inner{border-right:2px solid #c8604d}.c-card--border-top.c-card--primary .c-card__inner{border-top:2px solid #00538a}.c-card--border-top.c-card--accent .c-card__inner{border-top:2px solid #2f854d}.c-card--border-top.c-card--warn .c-card__inner{border-top:2px solid #c8604d}.c-card__inner .ts-table~.ts-loading-overlay .c-loading-overlay{left:-24px;right:-24px}"],encapsulation:2,changeDetection:0}),t})(),g=(()=>{let t=class{constructor(t){if(this.theme="primary",this.tsCardTitle="c-card__title",!(t instanceof b)&&Object(n.X)())throw new s.c("The 'tsCardTitle' directive must be inside a <ts-card> component.")}set tsTitleAccentBorder(t){Object(i.b)(t)&&(this.tsCardTitle=`${this.tsCardTitle} c-card__title-accent-border`)}};return t.\u0275fac=function(e){return new(e||t)(n.Rb(b,13))},t.\u0275dir=n.Mb({type:t,selectors:[["","tsCardTitle",""]],hostVars:2,hostBindings:function(t,e){2&t&&n.Fb(e.tsCardTitle)},inputs:{theme:"theme",tsTitleAccentBorder:"tsTitleAccentBorder"}}),t})(),m=(()=>{let t=class{};return t.\u0275mod=n.Pb({type:t}),t.\u0275inj=n.Ob({factory:function(e){return new(e||t)},imports:[[a.c,c.p,o.b]]}),t})()}}]);