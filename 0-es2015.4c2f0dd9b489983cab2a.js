(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{EOaC:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return f})),i.d(t,"c",(function(){return b}));var s=i("2kYt"),n=i("EM62"),c=i("mFH5"),o=i("ZBpG"),r=i("7sjG"),l=i("UkLp");function a(e,t){if(1&e&&n.Tb(0,4),2&e){const e=n.jc();n.qc("ngTemplateOutlet",e.utilityMenuTemplate)}}function d(e,t){1&e&&(n.Xb(0,"ts-icon",5),n.Mc(1,"lock_outline"),n.Wb())}const h=function(e,t,i,s,n,c){return{"c-card--interaction":e,"c-card--centered":t,"c-card--aspect":i,"c-card--disabled":s,"c-card--right-spacing":n,"c-card--flat":c}},p=["*"];let g=0,u=(()=>{let e=class{constructor(){this.uid=`ts-card-${g++}`,this._border="none",this.centeredContent=!1,this.isDisabled=!1,this.flat=!1,this._id=this.uid,this.supportsInteraction=!1,this._theme="primary"}set aspectRatio(e){const t=parseInt(e.split(":")[0],10),i=parseInt(e.split(":")[1],10);this.aspectRatioPadding=`${(i/t*100).toFixed(2)}%`}set border(e){this._border=e||"none"}get border(){return this._border}set id(e){this._id=e||this.uid}get id(){return this._id}set theme(e){this._theme=e||"primary"}get theme(){return this._theme}get borderClass(){return this.border&&"none"!==this.border?`c-card--border-${this.border}`:""}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Lb({type:e,selectors:[["ts-card"]],hostAttrs:[1,"ts-card"],inputs:{centeredContent:"centeredContent",isDisabled:"isDisabled",flat:"flat",supportsInteraction:"supportsInteraction",aspectRatio:"aspectRatio",border:"border",id:"id",theme:"theme",utilityMenuTemplate:"utilityMenuTemplate"},exportAs:["tsCard"],ngContentSelectors:p,decls:5,vars:18,consts:[[3,"ngClass"],["mat-ripple","",1,"c-card__inner",3,"matRippleDisabled"],[3,"ngTemplateOutlet",4,"ngIf"],["class","c-card__lock qa-card-lock",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"c-card__lock","qa-card-lock"]],template:function(e,t){1&e&&(n.pc(),n.Xb(0,"div",0),n.Xb(1,"div",1),n.oc(2),n.Wb(),n.Kc(3,a,1,1,"ng-container",2),n.Kc(4,d,2,0,"ts-icon",3),n.Wb()),2&e&&(n.Hb("c-card qa-card ",t.borderClass," c-card--",t.theme,""),n.Jc("padding-top",t.aspectRatioPadding),n.qc("ngClass",n.xc(11,h,t.supportsInteraction,t.centeredContent,t.aspectRatioPadding,t.isDisabled,t.utilityMenuTemplate||t.isDisabled,t.flat)),n.Eb("id",t.id),n.Db(1),n.qc("matRippleDisabled",!t.supportsInteraction||t.isDisabled),n.Db(2),n.qc("ngIf",t.utilityMenuTemplate),n.Db(1),n.qc("ngIf",t.isDisabled&&!t.utilityMenuTemplate))},directives:[s.k,c.o,s.m,s.r,o.a],styles:[".ts-card{display:flex;flex-flow:row nowrap}.ts-card :not(.mat-form-field-label-wrapper){box-sizing:border-box}.ts-card h1,.ts-card h2,.ts-card h3,.ts-card h4,.ts-card h5,.ts-card p{margin:unset}.ts-card .c-card{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;letter-spacing:.01em;font-weight:400;background-color:#fafafa;position:relative;transition:height .2s;width:100%}.ts-card .c-card:not(.c-button):not(.c-input):not(.c-select):not(.ts-checkbox){line-height:20px}.ts-card .c-card:not(.c-card--aspect),.ts-card .c-card:not(.c-card--interaction){align-items:stretch;display:flex;flex-direction:row;justify-content:center}.c-card .c-card__inner{min-height:calc(100% - 48px);padding:24px;vertical-align:top;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);position:relative;width:100%}.c-card .c-card__inner .c-card__title{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:20px;font-weight:500;letter-spacing:.005em}.c-card .c-card__inner .c-card__title-accent-border{border-left:2px solid #00538a;padding-left:8px}.c-card .c-card__inner .c-card__title-accent-border[theme=accent]{border-left-color:#2f854d}.c-card .c-card__inner .c-card__title-accent-border[theme=warn]{border-left-color:#c8604d}.c-card--interaction:not(.c-card--disabled) .c-card__inner{min-height:calc(100% - 48px);padding:24px;vertical-align:top;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);transition:box-shadow 250ms cubic-bezier(.4,0,.2,1);cursor:pointer}.c-card--interaction:not(.c-card--disabled) .c-card__inner:hover{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.c-card--interaction:not(.c-card--disabled) .c-card__inner .c-card__title{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:20px;font-weight:500;letter-spacing:.005em}.c-card--centered .c-card__inner{align-items:center;display:flex;justify-content:center}.c-card--aspect .c-card__inner{bottom:0;left:0;position:absolute;right:0;top:0}.c-card--disabled .c-card__inner{opacity:.5}.c-card--disabled .c-menu{opacity:.3;pointer-events:none}.c-card--disabled .c-card__lock{color:#999;position:absolute;right:24px;top:calc(24px - 2px);transform:scale(.7)}.c-card--right-spacing .c-card__inner{padding-right:56px}.c-card--flat>.c-card__inner{border:1px solid #cecdd1;box-shadow:none}.c-card--border-bottom.c-card--primary .c-card__inner{border-bottom:2px solid #00538a}.c-card--border-bottom.c-card--accent .c-card__inner{border-bottom:2px solid #2f854d}.c-card--border-bottom.c-card--warn .c-card__inner{border-bottom:2px solid #c8604d}.c-card--border-left.c-card--primary .c-card__inner{border-left:2px solid #00538a}.c-card--border-left.c-card--accent .c-card__inner{border-left:2px solid #2f854d}.c-card--border-left.c-card--warn .c-card__inner{border-left:2px solid #c8604d}.c-card--border-right.c-card--primary .c-card__inner{border-right:2px solid #00538a}.c-card--border-right.c-card--accent .c-card__inner{border-right:2px solid #2f854d}.c-card--border-right.c-card--warn .c-card__inner{border-right:2px solid #c8604d}.c-card--border-top.c-card--primary .c-card__inner{border-top:2px solid #00538a}.c-card--border-top.c-card--accent .c-card__inner{border-top:2px solid #2f854d}.c-card--border-top.c-card--warn .c-card__inner{border-top:2px solid #c8604d}.c-card__inner .ts-table~.ts-loading-overlay .c-loading-overlay{left:-24px;right:-24px}"],encapsulation:2,changeDetection:0}),e})(),b=(()=>{let e=class{constructor(e){if(this.theme="primary",this.tsCardTitle="c-card__title",!(e instanceof u)&&Object(n.X)())throw new l.c("The 'tsCardTitle' directive must be inside a <ts-card> component.")}set tsTitleAccentBorder(e){Object(r.b)(e)&&(this.tsCardTitle=`${this.tsCardTitle} c-card__title-accent-border`)}};return e.\u0275fac=function(t){return new(t||e)(n.Rb(u,13))},e.\u0275dir=n.Mb({type:e,selectors:[["","tsCardTitle",""]],hostVars:2,hostBindings:function(e,t){2&e&&n.Fb(t.tsCardTitle)},inputs:{theme:"theme",tsTitleAccentBorder:"tsTitleAccentBorder"}}),e})(),f=(()=>{let e=class{};return e.\u0275mod=n.Pb({type:e}),e.\u0275inj=n.Ob({factory:function(t){return new(t||e)},imports:[[s.c,c.p,o.b]]}),e})()},MJ8w:function(e,t,i){"use strict";i.d(t,"a",(function(){return ge})),i.d(t,"b",(function(){return ue})),i.d(t,"c",(function(){return oe}));var s=i("HYj3"),n=i("2kYt"),c=i("EM62"),o=i("40Bj"),r=i("nIj0"),l=i("fAiE"),a=i("mFH5"),d=(i("5XID"),i("ZTXN")),h=i("g6G6"),p=i("J+dc"),g=i("kuMc"),u=i("jIqt"),b=(i("5lCh"),i("sg/T")),f=i("cqs0");i("29Wa"),i("cZZj"),i("E5oP");const m=new c.r("mat-chips-default-options"),v={separatorKeyCodes:[l.f]};let O=(()=>{class e{}return e.\u0275mod=c.Pb({type:e}),e.\u0275inj=c.Ob({factory:function(t){return new(t||e)},providers:[a.d,{provide:m,useValue:v}]}),e})();var w=i("csyo"),y=i("DN/S"),_=i("L1KC"),x=i("ZBpG"),C=i("7WWT"),R=i("6VlH"),M=i("JxaZ"),k=i("+Tre"),D=i("7sjG"),j=i("h9lW"),S=i("RmZO"),I=i("HRj5"),q=i("0Bg5"),T=i("i9xl"),W=i("C05f"),A=i("f7+R"),V=i("qvOF"),E=i("AW5y");const H=["*"],K=["input"],P=["labelElement"],z=["trigger"],X=["panel"];function Y(e,t){if(1&e&&(c.Xb(0,"ts-label"),c.Mc(1),c.Wb()),2&e){const e=c.jc();c.Db(1),c.Oc(" ",e.label," ")}}function F(e,t){if(1&e&&(c.Xb(0,"span",12),c.Mc(1),c.Wb()),2&e){const e=c.jc();c.Db(1),c.Oc(" ",e.placeholder||"\xa0"," ")}}function B(e,t){if(1&e&&(c.Xb(0,"span"),c.Mc(1),c.Wb()),2&e){const e=c.jc(2);c.Eb("title",e.selectTriggerValue),c.Db(1),c.Oc(" ",e.selectTriggerValue||"\xa0"," ")}}function N(e,t){1&e&&c.oc(0,0,["*ngSwitchCase","true"])}function G(e,t){if(1&e&&(c.Xb(0,"span",13),c.Kc(1,B,2,2,"span",14),c.Kc(2,N,1,0,void 0,15),c.Wb()),2&e){const e=c.jc();c.qc("ngSwitch",!!e.customTrigger),c.Db(2),c.qc("ngSwitchCase",!0)}}function L(e,t){if(1&e){const e=c.Yb();c.Xb(0,"div",23),c.Xb(1,"ts-input",24),c.fc("ngModelChange",(function(t){return c.Dc(e),c.jc(2).queryChange.emit(t)})),c.Wb(),c.Wb()}if(2&e){const e=c.jc(2);c.Db(1),c.qc("ngModel",e.searchQuery)}}function Z(e,t){if(1&e&&(c.Xb(0,"span",28),c.Mc(1),c.Wb()),2&e){const e=c.jc(3);c.Db(1),c.Oc(" ",null==e.selectionModel?null:e.selectionModel.selected.length," selected ")}}function $(e,t){if(1&e){const e=c.Yb();c.Xb(0,"div",25),c.fc("click",(function(){return c.Dc(e),c.jc(2).toggleAllOptions()})),c.Xb(1,"ts-checkbox",26),c.Mc(2),c.Kc(3,Z,2,1,"span",27),c.Wb(),c.Wb()}if(2&e){const e=c.jc(2);c.Db(1),c.qc("isChecked",e.allOptionsSelected)("isIndeterminate",e.someOptionsSelected),c.Db(1),c.Oc(" ",e.someOptionsSelected?"Deselect":"Select"," All "),c.Db(1),c.qc("ngIf",null==e.selectionModel?null:e.selectionModel.selected.length)}}function J(e,t){}function U(e,t){1&e&&c.Kc(0,J,0,0,"ng-template")}function Q(e,t){if(1&e){const e=c.Yb();c.Xb(0,"div",29),c.fc("click",(function(){return c.Dc(e),c.jc(2).optionsRefreshRequested.emit()})),c.Xb(1,"ts-icon"),c.Mc(2,"refresh"),c.Wb(),c.Xb(3,"span"),c.Mc(4," Refresh & reload to bring in new choices. "),c.Wb(),c.Wb()}}function ee(e,t){if(1&e&&(c.Xb(0,"div",30),c.Mc(1),c.Wb()),2&e){const e=c.jc(2);c.Db(1),c.Oc(" Narrow your search to reveal ",e.totalHiddenResults?e.totalHiddenResults+" ":"","hidden results. ")}}function te(e,t){if(1&e){const e=c.Yb();c.Xb(0,"div",16,17),c.fc("@transformPanel.done",(function(t){return c.Dc(e),c.jc().panelDoneAnimatingStream.next(t.toState)}))("keydown",(function(t){return c.Dc(e),c.jc().handleKeydown(t)})),c.Kc(2,L,2,1,"div",18),c.Kc(3,$,4,4,"div",19),c.Kc(4,U,1,0,void 0,20),c.Kc(5,Q,5,0,"div",21),c.Kc(6,ee,2,1,"div",22),c.Wb()}if(2&e){const e=c.jc(),t=c.zc(12);c.Gb("ts-select-panel ts-",e.theme," qa-select-panel"),c.Jc("transform-origin",e.transformOrigin)("font-size",e.triggerFontSize,"px"),c.Ib("ts-select-panel--multiple",e.allowMultiple)("ts-select-panel--filter",e.isFilterable),c.qc("@transformPanel",e.allowMultiple?"showing-multiple":"showing"),c.Db(2),c.qc("ngIf",e.isFilterable),c.Db(1),c.qc("ngIf",e.allowMultiple),c.Db(1),c.qc("ngTemplateOutlet",t),c.Db(1),c.qc("ngIf",e.showRefresh),c.Db(1),c.qc("ngIf",e.showRefineSearchMessage)}}function ie(e,t){1&e&&c.oc(0,1)}const se=[[["ts-select-trigger"]],"*"],ne=["ts-select-trigger","*"];let ce=0,oe=(()=>{let e=class{constructor(){this.uid=`ts-select-trigger-${ce++}`,this._id=this.uid}set id(e){this._id=e||this.uid}get id(){return this._id}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Lb({type:e,selectors:[["ts-select-trigger"]],hostAttrs:[1,"ts-select-custom-trigger","qa-select-custom-trigger"],hostVars:1,hostBindings:function(e,t){2&e&&c.Eb("id",t.id)},inputs:{id:"id"},exportAs:["tsSelectTrigger"],ngContentSelectors:H,decls:1,vars:0,template:function(e,t){1&e&&(c.pc(),c.oc(0))},encapsulation:2,changeDetection:0}),e})();const re={transformPanel:Object(A.n)("transformPanel",[Object(A.k)("void",Object(A.l)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Object(A.k)("showing",Object(A.l)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(A.k)("showing-multiple",Object(A.l)({opacity:1,minWidth:"calc(100% + 24px)",transform:"scaleY(1)"})),Object(A.m)("void => *",Object(A.e)("120ms cubic-bezier(0, 0, 0.2, 1)")),Object(A.m)("* => void",Object(A.e)("100ms 25ms linear",Object(A.l)({opacity:0})))])};var le;const ae=(e,t)=>e===t;class de{constructor(e,t){this.source=e,this.value=t}}let he=0;const pe={clickAction:"noop"};let ge=(()=>{let e=le=class{constructor(e,t,i,s,n,o){this.viewportRuler=e,this.changeDetectorRef=t,this.ngZone=i,this.documentService=s,this.elementRef=n,this.ngControl=o,this.componentName="TsSelectComponent",this.flexGap=q.a.small[0],this.labelChanges=new d.a,this.offsetY=0,this.optionIds="",this.optionSelectionChanges=Object(T.a)(()=>Object(h.a)(...this.options.map(e=>e.selectionChange))),this.panelDoneAnimatingStream=new d.a,this.panelOpen=!1,this.positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this.scrollTop=0,this.searchQuery="",this.selfReference=this,this.stateChanges=new d.a,this.transformOrigin="top",this.triggerFontSize=0,this.uid=`ts-select-${he++}`,this.querySubject=new W.a(""),this.viewportMarginSpacing=100,this.allowMultiple=!1,this._compareWith=ae,this._delimiter=",",this.hideRequiredMarker=!1,this._id=this.uid,this.isDisabled=!1,this.isFilterable=!1,this._isRequired=!1,this.noValidationOrHint=!1,this.showProgress=!1,this.showRefineSearchMessage=!1,this.showRefresh=!1,this._tabIndex=0,this.theme="primary",this.validateOnChange=!1,this.closed=new c.o,this.duplicateSelection=new c.o,this.opened=new c.o,this.optionDeselected=new c.o,this.optionSelected=new c.o,this.optionsRefreshRequested=new c.o,this.queryChange=new c.o,this.selectionChange=new c.o,this.valueChange=new c.o,this.onChange=()=>{},this.onTouched=()=>{},this.document=this.documentService.document,this.ngControl&&(this.ngControl.valueAccessor=this)}get allOptionsSelected(){return Object(R.g)(this.options)}get empty(){return this.selectionModel&&this.selectionModel.isEmpty()}get focused(){return this.document.activeElement===(this.inputElement&&this.inputElement.nativeElement)||this.panelOpen}get itemCount(){return this.options.length+this.optionGroups.length}get itemHeight(){const e=this.options.toArray(),t=e[1]||e[0];return t&&t.elementRef.nativeElement.offsetHeight}get someOptionsSelected(){return Object(R.j)(this.options)}get shouldLabelFloat(){return this.focused||!this.empty||this.searchQuery.length>0}get selectTriggerValue(){return this.allowMultiple?this.selectionModel.selected.map(e=>e.viewValue).join(`${this.delimiter} `):this.selectionModel.selected[0].viewValue}get selected(){return this.allowMultiple?this.selectionModel.selected:this.selectionModel.selected[0]}set compareWith(e){"function"!=typeof e&&Object(c.X)()&&(console.warn('TsSelectComponent: "compareWith" must be a function. Falling back to the default.'),this._compareWith=ae),this._compareWith=e,this.selectionModel&&this.initializeSelection()}get compareWith(){return this._compareWith}set delimiter(e){this._delimiter=Object(S.i)(e)?e:","}get delimiter(){return this._delimiter}set hint(e){this._hint=e}get hint(){return this._hint}set id(e){this._id=e||this.uid}get id(){return this._id}set isRequired(e){this._isRequired=e}get isRequired(){const e=this.ngControl&&this.ngControl.control,t=!!e&&Object(I.e)(e);return this._isRequired||t}set label(e){this._label=e}get label(){return this._label}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get placeholder(){return this._placeholder}set tabIndex(e){this._tabIndex=Object(D.d)(e)}get tabIndex(){return this._tabIndex}set value(e){e!==this._value&&(this._value=e)}get value(){return this._value}ngOnInit(){this.selectionModel=new f.b(this.allowMultiple),this.ngControl&&this.ngControl.form&&this.ngControl.valueChanges&&this.ngControl.valueChanges.pipe(Object(I.j)(this)).subscribe(e=>{e&&this.setSelectionByValue(e)})}ngAfterContentInit(){this.initKeyManager(),this.selectionModel.changed.pipe(Object(I.j)(this)).subscribe(e=>{e.added.forEach(e=>{e.select(),this.optionSelected.emit(new de(this,e.value))}),e.removed.forEach(e=>{e.deselect(),this.optionDeselected.emit(new de(this,e.value))})}),this.options.changes.pipe(Object(u.a)(null),Object(I.j)(this)).subscribe(()=>{this.resetOptions(),this.initializeSelection()})}ngOnChanges(e){Object(I.f)(e,"label")&&!e.label.firstChange&&(this.changeDetectorRef.detectChanges(),this.labelChanges.next())}ngOnDestroy(){this.stateChanges.complete()}toggle(){this.isDisabled||(this.panelOpen?this.close():this.open())}open(){!this.isDisabled&&this.options&&this.options.length&&!this.panelOpen&&(this.triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this.triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement)["font-size"],10),this.panelOpen=!0,this.keyManager.withHorizontalOrientation(null),this.highlightCorrectOption(),this.changeDetectorRef.markForCheck(),this.ngZone.onStable.asObservable().pipe(Object(p.a)(1)).subscribe(()=>{this.triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this.triggerFontSize}px`),this.options.first.elementRef.nativeElement.getBoundingClientRect(),this.calculateOverlayPosition()}),this.opened.emit())}close(){this.panelOpen&&(this.panelOpen=!1,this.keyManager.withHorizontalOrientation("ltr"),this.changeDetectorRef.markForCheck(),this.onTouched(),this.updateValueAndValidity(),this.closed.emit())}onAttached(){this.overlayDir.positionChange.pipe(Object(p.a)(1)).subscribe(()=>{this.changeDetectorRef.detectChanges(),this.setPanelScrollTop(this.scrollTop)})}handleKeydown(e){this.isDisabled||(this.panelOpen?this.handleOpenKeydown(e):this.handleClosedKeydown(e))}handleClosedKeydown(e){const t=e.code,i=[j.a.DOWN_ARROW.code,j.a.UP_ARROW.code,j.a.LEFT_ARROW.code,j.a.RIGHT_ARROW.code].indexOf(t)>=0;t===j.a.ENTER.code||t===j.a.SPACE.code||(this.allowMultiple||e.altKey)&&i?(e.preventDefault(),this.open()):this.allowMultiple||this.keyManager.onKeydown(e)}handleOpenKeydown(e){const t=e.code,i=t===j.a.DOWN_ARROW.code||t===j.a.UP_ARROW.code,s=this.keyManager,n=this.isFilterable&&"input"===e.target.tagName.toLowerCase();if(t===j.a.HOME.code||t===j.a.END.code)e.preventDefault(),t===j.a.HOME.code?s.setFirstItemActive():s.setLastItemActive();else if(i&&e.altKey)e.preventDefault(),this.close();else if((t===j.a.ENTER.code||t===j.a.SPACE.code&&!n)&&s.activeItem)e.preventDefault(),s.activeItem.selectViaInteraction();else if(this.allowMultiple&&t===j.a.A.code&&e.ctrlKey){e.preventDefault();const t=this.options.some(e=>!e.isDisabled&&!e.selected);this.options.forEach(e=>{e.isDisabled||(t?e.select():e.deselect())})}else{const n=this.allowMultiple&&i&&e.shiftKey;i&&e.shiftKey?t===j.a.DOWN_ARROW.code?s.setNextItemActive():s.setPreviousItemActive():s.onKeydown(e),n&&s.activeItem&&s.activeItem.selectViaInteraction()}}resetOptions(){this.optionSelectionChanges.pipe(Object(g.a)(this.options.changes),Object(I.j)(this)).subscribe(e=>{this.onSelect(e.source,e.isUserInput),e.isUserInput&&!this.allowMultiple&&this.panelOpen&&(this.close(),this.focus())}),Object(h.a)(...this.options.map(e=>e.stateChanges)).pipe(Object(I.j)(this)).subscribe(()=>{this.changeDetectorRef.markForCheck(),this.stateChanges.next()}),this.setOptionIds()}onSelect(e,t){const i=this.selectionModel.isSelected(e);null!=e.value||this.allowMultiple?(e.selected?this.selectionModel.select(e):this.selectionModel.deselect(e),t&&this.keyManager.setActiveItem(e),this.allowMultiple&&(this.sortValues(),t&&this.focus())):(e.deselect(),this.selectionModel.clear(),this.propagateChanges(e.value)),i!==this.selectionModel.isSelected(e)&&this.propagateChanges(),this.stateChanges.next()}setOptionIds(){this.optionIds=this.options.map(e=>e.id).join(" ")}initKeyManager(){this.keyManager=new b.b(this.options).withTypeAhead().withVerticalOrientation().withHorizontalOrientation("ltr"),this.keyManager.tabOut.pipe(Object(I.j)(this)).subscribe(()=>{this.focus(),this.close()}),this.keyManager.change.pipe(Object(I.j)(this)).subscribe(()=>{this.panelOpen&&this.panel?this.scrollActiveOptionIntoView():this.panelOpen||this.allowMultiple||!this.keyManager.activeItem||this.keyManager.activeItem.selectViaInteraction()})}focus(){this.elementRef.nativeElement.focus()}sortValues(){if(this.allowMultiple){const e=this.options.toArray();this.selectionModel.sort((t,i)=>this.sortComparator?this.sortComparator(t,i,e):e.indexOf(t)-e.indexOf(i)),this.stateChanges.next()}}propagateChanges(e){let t;t=this.allowMultiple?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this.value=t,this.valueChange.emit(t),this.onChange(t),this.selectionChange.emit(new de(this,t)),this.changeDetectorRef.markForCheck()}updateValueAndValidity(){this.ngControl&&this.ngControl.control&&this.ngControl.control.updateValueAndValidity()}writeValue(e){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e,this.changeDetectorRef.markForCheck(),this.stateChanges.next()}initializeSelection(){Promise.resolve().then(()=>{this.setSelectionByValue(this.ngControl?this.ngControl.value:this.value)})}setSelectionByValue(e){if(this.allowMultiple&&e)e=Object(D.a)(e),this.selectionModel.clear(),e.forEach(e=>this.selectOptionByValue(e)),this.sortValues();else{this.selectionModel.clear();const t=this.selectOptionByValue(e);t&&this.keyManager.setActiveItem(t)}this.changeDetectorRef.markForCheck()}selectOptionByValue(e){const t=this.options.find(t=>{try{return null!=t.value&&this.compareWith(t.value,e)}catch(i){return Object(c.X)()&&console.warn(i),!1}});return t&&this.selectionModel.select(t),t}scrollActiveOptionIntoView(){const e=this.keyManager.activeItemIndex||0,t=Object(R.h)(e,this.options,this.optionGroups),i=Object(R.i)(e+t,this.itemHeight,this.getPanelScrollTop(),256);this.setPanelScrollTop(i)}calculateOverlayPosition(){const e=this.itemHeight,t=this.itemCount,i=Math.min(t*e,256),s=t*e-i;let n=this.empty?0:this.getOptionIndex(this.selectionModel.selected[0]);n+=Object(R.h)(n,this.options,this.optionGroups);const c=i/2;this.scrollTop=this.calculateOverlayScroll(n,c,s),this.offsetY=this.calculateOverlayOffsetY(n,c,s),this.checkOverlayWithinViewport(s)}calculateOverlayScroll(e,t,i){const s=this.itemHeight;return Math.min(Math.max(0,s*e-t+s/2),i)}calculateOverlayOffsetY(e,t,i){const s=this.itemHeight,n=(s-(this.triggerRect?this.triggerRect.height:0))/2,c=Math.floor(256/s);let o;return o=0===this.scrollTop?e*s:this.scrollTop===i?(e-(this.itemCount-c))*s+(s-(this.itemCount*s-256)%s):t-s/2,Math.round(-1*o-n)}checkOverlayWithinViewport(e){const t=this.itemHeight,i=this.viewportRuler.getViewportSize(),s=this.triggerRect?this.triggerRect.top-8:0,n=i.height-(this.triggerRect?this.triggerRect.bottom:0)-8,c=Math.abs(this.offsetY),o=Math.min(this.itemCount*t,256)-c-(this.triggerRect?this.triggerRect.height:0);o>n?this.adjustPanelUp(o,n):c>s?this.adjustPanelDown(c,s,e):this.transformOrigin=this.getOriginBasedOnOption()}adjustPanelUp(e,t){const i=Math.round(e-t);this.scrollTop-=i,this.offsetY=this.offsetY-i<0?0:this.offsetY-i,this.transformOrigin=this.getOriginBasedOnOption(),this.scrollTop<=0&&(this.scrollTop=0,this.offsetY=0,this.transformOrigin="50% bottom 0px")}adjustPanelDown(e,t,i){const s=Math.round(e-t);if(this.scrollTop+=s,this.offsetY=this.offsetY+s<0?0:this.offsetY+s,this.transformOrigin=this.getOriginBasedOnOption(),this.scrollTop>=i)return this.scrollTop=i,this.offsetY=0,void(this.transformOrigin="50% top 0px")}getOriginBasedOnOption(){const e=this.itemHeight,t=(e-(this.triggerRect?this.triggerRect.height:0))/2;return`50% ${Math.abs(this.offsetY)-t+e/2}px 0px`}getOptionIndex(e){return this.options.reduce((t,i,s)=>{const n=e===i?s:void 0;return Object(S.j)(t)?n:t},void 0)}highlightCorrectOption(){this.keyManager&&(this.empty?this.keyManager.setFirstItemActive():this.keyManager.setActiveItem(this.selectionModel.selected[0]))}toggleAllOptions(){Object(R.k)(this.options)}onContainerClick(){this.focus(),this.isDisabled||this.open()}getPanelScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}setPanelScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}};return e.\u0275fac=function(t){return new(t||e)(c.Rb(V.d),c.Rb(c.h),c.Rb(c.A),c.Rb(E.a),c.Rb(c.l),c.Rb(r.p,10))},e.\u0275cmp=c.Lb({type:e,selectors:[["ts-select"]],contentQueries:function(e,t,i){var s;1&e&&(c.Kb(i,oe,!0),c.Kb(i,R.c,!0),c.Kb(i,R.b,!1)),2&e&&(c.yc(s=c.gc())&&(t.customTrigger=s.first),c.yc(s=c.gc())&&(t.options=s),c.yc(s=c.gc())&&(t.optionGroups=s))},viewQuery:function(e,t){var i;1&e&&(c.Rc(K,!0),c.Rc(P,!0),c.Rc(z,!0),c.Rc(s.a,!0),c.Rc(X,!0)),2&e&&(c.yc(i=c.gc())&&(t.inputElement=i.first),c.yc(i=c.gc())&&(t.labelElement=i.first),c.yc(i=c.gc())&&(t.trigger=i.first),c.yc(i=c.gc())&&(t.overlayDir=i.first),c.yc(i=c.gc())&&(t.panel=i.first))},hostAttrs:[1,"ts-select"],hostVars:8,hostBindings:function(e,t){1&e&&c.fc("keydown",(function(e){return t.handleKeydown(e)})),2&e&&(c.Eb("aria-owns",t.panelOpen?t.optionIds:null)("aria-required",t.isRequired.toString())("aria-multiselectable",t.allowMultiple)("tabindex",t.tabIndex),c.Ib("ts-select--required",t.isRequired)("ts-select--disabled",t.isDisabled))},inputs:{allowMultiple:"allowMultiple",hideRequiredMarker:"hideRequiredMarker",isDisabled:"isDisabled",isFilterable:"isFilterable",noValidationOrHint:"noValidationOrHint",showProgress:"showProgress",showRefineSearchMessage:"showRefineSearchMessage",showRefresh:"showRefresh",theme:"theme",validateOnChange:"validateOnChange",compareWith:"compareWith",delimiter:"delimiter",hint:"hint",id:"id",isRequired:"isRequired",label:"label",placeholder:"placeholder",tabIndex:"tabIndex",value:"value",sortComparator:"sortComparator",totalHiddenResults:"totalHiddenResults"},outputs:{closed:"closed",duplicateSelection:"duplicateSelection",opened:"opened",optionDeselected:"optionDeselected",optionSelected:"optionSelected",optionsRefreshRequested:"optionsRefreshRequested",queryChange:"queryChange",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["tsSelect"],features:[c.Cb([{provide:_.b,useExisting:le},{provide:R.a,useExisting:le},{provide:k.a,useValue:pe}]),c.Bb],ngContentSelectors:ne,decls:13,vars:19,consts:[["cdk-overlay-origin","",3,"validateOnChange","control","hideRequiredMarker","hint","id","noValidationOrHint","theme"],["origin","cdkOverlayOrigin"],[4,"ngIf"],["aria-hidden","true",1,"ts-select-trigger","qa-select-trigger",3,"click"],["trigger",""],[1,"ts-select-value",3,"ngSwitch"],["class","ts-select-placeholder",4,"ngSwitchCase"],["class","ts-select-value-text qa-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"ts-select-arrow-wrapper","qa-select-arrow-wrapper"],[1,"ts-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayViewportMargin","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","backdropClick","attach","detach"],["contentTemplate",""],[1,"ts-select-placeholder"],[1,"ts-select-value-text","qa-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[3,"keydown"],["panel",""],["class","ts-select-panel__filter-input",4,"ngIf"],["class","ts-select-panel__toggle-all qa-select-toggle-all",3,"click",4,"ngIf"],[4,"ngTemplateOutlet"],["class","ts-select-panel__refresh",3,"click",4,"ngIf"],["class","ts-select-panel__refine",4,"ngIf"],[1,"ts-select-panel__filter-input"],["label","Begin typing to filter...",3,"ngModel","ngModelChange"],[1,"ts-select-panel__toggle-all","qa-select-toggle-all",3,"click"],["theme","accent",3,"isChecked","isIndeterminate"],["class","ts-select-panel__count qa-select-selected-count",4,"ngIf"],[1,"ts-select-panel__count","qa-select-selected-count"],[1,"ts-select-panel__refresh",3,"click"],[1,"ts-select-panel__refine"]],template:function(e,t){if(1&e&&(c.pc(se),c.Xb(0,"ts-form-field",0,1),c.Kc(2,Y,2,1,"ts-label",2),c.Xb(3,"div",3,4),c.fc("click",(function(){return t.toggle()})),c.Xb(5,"div",5),c.Kc(6,F,2,1,"span",6),c.Kc(7,G,3,2,"span",7),c.Wb(),c.Xb(8,"div",8),c.Sb(9,"div",9),c.Wb(),c.Wb(),c.Wb(),c.Kc(10,te,7,17,"ng-template",10),c.fc("backdropClick",(function(){return t.close()}))("attach",(function(){return t.onAttached()}))("detach",(function(){return t.close()})),c.Kc(11,ie,1,0,"ng-template",null,11,c.Lc)),2&e){const e=c.zc(1);c.qc("validateOnChange",t.validateOnChange)("control",t.selfReference)("hideRequiredMarker",t.hideRequiredMarker)("hint",t.hint)("id",t.id)("noValidationOrHint",t.noValidationOrHint)("theme",t.theme),c.Db(2),c.qc("ngIf",t.label),c.Db(1),c.Eb("id",t.id)("tabindex",t.tabIndex),c.Db(2),c.qc("ngSwitch",t.empty),c.Db(1),c.qc("ngSwitchCase",!0),c.Db(1),c.qc("ngSwitchCase",!1),c.Db(3),c.qc("cdkConnectedOverlayViewportMargin",t.viewportMarginSpacing)("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t.positions)("cdkConnectedOverlayMinWidth",null==t.triggerRect?null:t.triggerRect.width)("cdkConnectedOverlayWidth",null==t.triggerRect?null:t.triggerRect.width)}},directives:[_.a,s.b,n.m,n.o,n.p,s.a,_.d,n.q,n.r,C.a,r.q,r.t,y.a,x.a],styles:[".ts-select{display:block;outline:0}.ts-select :not(.mat-form-field-label-wrapper){box-sizing:border-box}.ts-select h1,.ts-select h2,.ts-select h3,.ts-select h4,.ts-select h5,.ts-select p{margin:unset}.ts-select .ts-form-field.ts-form-field--float .ts-select-arrow-wrapper,.ts-select .ts-form-field:not(.ts-form-field--float) .ts-select-arrow-wrapper{display:table-cell;transform:translateY(-10%);vertical-align:middle}.ts-select .ts-select-trigger{box-sizing:border-box;cursor:pointer;display:inline-table;position:relative}.ts-select .ts-select-trigger--hidden{border:0;-webkit-clip-path:rect(0,0,0,0);clip-path:rect(0,0,0,0);display:block;height:1px;margin:-1px;overflow:hidden;padding:0;pointer-events:none;position:absolute;visibility:hidden;width:1px}.ts-option--disabled .ts-select .ts-select-trigger,.ts-select.ts-select--disabled .ts-select-trigger{cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ts-select.ts-select--disabled .ts-select-arrow{color:#999}.ts-select .ts-select-value{display:table-cell;max-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.ts-select .ts-select-value-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ts-select .ts-select-arrow{border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;height:0;margin:0 4px;width:0}.cdk-overlay-pane .ts-select-panel__filter-input{background-color:#fafafa;border-bottom:1px solid #cecdd1;left:0;padding:8px;position:absolute;right:-24px;top:0;width:calc(100% - 16px);z-index:501}.cdk-overlay-pane .ts-select-panel__filter-input .ts-form-field .ts-form-field__wrapper{padding-bottom:0}.ts-select-panel{max-height:256px;overflow:auto}.ts-select-panel.ts-select-panel--filter{padding-top:85px}.ts-select-panel .ts-optgroup .ts-option .ts-checkbox{padding-left:16px}.ts-select-panel .ts-select-panel__toggle-all{background-color:#f2f0f7;border-bottom:1px solid #999;position:relative}.ts-select-panel .ts-select-panel__toggle-all .ts-checkbox{line-height:3em}.ts-select-panel .ts-select-panel__count{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;letter-spacing:.02em;color:#999;position:absolute;right:12px}.ts-select-panel .ts-select-panel__refresh{letter-spacing:.01em;font-weight:500;font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;letter-spacing:.02em;background-color:#f2f0f7;color:#757575;cursor:pointer;height:48px;line-height:48px;padding:0 16px;transition:color .2s}.ts-select-panel .ts-select-panel__refresh .ts-icon{height:24px;vertical-align:text-bottom}.ts-select-panel .ts-select-panel__refresh:focus,.ts-select-panel .ts-select-panel__refresh:hover{color:#00538a}.ts-select-panel .ts-select-panel__refine{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;letter-spacing:.02em;color:#999;font-style:italic;padding:12px 16px}.ts-paginator .ts-select{display:inline-block;position:relative;width:5em}.ts-paginator .ts-select.ts-select--disabled .ts-select-arrow-wrapper{transform:translateY(0)}"],encapsulation:2,data:{animation:[re.transformPanel]},changeDetection:0}),e})(),ue=(()=>{let e=class{};return e.\u0275mod=c.Pb({type:e}),e.\u0275inj=c.Ob({factory:function(t){return new(t||e)},providers:[],imports:[[n.c,o.a,r.m,O,w.b,a.p,s.f,r.y,y.b,_.c,x.b,C.b,R.e,M.b]]}),e})()}}]);