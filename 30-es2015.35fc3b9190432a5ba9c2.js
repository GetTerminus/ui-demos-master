(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{EOaC:function(t,e,r){"use strict";r.d(e,"a",(function(){return f})),r.d(e,"b",(function(){return m})),r.d(e,"c",(function(){return p}));var o=r("2kYt"),n=r("EM62"),c=r("mFH5"),s=r("ZBpG"),i=r("7sjG"),a=r("UkLp");function l(t,e){if(1&t&&n.Tb(0,4),2&t){const t=n.jc();n.qc("ngTemplateOutlet",t.utilityMenuTemplate)}}function d(t,e){1&t&&(n.Xb(0,"ts-icon",5),n.Mc(1,"lock_outline"),n.Wb())}const u=function(t,e,r,o,n,c){return{"c-card--interaction":t,"c-card--centered":e,"c-card--aspect":r,"c-card--disabled":o,"c-card--right-spacing":n,"c-card--flat":c}},h=["*"];let b=0,f=(()=>{let t=class{constructor(){this.uid=`ts-card-${b++}`,this._border="none",this.centeredContent=!1,this.isDisabled=!1,this.flat=!1,this._id=this.uid,this.supportsInteraction=!1,this._theme="primary"}set aspectRatio(t){const e=parseInt(t.split(":")[0],10),r=parseInt(t.split(":")[1],10);this.aspectRatioPadding=`${(r/e*100).toFixed(2)}%`}set border(t){this._border=t||"none"}get border(){return this._border}set id(t){this._id=t||this.uid}get id(){return this._id}set theme(t){this._theme=t||"primary"}get theme(){return this._theme}get borderClass(){return this.border&&"none"!==this.border?`c-card--border-${this.border}`:""}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Lb({type:t,selectors:[["ts-card"]],hostAttrs:[1,"ts-card"],inputs:{centeredContent:"centeredContent",isDisabled:"isDisabled",flat:"flat",supportsInteraction:"supportsInteraction",aspectRatio:"aspectRatio",border:"border",id:"id",theme:"theme",utilityMenuTemplate:"utilityMenuTemplate"},exportAs:["tsCard"],ngContentSelectors:h,decls:5,vars:18,consts:[[3,"ngClass"],["mat-ripple","",1,"c-card__inner",3,"matRippleDisabled"],[3,"ngTemplateOutlet",4,"ngIf"],["class","c-card__lock qa-card-lock",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"c-card__lock","qa-card-lock"]],template:function(t,e){1&t&&(n.pc(),n.Xb(0,"div",0),n.Xb(1,"div",1),n.oc(2),n.Wb(),n.Kc(3,l,1,1,"ng-container",2),n.Kc(4,d,2,0,"ts-icon",3),n.Wb()),2&t&&(n.Hb("c-card qa-card ",e.borderClass," c-card--",e.theme,""),n.Jc("padding-top",e.aspectRatioPadding),n.qc("ngClass",n.xc(11,u,e.supportsInteraction,e.centeredContent,e.aspectRatioPadding,e.isDisabled,e.utilityMenuTemplate||e.isDisabled,e.flat)),n.Eb("id",e.id),n.Db(1),n.qc("matRippleDisabled",!e.supportsInteraction||e.isDisabled),n.Db(2),n.qc("ngIf",e.utilityMenuTemplate),n.Db(1),n.qc("ngIf",e.isDisabled&&!e.utilityMenuTemplate))},directives:[o.k,c.o,o.m,o.r,s.a],styles:[".ts-card{display:flex;flex-flow:row nowrap}.ts-card :not(.mat-form-field-label-wrapper){box-sizing:border-box}.ts-card h1,.ts-card h2,.ts-card h3,.ts-card h4,.ts-card h5,.ts-card p{margin:unset}.ts-card .c-card{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;letter-spacing:.01em;font-weight:400;background-color:#fafafa;position:relative;transition:height .2s;width:100%}.ts-card .c-card:not(.c-button):not(.c-input):not(.c-select):not(.ts-checkbox){line-height:20px}.ts-card .c-card:not(.c-card--aspect),.ts-card .c-card:not(.c-card--interaction){align-items:stretch;display:flex;flex-direction:row;justify-content:center}.c-card .c-card__inner{min-height:calc(100% - 48px);padding:24px;vertical-align:top;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);position:relative;width:100%}.c-card .c-card__inner .c-card__title{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:20px;font-weight:500;letter-spacing:.005em}.c-card .c-card__inner .c-card__title-accent-border{border-left:2px solid #00538a;padding-left:8px}.c-card .c-card__inner .c-card__title-accent-border[theme=accent]{border-left-color:#2f854d}.c-card .c-card__inner .c-card__title-accent-border[theme=warn]{border-left-color:#c8604d}.c-card--interaction:not(.c-card--disabled) .c-card__inner{min-height:calc(100% - 48px);padding:24px;vertical-align:top;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);transition:box-shadow 250ms cubic-bezier(.4,0,.2,1);cursor:pointer}.c-card--interaction:not(.c-card--disabled) .c-card__inner:hover{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.c-card--interaction:not(.c-card--disabled) .c-card__inner .c-card__title{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:20px;font-weight:500;letter-spacing:.005em}.c-card--centered .c-card__inner{align-items:center;display:flex;justify-content:center}.c-card--aspect .c-card__inner{bottom:0;left:0;position:absolute;right:0;top:0}.c-card--disabled .c-card__inner{opacity:.5}.c-card--disabled .c-menu{opacity:.3;pointer-events:none}.c-card--disabled .c-card__lock{color:#999;position:absolute;right:24px;top:calc(24px - 2px);transform:scale(.7)}.c-card--right-spacing .c-card__inner{padding-right:56px}.c-card--flat>.c-card__inner{border:1px solid #cecdd1;box-shadow:none}.c-card--border-bottom.c-card--primary .c-card__inner{border-bottom:2px solid #00538a}.c-card--border-bottom.c-card--accent .c-card__inner{border-bottom:2px solid #2f854d}.c-card--border-bottom.c-card--warn .c-card__inner{border-bottom:2px solid #c8604d}.c-card--border-left.c-card--primary .c-card__inner{border-left:2px solid #00538a}.c-card--border-left.c-card--accent .c-card__inner{border-left:2px solid #2f854d}.c-card--border-left.c-card--warn .c-card__inner{border-left:2px solid #c8604d}.c-card--border-right.c-card--primary .c-card__inner{border-right:2px solid #00538a}.c-card--border-right.c-card--accent .c-card__inner{border-right:2px solid #2f854d}.c-card--border-right.c-card--warn .c-card__inner{border-right:2px solid #c8604d}.c-card--border-top.c-card--primary .c-card__inner{border-top:2px solid #00538a}.c-card--border-top.c-card--accent .c-card__inner{border-top:2px solid #2f854d}.c-card--border-top.c-card--warn .c-card__inner{border-top:2px solid #c8604d}.c-card__inner .ts-table~.ts-loading-overlay .c-loading-overlay{left:-24px;right:-24px}"],encapsulation:2,changeDetection:0}),t})(),p=(()=>{let t=class{constructor(t){if(this.theme="primary",this.tsCardTitle="c-card__title",!(t instanceof f)&&Object(n.X)())throw new a.c("The 'tsCardTitle' directive must be inside a <ts-card> component.")}set tsTitleAccentBorder(t){Object(i.b)(t)&&(this.tsCardTitle=`${this.tsCardTitle} c-card__title-accent-border`)}};return t.\u0275fac=function(e){return new(e||t)(n.Rb(f,13))},t.\u0275dir=n.Mb({type:t,selectors:[["","tsCardTitle",""]],hostVars:2,hostBindings:function(t,e){2&t&&n.Fb(e.tsCardTitle)},inputs:{theme:"theme",tsTitleAccentBorder:"tsTitleAccentBorder"}}),t})(),m=(()=>{let t=class{};return t.\u0275mod=n.Pb({type:t}),t.\u0275inj=n.Ob({factory:function(e){return new(e||t)},imports:[[o.c,c.p,s.b]]}),t})()},iRLe:function(t,e,r){"use strict";r.r(e),r.d(e,"CSVEntryModule",(function(){return E}));var o=r("2kYt"),n=r("nIj0"),c=r("EOaC"),s=r("EM62"),i=r("40Bj"),a=r("2u5E"),l=r("ZBpG"),d=r("EsJc"),u=r("KJBv"),h=r("7sjG"),b=r("HRj5"),f=r("0Bg5"),p=r("UkLp"),m=r("mWib"),g=r("AW5y"),y=r("qFEQ");function v(t,e){if(1&t&&(s.Xb(0,"div",23),s.Xb(1,"span",22),s.Mc(2),s.Wb(),s.Wb()),2&t){const t=e.$implicit,r=e.index;s.Ib("c-csv-entry__column-id--invalid",t.invalid),s.Eb("id","csv-row-id-"+(r+1)),s.Db(2),s.Oc(" ",(null==t.controls||null==t.controls.recordId?null:t.controls.recordId.value)-0+1," ")}}function w(t,e){if(1&t){const t=s.Yb();s.Xb(0,"input",24),s.fc("paste",(function(e){return s.Dc(t),s.jc().onPaste(e,!0)}))("keydown.enter",(function(){s.Dc(t);const r=e.index,o=s.jc();return o.selectCellInNextRow(o.createId(-1,r))}))("keydown.tab",(function(r){s.Dc(t);const o=e.index,n=s.jc();return n.selectAdjacentCell(r,n.createId(-1,o))}))("keydown.shift.tab",(function(r){s.Dc(t);const o=e.index,n=s.jc();return n.selectAdjacentCell(r,n.createId(-1,o),!0)})),s.Wb()}if(2&t){const t=e.index,r=s.jc();s.sc("title","Header, Column: ",r.getHeaderCellName(t)||t+1,""),s.qc("readonly",r.columnHeaders&&r.columnHeaders[t])("formControlName",t),s.Eb("id",r.createId(-1,t))}}function _(t,e){if(1&t){const t=s.Yb();s.Xb(0,"input",28),s.fc("paste",(function(e){return s.Dc(t),s.jc(2).onPaste(e)}))("keydown.enter",(function(){s.Dc(t);const r=e.index,o=s.jc().index,n=s.jc();return n.selectCellInNextRow(n.createId(o,r))}))("keydown.shift.enter",(function(){s.Dc(t);const r=e.index,o=s.jc().index,n=s.jc();return n.selectCellInNextRow(n.createId(o,r),!0)}))("keyup",(function(){return s.Dc(t),s.jc(2).updateErrors()}))("keydown.tab",(function(r){s.Dc(t);const o=e.index,n=s.jc().index,c=s.jc();return c.selectAdjacentCell(r,c.createId(n,o))}))("keydown.shift.tab",(function(r){s.Dc(t);const o=e.index,n=s.jc().index,c=s.jc();return c.selectAdjacentCell(r,c.createId(n,o),!0)})),s.Wb()}if(2&t){const t=e.$implicit,r=e.index,o=s.jc(),n=o.$implicit,c=o.index,i=s.jc();s.Ib("c-csv-entry__input--invalid",t.invalid),s.tc("title","Row: ",(null==n.controls||null==n.controls.recordId?null:n.controls.recordId.value)+1,", Column: ",i.getHeaderCellName(r)||r+1,""),s.qc("formControlName",r),s.Eb("id",i.createId(c,r))}}function x(t,e){if(1&t&&(s.Xb(0,"div",25),s.Xb(1,"div",26),s.Kc(2,_,1,6,"input",27),s.Wb(),s.Wb()),2&t){const t=e.$implicit,o=e.index;var r;const n=null==(r=s.jc().getColumns(t))?null:r.controls;s.qc("formGroupName",o),s.Db(2),s.qc("ngForOf",n)}}function C(t,e){if(1&t){const t=s.Yb();s.Xb(0,"ts-icon-button",29),s.fc("click",(function(){s.Dc(t);const r=e.index;return s.jc().deleteRow(r)})),s.Mc(1,"delete_forever"),s.Wb()}if(2&t){const t=e.index;s.Eb("id","csv-delete-"+(t+1))("title","Delete row "+(t+1))}}function R(t,e){1&t&&s.Sb(0,"div",30),2&t&&s.qc("innerHTML",e.$implicit,s.Ec)}function D(t,e){if(1&t&&(s.Xb(0,"div",31),s.Mc(1),s.Wb()),2&t){const t=s.jc();s.Db(1),s.Nc(t.tooManyRowsMessage)}}const k=["*"];var j;let W=0,I=(()=>{let t=j=class{constructor(t,e,r){this.formBuilder=t,this.changeDetectorRef=e,this.documentService=r,this.originalColumnCount=2,this.uid=`ts-csv-entry-${W++}`,this.fakeRowHeight="35px",this.layoutGap=f.a.small[0],this.tooManyRowsMessage=null,this.records=[],this.recordsForm=this.formBuilder.group({headers:this.formBuilder.array([]),records:this.formBuilder.array([])}),this.allErrors=null,this._columnCount=2,this._columnValidators=[],this.footerDirection="ltr",this.fullWidth=!1,this._id=this.uid,this._maxRows=2e3,this.outputFormat="tsv",this._rowCount=4,this.blobGenerated=new s.o}get headerCells(){return this.recordsForm.get("headers")}get rows(){return this.recordsForm.get("records")}set columnCount(t){this._columnCount=Object(h.d)(t,2)}get columnCount(){return this._columnCount}set columnHeaders(t){this._columnHeaders=t,this.clearHeaderCells(),this.addHeaders(this.columnCount,this.columnHeaders)}get columnHeaders(){return this._columnHeaders}set columnValidators(t){t&&(this._columnValidators=t)}get columnValidators(){return this._columnValidators}set id(t){this._id=t||this.uid}get id(){return this._id}set maxRows(t){this._maxRows=Object(h.d)(t,2e3)}get maxRows(){return this._maxRows}set rowCount(t){this._rowCount=Object(h.d)(t,4)}get rowCount(){return this._rowCount}static addColumnsToRows(t,e,r){for(let o=0;o<t.length;o+=1){const e=t.controls[o];if(e){const t=e.controls.columns;for(let e=0;e<r;e+=1)t.controls.push(new n.g)}}for(let o=0;o<r;o+=1)e.controls.push(new n.g)}static splitContent(t,e){const r={headers:void 0,rows:void 0},o=t.split("\n");return e?(r.headers=o[0].split("\t"),r.rows=o.slice(1,o.length).map(t=>t.split("\t"))):r.rows=o.slice(0,o.length).map(t=>t.split("\t")),r}ngOnInit(){this.addRows(this.rowCount,this.columnCount),this.addHeaders(this.columnCount,this.columnHeaders),this.originalColumnCount=this.columnCount,this.recordsForm.valueChanges.pipe(Object(m.a)(1),Object(b.j)(this)).subscribe(t=>{const e=this.generateBlob(t);this.blobGenerated.emit(e)})}ngOnDestroy(){}addRows(t=1,e=this.columnCount,r,o){if(this.rows.length+t>this.maxRows){const e=(1===t?2:t)-(this.rows.length+t-this.maxRows);this.tooManyRowsMessage=`Adding ${e} row${e>1?"s":""} would exceed the maximum rows allowed (${this.maxRows}).`}else{this.tooManyRowsMessage&&(this.tooManyRowsMessage=null);for(let e=0;e<t;e+=1){const t=(void 0===o?this.rowCount:o)+e,n=this.createRow(this.rows.length,r?r[e]:null);void 0!==o&&o>=0?this.rows.insert(t,n):this.rows.push(n)}}}getColumns(t){return t.get("columns")}updateAllRowIds(){for(let t=0;t<this.rows.length;t+=1){const e=this.rows.controls[t];e&&e.controls.recordId.setValue(t)}}onPaste(t,e){var r;const o=null===(r=t.clipboardData)||void 0===r?void 0:r.getData("Text");if(!o)return;if(o.indexOf("\n")<0&&o.indexOf("\t")<0)return;e=Object(h.b)(e);const n=parseInt(t.target.id.split("X")[0].split("_")[2],10),c=j.splitContent(o,e),s=c.rows.length;if(e)this.clearAllRows(),this.clearHeaderCells(),this.addHeaders(c.headers.length,this.columnHeaders||c.headers),this.columnCount=c.headers.length,this.addRows(s,c.headers.length,c.rows);else{const t=c.rows[0].length;t>this.columnCount&&(j.addColumnsToRows(this.rows,this.headerCells,t-this.columnCount),this.columnCount=t),this.deleteRow(n),this.addRows(s,c.rows.length,c.rows,n)}this.updateAllRowIds(),this.updateErrors(),this.changeDetectorRef.detectChanges()}updateErrors(){this.allErrors=this.collectErrors()}getHeaderCellName(t){return this.headerCells&&this.headerCells.controls[t]?this.headerCells.controls[t].value:""}onScroll(t){if(!t)return;const e=t.deltaX<0?"right":"left",r=t.target;if(!r)return;const o=r.form.scrollWidth-(parseInt(r.form.offsetWidth,10)+2)-r.form.scrollLeft;0!==t.deltaX&&("right"===e&&r.form.scrollLeft<1||"left"===e&&o<1)&&t.preventDefault()}selectCellInNextRow(t,e){if(!t)return;const[r,o]=t.split("X"),n=r.split("_")[2],c=o.split("_")[1],s=`${this.uid}_r_${parseInt(n,10)+(e?-1:1)}Xc_${c}`,i=this.documentService.document.querySelector(`#${s}`);i?i.focus():(this.addRows(),this.changeDetectorRef.detectChanges(),this.selectCellInNextRow(t))}selectAdjacentCell(t,e,r){t.preventDefault(),r=Object(h.b)(r);const[o,n]=e.split("X"),c=parseInt(o.split("_")[2],10),s=parseInt(n.split("_")[1],10);let i,a=c;r?0===s?(i=this.columnCount-1,a+=-1):i=s-1:s===this.columnCount-1?(i=0,a+=1):i=s+1;const l=this.documentService.document.querySelector(`#${`${this.uid}_r_${a}Xc_${i}`}`);l&&l.focus()}createId(t,e){return`${this.uid}_r_${t}Xc_${e}`}collectErrors(){const t=this.recordsForm.get("records");if(t){const e=this.getFormErrors(t);return e?Object.keys(e).map(t=>({control:t,[t]:e[t].filter((t,e,r)=>r.indexOf(t)===e)})):null}return null}get validationMessages(){if(!this.allErrors)return;const t=[];for(const e of this.allErrors){const r=e.control;for(const o of e[r]){let e="";if(e+=`<b>Row ${parseInt(o.rowId,10)+1}:</b> `,"url"===r){const t=20;e+=`"${o.actual.length>t?`${o.actual.slice(0,t)}...`:o.actual}" is not a valid URL.`}"required"===r&&(e+="Content is required."),t.push(e)}}if(t.length>6){const e=t.length-6;t.length=6,t.push(`and ${e} more errors...`)}return t.length>0?t:void 0}deleteRow(t){null==t||t<0||(this.rows.removeAt(t),this.updateAllRowIds(),this.updateErrors())}resetTable(){this.clearAllRows(),this.clearHeaderCells(),this.columnCount=this.originalColumnCount,this.addRows(this.rowCount,this.columnCount),this.addHeaders(this.columnCount,this.columnHeaders),this.allErrors=null}getFormErrors(t){const e={};return this.getAllErrors(t,e),e}getAllErrors(t,e){const r=Object.keys(t.controls);for(let o=0;o<r.length;o+=1){const c=t.get(r[o]);if(c){const t=c instanceof n.j||c instanceof n.d?this.getAllErrors(c,e):c.errors;if(t){const r=c.parent.parent.controls,o=r.recordId?r.recordId.value:void 0,n=Object.keys(t);for(let c=0;c<n.length;c+=1){const r=n[c];let s=t[n[c]];"boolean"==typeof s&&(s={valid:!1}),void 0!==o&&(s.rowId=o),e[r]?e[r].push(s):e[r]=[s]}}}}}clearAllRows(){this.recordsForm.setControl("records",this.formBuilder.array([]))}clearHeaderCells(){this.recordsForm.setControl("headers",this.formBuilder.array([]))}addHeaders(t,e){for(let r=0;r<t;r+=1){const t=e&&e[r]?e[r]:null,o=t?new n.g(t):new n.g;this.headerCells.setControl(r,o)}}createRow(t,e){return this.formBuilder.group({recordId:new n.g(t),columns:this.formBuilder.array(this.createColumns(this.columnCount,e))})}createColumns(t,e){const r=[];for(let o=0;o<t;o+=1){let t=e&&e[o]?e[o]:null;t&&(t=Object(p.e)(t)),r.push(new n.g(t,this.columnValidators?this.columnValidators[o]:null))}return r}generateBlob(t){let e="data:text/csv;charset=utf-8,"+`${t.headers.join("\t")}\r\n`+`${t.records.map(t=>t.columns.map(t=>t?`"${t.replace(/"/g,'""')}"`:"").join("\t")).join("\r\n")}\r\n`;return"csv"===this.outputFormat&&(e=JSON.stringify(e).replace(/\\t/g,",")),new Blob([e],{type:"text/csv"})}};return t.\u0275fac=function(e){return new(e||t)(s.Rb(n.f),s.Rb(s.h),s.Rb(g.a))},t.\u0275cmp=s.Lb({type:t,selectors:[["ts-csv-entry"]],hostAttrs:[1,"ts-csv-entry"],hostVars:3,hostBindings:function(t,e){2&t&&(s.Eb("id",e.id),s.Ib("c-csv-entry--full-width",e.fullWidth))},inputs:{footerDirection:"footerDirection",fullWidth:"fullWidth",outputFormat:"outputFormat",columnCount:"columnCount",columnHeaders:"columnHeaders",columnValidators:"columnValidators",id:"id",maxRows:"maxRows",rowCount:"rowCount"},outputs:{blobGenerated:"blobGenerated"},exportAs:["tsCSVEntry"],ngContentSelectors:k,decls:32,vars:18,consts:[[1,"c-csv-entry","qa-csv-entry"],[1,"c-csv-entry__info","qa-csv-entry-info"],[1,"c-csv-entry__scroll"],["fxLayout","row"],["fxLayout","column"],["fxFlex","0 0 auto"],["class","c-csv-entry__column-id","fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","center center",3,"c-csv-entry__column-id--invalid",4,"ngFor","ngForOf"],["fxFlex","",1,"c-csv-entry__form",3,"formGroup","mousewheel"],["form",""],["formArrayName","headers",1,"c-csv-entry__row","c-csv-entry__row--header","qa-csv-entry-header-row"],["class","c-csv-entry__input c-csv-entry__input--header qa-csv-entry-header-cell","type","text",3,"title","readonly","formControlName","paste","keydown.enter","keydown.tab","keydown.shift.tab",4,"ngFor","ngForOf"],["formArrayName","records"],["class","c-csv-entry__row qa-csv-entry-row",3,"formGroupName",4,"ngFor","ngForOf"],["class","c-csv-entry__delete qa-csv-entry-delete","fxFlex","noshrink",3,"click",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","start stretch",1,"c-csv-entry__messages",3,"fxLayoutGap"],["fxLayout","column","fxLayoutAlign","center end"],["class","c-csv-entry__message qa-csv-entry-message",3,"innerHTML",4,"ngFor","ngForOf"],["class","c-csv-entry__message qa-csv-entry-message",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",3,"dir","fxLayoutGap"],["dir","ltr","fxLayoutGap","1em"],["id","ts-csv-reset","format","hollow","theme","warn",1,"qa-csv-entry-reset",3,"clicked"],["id","ts-csv-add-row","format","hollow",1,"qa-csv-entry-add-row",3,"clicked"],["fxFlex",""],["fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","center center",1,"c-csv-entry__column-id"],["type","text",1,"c-csv-entry__input","c-csv-entry__input--header","qa-csv-entry-header-cell",3,"title","readonly","formControlName","paste","keydown.enter","keydown.tab","keydown.shift.tab"],[1,"c-csv-entry__row","qa-csv-entry-row",3,"formGroupName"],["formArrayName","columns"],["class","c-csv-entry__input qa-csv-entry-cell","type","text",3,"c-csv-entry__input--invalid","title","formControlName","paste","keydown.enter","keydown.shift.enter","keyup","keydown.tab","keydown.shift.tab",4,"ngFor","ngForOf"],["type","text",1,"c-csv-entry__input","qa-csv-entry-cell",3,"title","formControlName","paste","keydown.enter","keydown.shift.enter","keyup","keydown.tab","keydown.shift.tab"],["fxFlex","noshrink",1,"c-csv-entry__delete","qa-csv-entry-delete",3,"click"],[1,"c-csv-entry__message","qa-csv-entry-message",3,"innerHTML"],[1,"c-csv-entry__message","qa-csv-entry-message"]],template:function(t,e){1&t&&(s.pc(),s.Xb(0,"div",0),s.Xb(1,"div",1),s.Mc(2),s.Sb(3,"br"),s.Mc(4),s.Wb(),s.Xb(5,"div",2),s.Xb(6,"div",3),s.Xb(7,"div",4),s.Sb(8,"div",5),s.Kc(9,v,3,4,"div",6),s.Wb(),s.Xb(10,"form",7,8),s.fc("mousewheel",(function(t){return e.onScroll(t)})),s.Xb(12,"div",9),s.Kc(13,w,1,4,"input",10),s.Wb(),s.Xb(14,"div",11),s.Kc(15,x,3,2,"div",12),s.Wb(),s.Wb(),s.Xb(16,"div",4),s.Sb(17,"div",5),s.Kc(18,C,2,2,"ts-icon-button",13),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",14),s.Xb(20,"div",15),s.Kc(21,R,1,1,"div",16),s.Kc(22,D,2,1,"div",17),s.Wb(),s.Xb(23,"div",18),s.Xb(24,"div",19),s.Xb(25,"ts-button",20),s.fc("clicked",(function(){return e.resetTable()})),s.Mc(26,"Reset Table"),s.Wb(),s.Xb(27,"ts-button",21),s.fc("clicked",(function(){return e.addRows()})),s.Mc(28,"Add Row"),s.Wb(),s.Wb(),s.Sb(29,"span",22),s.Xb(30,"div"),s.oc(31),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Db(2),s.Pc(" ",e.rows.length," row",1===e.rows.length?"":"s"," "),s.Db(2),s.Pc(" ",e.columnCount," column",1===e.columnCount?"":"s"," "),s.Db(4),s.Jc("height",e.fakeRowHeight),s.Db(1),s.qc("ngForOf",null==e.rows?null:e.rows.controls),s.Db(1),s.qc("formGroup",e.recordsForm),s.Db(3),s.qc("ngForOf",null==e.headerCells?null:e.headerCells.controls),s.Db(2),s.qc("ngForOf",null==e.rows?null:e.rows.controls),s.Db(2),s.Jc("height",e.fakeRowHeight),s.Db(1),s.qc("ngForOf",null==e.rows?null:e.rows.controls),s.Db(1),s.qc("fxLayoutGap",e.layoutGap),s.Db(2),s.qc("ngForOf",e.validationMessages),s.Db(1),s.qc("ngIf",e.tooManyRowsMessage),s.Db(1),s.qc("dir",e.footerDirection)("fxLayoutGap",e.layoutGap))},directives:[y.d,y.b,o.l,n.D,n.r,n.k,n.e,y.c,y.e,o.m,a.a,n.c,n.q,n.i,n.l,d.a],styles:[".ts-csv-entry{display:inline-block;font-size:16px;max-width:100%}.ts-csv-entry.c-csv-entry--full-width{display:block;width:100%}.ts-csv-entry.c-csv-entry--full-width .c-csv-entry__row{display:block}.ts-csv-entry.c-csv-entry--full-width .c-csv-entry__input{width:100%}.c-csv-entry{--csv-row-height:39px;--csv-cell-padding:8px;--csv-external-row-height:35px}.c-csv-entry .c-csv-entry__scroll{max-height:28.5em;overflow-x:-moz-hidden-unscrollable;overflow-y:auto}.c-csv-entry .c-csv-entry__info{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;letter-spacing:.02em;line-height:1.2em;margin-bottom:4px;margin-right:40px;text-align:right}.c-csv-entry .c-csv-entry__form{border:1px solid #cecdd1;overflow-x:auto}.c-csv-entry .c-csv-entry__row{display:table-row;white-space:nowrap}.c-csv-entry .c-csv-entry__input{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border:1px solid #cecdd1;display:table-cell;font-size:inherit;min-width:72px;padding:var(--csv-cell-padding)}.c-csv-entry .c-csv-entry__input+.c-csv-entry__input{border-left-width:0}.c-csv-entry .c-csv-entry__input:first-of-type{border-left:0}.c-csv-entry .c-csv-entry__input:last-of-type{border-right:0}.c-csv-entry .c-csv-entry__input:focus{background-color:#d3eaf9}.c-csv-entry .c-csv-entry__input--header{border-bottom-width:3px;border-top:0}.c-csv-entry .c-csv-entry__input--invalid{color:#c8604d}.c-csv-entry .c-csv-entry__delete{max-height:var(--csv-external-row-height)}.c-csv-entry .c-csv-entry__delete .ts-icon-button{color:#cecdd1}.c-csv-entry .c-csv-entry__column-id{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;letter-spacing:.02em;color:#cecdd1;max-height:var(--csv-external-row-height);padding:var(--csv-cell-padding)}.c-csv-entry .c-csv-entry__column-id--invalid{color:#c8604d;font-weight:400}.c-csv-entry .c-csv-entry__messages{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:75%;font-weight:400;letter-spacing:.01em;color:#c8604d;line-height:1.2em;margin-left:15px;margin-right:40px;padding-top:4px}.c-csv-entry__row:not(.c-csv-entry__row--header):not(:last-child) .c-csv-entry__input{border-bottom-width:0}"],encapsulation:2,changeDetection:0}),t})(),X=(()=>{let t=class{};return t.\u0275mod=s.Pb({type:t}),t.\u0275inj=s.Ob({factory:function(e){return new(e||t)},imports:[[o.c,i.a,n.y,a.b,d.b,l.b,u.b]]}),t})();var M=r("l50I"),q=r("sEIs");const F=function(){return["foo","bar"]},H=function(){return["Full Width"]},O=[{path:"",component:(()=>{class t{constructor(t){this.validatorsService=t,this.validators=[n.B.required,this.validatorsService.url()],this.footerDirection="ltr"}file(t){console.log("DEMO: Got file from CSV entry: ",t),this.blob=t}generateFile(){this.myFile=new File([this.blob],"testCsv"),function(t,e){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,"test");else{const e=document.createElement("a");document.body.appendChild(e);const r=window.URL.createObjectURL(t);e.href=r,e.download="test",e.click(),setTimeout(()=>{window.URL.revokeObjectURL(r),document.body.removeChild(e)},0)}}(this.blob)}}return t.\u0275fac=function(e){return new(e||t)(s.Rb(M.b))},t.\u0275cmp=s.Lb({type:t,selectors:[["demo-csv-entry"]],decls:25,vars:10,consts:[["tsVerticalSpacing",""],["type","radio","name","direction","value","ltr",3,"ngModel","ngModelChange"],["type","radio","name","direction","value","rtl",3,"ngModel","ngModelChange"],["tsVerticalSpacing","",2,"max-width","80%"],[3,"columnValidators","columnHeaders","footerDirection","blobGenerated"],[3,"click"],["fxLayout","row"],["columnCount","1",3,"columnValidators","columnHeaders","fullWidth","blobGenerated"]],template:function(t,e){1&t&&(s.Xb(0,"ts-card",0),s.Xb(1,"h3",0),s.Mc(2,"CSV Entry"),s.Wb(),s.Xb(3,"div"),s.Mc(4," Footer direction: "),s.Xb(5,"ul"),s.Xb(6,"li"),s.Xb(7,"label"),s.Mc(8," ltr "),s.Xb(9,"input",1),s.fc("ngModelChange",(function(t){return e.footerDirection=t})),s.Wb(),s.Wb(),s.Wb(),s.Xb(10,"li"),s.Xb(11,"label"),s.Mc(12," rtl "),s.Xb(13,"input",2),s.fc("ngModelChange",(function(t){return e.footerDirection=t})),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"div",3),s.Xb(15,"ts-csv-entry",4),s.fc("blobGenerated",(function(t){return e.file(t)})),s.Xb(16,"button"),s.Mc(17,"My Custom Content!"),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"button",5),s.fc("click",(function(){return e.generateFile()})),s.Mc(19,"Generate file & download"),s.Wb(),s.Wb(),s.Xb(20,"ts-card",0),s.Xb(21,"h3",0),s.Mc(22,"CSV Full Width Entry"),s.Wb(),s.Xb(23,"div",6),s.Xb(24,"ts-csv-entry",7),s.fc("blobGenerated",(function(t){return e.file(t)})),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Db(9),s.qc("ngModel",e.footerDirection),s.Db(4),s.qc("ngModel",e.footerDirection),s.Db(2),s.qc("columnValidators",e.validators)("columnHeaders",s.uc(8,F))("footerDirection",e.footerDirection),s.Db(9),s.qc("columnValidators",e.validators)("columnHeaders",s.uc(9,H))("fullWidth",!0))},directives:[c.a,f.c,n.x,n.c,n.q,n.t,I],encapsulation:2}),t})()}];let A=(()=>{class t{}return t.\u0275mod=s.Pb({type:t}),t.\u0275inj=s.Ob({factory:function(e){return new(e||t)},imports:[[q.f.forChild(O)],q.f]}),t})(),E=(()=>{class t{}return t.\u0275mod=s.Pb({type:t}),t.\u0275inj=s.Ob({factory:function(e){return new(e||t)},imports:[[o.c,A,n.m,c.b,X,f.b,M.a]]}),t})()}}]);