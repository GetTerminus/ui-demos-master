(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"9k2g":function(e,t,o){"use strict";o.d(t,"a",function(){return i});var i={BACKSPACE:{code:"Backspace",keyCode:8},TAB:{code:"Tab",keyCode:9},ENTER:{code:"Enter",keyCode:13},ESCAPE:{code:"Escape",keyCode:27},SPACE:{code:"Space",keyCode:32},PAGE_UP:{code:"PageUp",keyCode:33},PAGE_DOWN:{code:"PageDown",keyCode:34},END:{code:"End",keyCode:35},HOME:{code:"Home",keyCode:36},LEFT_ARROW:{code:"ArrowLeft",keyCode:37},UP_ARROW:{code:"ArrowUp",keyCode:38},RIGHT_ARROW:{code:"ArrowRight",keyCode:39},DOWN_ARROW:{code:"ArrowDown",keyCode:40},DELETE:{code:"Delete",keyCode:46},ZERO:{code:"Digit0",keyCode:48},ONE:{code:"Digit1",keyCode:49},TWO:{code:"Digit2",keyCode:50},THREE:{code:"Digit3",keyCode:51},FOUR:{code:"Digit4",keyCode:52},FIVE:{code:"Digit5",keyCode:53},SIX:{code:"Digit6",keyCode:54},SEVEN:{code:"Digit7",keyCode:55},EIGHT:{code:"Digit8",keyCode:56},NINE:{code:"Digit9",keyCode:57},A:{code:"KeyA",keyCode:65},B:{code:"KeyB",keyCode:66},C:{code:"KeyC",keyCode:67},D:{code:"KeyD",keyCode:68},E:{code:"KeyE",keyCode:69},F:{code:"KeyF",keyCode:70},G:{code:"KeyG",keyCode:71},H:{code:"KeyH",keyCode:72},I:{code:"KeyI",keyCode:73},J:{code:"KeyJ",keyCode:74},K:{code:"KeyK",keyCode:75},L:{code:"KeyL",keyCode:76},M:{code:"KeyM",keyCode:77},N:{code:"KeyN",keyCode:78},O:{code:"KeyO",keyCode:79},P:{code:"KeyP",keyCode:80},Q:{code:"KeyQ",keyCode:81},R:{code:"KeyR",keyCode:82},S:{code:"KeyS",keyCode:83},T:{code:"KeyT",keyCode:84},U:{code:"KeyU",keyCode:85},V:{code:"KeyV",keyCode:86},W:{code:"KeyW",keyCode:87},X:{code:"KeyX",keyCode:88},Y:{code:"KeyY",keyCode:89},Z:{code:"KeyZ",keyCode:90},COMMA:{code:"Comma",keyCode:188}}},mxRT:function(e,t,o){"use strict";o.d(t,"h",function(){return ae}),o.d(t,"g",function(){return le}),o.d(t,"l",function(){return $}),o.d(t,"d",function(){return F}),o.d(t,"c",function(){return I}),o.d(t,"j",function(){return K}),o.d(t,"k",function(){return M}),o.d(t,"i",function(){return Q}),o.d(t,"b",function(){return z}),o.d(t,"a",function(){return G}),o.d(t,"f",function(){return Z}),o.d(t,"e",function(){return N});var i=o("4c35"),n=o("mrSG"),s=o("lLAP"),r=o("YlbQ"),l=o("eDkP"),a=o("CcnG"),c=o("gIcY"),h=o("9Kf0"),u=o("VYBx"),p=o("9k2g"),d=o("l5YW"),f=o("N0SF"),g=o("K9Ia"),m=o("lYZG"),y=o("p0ib"),b=o("pugT"),v=o("F/XL"),O=o("bne5"),C=o("26FU"),w=o("t9fZ"),R=o("15JJ"),S=o("VnD/"),P=o("67Y/"),E=o("xMyE"),k=o("vubp"),A=o("Gi3i"),D=o("ad02"),j=o("p0Sj"),T=o("ny24"),M=(o("ihYY"),function(){return function(e){this.elementRef=e}}()),_=function(){return function(e,t){void 0===t&&(t=!1),this.source=e,this.isUserInput=t}}(),F=new a.r("TS_OPTION_PARENT_COMPONENT"),I=new a.r("TS_OPTGROUP_PARENT_COMPONENT"),V=0,K=function(){function e(e,t,o,i,n){this.elementRef=e,this.changeDetectorRef=t,this.ngZone=o,this.parent=i,this.group=n,this.mostRecentViewValue="",this.stateChanges=new g.a,this.title="",this.uid="ts-select-option-"+V++,this.active=!1,this.selected=!1,this._id=this.uid,this._isDisabled=!1,this.selectionChange=new a.n}return Object.defineProperty(e.prototype,"allowMultiple",{get:function(){return!(!this.parent||!this.parent.allowMultiple)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autocomplete",{get:function(){return!(!this.parent||!this.parent.autocomplete)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){return this.isDisabled?"-1":"0"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewValue",{get:function(){return((this.displayElementRef?this.displayElementRef.elementRef.nativeElement.textContent:this.hostElement.textContent)||"").trim()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this.uid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return this.group&&this.group.isDisabled||this._isDisabled},set:function(e){this._isDisabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"option",{get:function(){return this._option},set:function(e){this._option=e},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;if(this.optionTemplate&&!this.option&&Object(a.db)())throw Error("TsSelectOptionComponent: The full 'option' object must be passed in when using a custom template.");this.ngZone.onStable.asObservable().pipe(Object(w.a)(1)).subscribe(function(){e.title=e.viewValue})},e.prototype.ngAfterViewChecked=function(){if(this.selected){var e=this.viewValue;e!==this.mostRecentViewValue&&(this.mostRecentViewValue=e,this.stateChanges.next())}},e.prototype.ngOnDestroy=function(){this.stateChanges.complete()},e.prototype.getLabel=function(){return this.viewValue},e.prototype.deselect=function(){this.selected&&(this.selected=!1,this.changeDetectorRef.markForCheck(),this.emitSelectionChangeEvent()),this.group&&this.allowMultiple&&this.group.triggerChangeDetection(this.id)},e.prototype.handleKeydown=function(e){e.code!==p.a.ENTER.code&&e.code!==p.a.SPACE.code||(this.selectViaInteraction(),e.preventDefault())},e.prototype.select=function(){this.selected||(this.selected=!0,this.changeDetectorRef.markForCheck(),this.emitSelectionChangeEvent()),this.group&&this.allowMultiple&&this.group.triggerChangeDetection(this.id)},e.prototype.selectViaInteraction=function(){this.isDisabled||(this.selected=!this.allowMultiple||!this.selected,this.changeDetectorRef.markForCheck(),this.emitSelectionChangeEvent(!0))},e.prototype.setActiveStyles=function(){this.active||(this.active=!0,this.changeDetectorRef.markForCheck())},e.prototype.setInactiveStyles=function(){var e=this;this.active&&setTimeout(function(){e.active=!1,e.changeDetectorRef.markForCheck()})},e.prototype.emitSelectionChangeEvent=function(e){void 0===e&&(e=!1),this.selectionChange.emit(new _(this,e))},e}(),x=function(){return function(e,t){this.source=e,this.option=t}}(),W=0,N=function(){function e(e,t){this.changeDetectorRef=e,this.elementRef=t,this.showPanel=!1,this.uid="ts-select-autocomplete-"+W++,this.isOpen=!1,this.displayWith=null,this._id=this.uid,this.optionSelected=new a.n,this.opened=new a.n,this.closed=new a.n}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this.keyManager=new s.b(this.options).withWrap(),this.setVisibility()},e.prototype.emitSelectEvent=function(e){var t=new x(this,e);this.optionSelected.emit(t)},e.prototype.getScrollTop=function(){return this.panel?this.panel.nativeElement.scrollTop:0},e.prototype.setScrollTop=function(e){this.panel&&(this.panel.nativeElement.scrollTop=e)},e.prototype.setVisibility=function(){this.showPanel=!!this.options.length,this.changeDetectorRef.markForCheck()},e}();function Y(e){return!(!e||e.toArray().length<1||e.toArray().some(function(e){return!e.selected}))}function L(e,t,o){if(o.length){for(var i=t.toArray(),n=o.toArray(),s=0,r=0;r<e+1;r++)i[r].group&&i[r].group===n[s]&&s++;return s}return 0}function H(e,t,o,i){var n=e*t;return n<o?n:n+t>o+i?Math.max(0,n-i+t):o}function B(e){if(!e||e.toArray().length<1)return!1;var t=e.toArray().some(function(e){return e.selected}),o=Y(e);return t&&!o}function U(e){var t,o;if(e&&!(e.toArray().length<1)){var i=e.toArray(),s=e.some(function(e){return e.selected});try{for(var r=Object(n.__values)(i),l=r.next();!l.done;l=r.next()){var a=l.value;s&&a.selected&&!a.isDisabled&&a.deselect(),s||a.selected||a.isDisabled||a.select()}}catch(c){t={error:c}}finally{try{l&&!l.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}}}var G=new a.r("mat-autocomplete-scroll-strategy");function z(e){return function(){return e.scrollStrategies.reposition()}}var X=0,Z=function(){function e(e,t,o,i,s,r,l,a,c){var h=this;this.elementRef=e,this.overlay=t,this.viewContainerRef=o,this.ngZone=i,this.changeDetectorRef=s,this.documentService=r,this.viewportRuler=l,this.formField=c,this.canOpenOnNextFocus=!0,this.closeKeyEventStream=new g.a,this.componentDestroyed=!1,this.manuallyFloatingLabel=!1,this.optionSelections=Object(m.a)(function(){return h.autocompletePanel&&h.autocompletePanel.options?y.a.apply(void 0,Object(n.__spread)(h.autocompletePanel.options.map(function(e){return e.selectionChange}))):h.ngZone.onStable.asObservable().pipe(Object(w.a)(1),Object(R.a)(function(){return h.optionSelections}))}),this.overlayAttached=!1,this.viewportSubscription=b.a.EMPTY,this.uid="ts-autocomplete-trigger-"+X++,this.autocompleteAttribute="off",this._autocompleteDisabled=!1,this._reopenAfterSelection=!1,this.onChange=function(){},this.onTouched=function(){},this.windowBlurHandler=function(){h.canOpenOnNextFocus=h.document.activeElement!==h.elementRef.nativeElement||h.panelOpen},"undefined"!=typeof window&&i.runOutsideAngular(function(){window.addEventListener("blur",h.windowBlurHandler)}),this.scrollStrategy=a,this.document=this.documentService.document}return Object.defineProperty(e.prototype,"activeOption",{get:function(){return this.autocompletePanel&&this.autocompletePanel.keyManager?this.autocompletePanel.keyManager.activeItem:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panelClosingActions",{get:function(){var e=this;return Object(y.a)(this.optionSelections,this.autocompletePanel.keyManager.tabOut.pipe(Object(S.a)(function(){return e.overlayAttached})),this.closeKeyEventStream,this.getOutsideClickStream(),this.overlayRef?this.overlayRef.detachments().pipe(Object(S.a)(function(){return e.overlayAttached})):Object(v.a)()).pipe(Object(P.a)(function(e){return e instanceof _?e:null}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panelOpen",{get:function(){return this.overlayAttached&&this.autocompletePanel.showPanel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autocompleteDisabled",{get:function(){return this._autocompleteDisabled},set:function(e){!Object(h.h)(e)&&e&&Object(a.db)()&&console.warn("TsAutocompleteTriggerDirective: \"tsAutocompleteDisabled\" value is not a boolean. String values of 'true' and 'false' will no longer be coerced to a true boolean with the next release."),this._autocompleteDisabled=Object(u.b)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reopenAfterSelection",{get:function(){return this._reopenAfterSelection},set:function(e){!Object(h.h)(e)&&e&&Object(a.db)()&&console.warn("TsAutocompleteTriggerDirective: \"reopenAfterSelection\" value is not a boolean. String values of 'true' and 'false' will no longer be coerced to a true boolean with the next release."),this._reopenAfterSelection=Object(u.b)(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){"undefined"!=typeof window&&window.removeEventListener("blur",this.windowBlurHandler),this.viewportSubscription.unsubscribe(),this.componentDestroyed=!0,this.destroyPanel(),this.closeKeyEventStream.complete()},e.prototype.closePanel=function(e){this.resetLabel(),this.overlayAttached&&(this.panelOpen&&this.autocompletePanel.closed.emit(),this.autocompletePanel.isOpen=this.overlayAttached=!1,this.overlayRef&&this.overlayRef.hasAttached()&&(this.overlayRef.detach(),this.closingActionsSubscription.unsubscribe()),this.componentDestroyed||this.changeDetectorRef.detectChanges(),this.reopenAfterSelection&&!e&&this.openPanel())},e.prototype.handleFocus=function(){this.canOpenOnNextFocus?this.canOpen()&&(this.previousValue=this.elementRef.nativeElement.value,this.attachOverlay(),this.floatLabel(!0)):this.canOpenOnNextFocus=!0},e.prototype.handleInput=function(e){var t=e.target,o=t.value;"number"===t.type&&(o=""===o?null:parseFloat(o)),this.previousValue!==o&&this.document.activeElement===e.target&&(this.previousValue=o,this.onChange(o),this.canOpen()&&this.openPanel())},e.prototype.handleKeydown=function(e){var t=e.code;if(t===p.a.ESCAPE.code&&e.preventDefault(),this.activeOption&&t===p.a.ENTER.code&&this.panelOpen)this.activeOption.selectViaInteraction(),this.resetActiveItem(),e.preventDefault();else if(this.autocompletePanel){var o=this.autocompletePanel.keyManager.activeItem,i=t===p.a.UP_ARROW.code||t===p.a.DOWN_ARROW.code;this.panelOpen||t===p.a.TAB.code?this.autocompletePanel.keyManager.onKeydown(e):i&&this.canOpen()&&this.openPanel(),(i||this.autocompletePanel.keyManager.activeItem!==o)&&this.scrollToOption()}},e.prototype.openPanel=function(){this.attachOverlay(),this.floatLabel()},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.elementRef.nativeElement.disabled=e},e.prototype.writeValue=function(e){var t=this;Promise.resolve(null).then(function(){return t.setTriggerValue(e)})},e.prototype.attachOverlay=function(){var e=this;if(!this.autocompletePanel&&Object(a.db)())throw Error("TsAutocompleteTriggerDirective: Attempting to open an undefined instance of `ts-autocomplete-panel`.");this.overlayRef?this.overlayRef.updateSize({width:this.getPanelWidth()}):(this.portal=new i.i(this.autocompletePanel.template,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig()),this.overlayRef.keydownEvents().subscribe(function(t){(t.code===p.a.ESCAPE.code||t.code===p.a.UP_ARROW.code&&t.altKey)&&(e.resetActiveItem(),e.closeKeyEventStream.next())}),this.viewportSubscription=this.viewportRuler.change().subscribe(function(){e.panelOpen&&e.overlayRef&&e.overlayRef.updateSize({width:e.getPanelWidth()})}));var t=!this.overlayRef.hasAttached();this.overlayRef&&t&&(this.overlayRef.attach(this.portal),this.closingActionsSubscription=this.subscribeToClosingActions());var o=this.panelOpen;this.autocompletePanel.setVisibility(),this.autocompletePanel.isOpen=this.overlayAttached=!0,this.panelOpen&&o!==this.panelOpen&&this.autocompletePanel.opened.emit()},e.prototype.canOpen=function(){var e=this.elementRef.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled},e.prototype.clearPreviousSelectedOption=function(e){this.autocompletePanel.options.forEach(function(t){t!=e&&t.selected&&t.deselect()})},e.prototype.destroyPanel=function(){this.overlayRef&&(this.closePanel(),this.overlayRef.dispose(),this.overlayRef=null)},e.prototype.floatLabel=function(e){void 0===e&&(e=!1),this.formField&&"auto"===this.formField.floatLabel&&(e?this.formField.animateAndLockLabel():this.formField.floatLabel="always",this.manuallyFloatingLabel=!0)},e.prototype.getConnectedElement=function(){return this.formField?this.formField.getConnectedOverlayOrigin():this.elementRef},e.prototype.getHostWidth=function(){return this.getConnectedElement().nativeElement.getBoundingClientRect().width},e.prototype.getOverlayConfig=function(){return new l.d({positionStrategy:this.getOverlayPosition(),scrollStrategy:this.scrollStrategy(),width:this.getPanelWidth(),direction:"ltr"})},e.prototype.getOverlayPosition=function(){return this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.getConnectedElement()).withFlexibleDimensions(!1).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"}]),this.positionStrategy},e.prototype.getOutsideClickStream=function(){var e=this;return this.document?Object(y.a)(Object(O.a)(this.document,"click"),Object(O.a)(this.document,"touchend")).pipe(Object(S.a)(function(t){var o=t.target,i=e.formField?e.formField.elementRef.nativeElement:null;return e.overlayAttached&&o!==e.elementRef.nativeElement&&(!i||!i.contains(o))&&!!e.overlayRef&&!e.overlayRef.overlayElement.contains(o)})):Object(v.a)(null)},e.prototype.getPanelWidth=function(){return this.getHostWidth()},e.prototype.resetActiveItem=function(){this.autocompletePanel.keyManager.setActiveItem(-1)},e.prototype.resetLabel=function(){this.manuallyFloatingLabel&&(this.formField.floatLabel="auto",this.manuallyFloatingLabel=!1)},e.prototype.scrollToOption=function(){var e=this.autocompletePanel.keyManager.activeItemIndex||0,t=H(e+L(e,this.autocompletePanel.options,this.autocompletePanel.optionGroups),48,this.autocompletePanel.getScrollTop(),256);this.autocompletePanel.setScrollTop(t)},e.prototype.setTriggerValue=function(e){var t=this.autocompletePanel&&this.autocompletePanel.displayWith,o=t?t(e):e,i=Object(h.o)(o)?o:"";this.formField?this.formField.control.value=i:this.elementRef.nativeElement.value=i},e.prototype.setValueAndClose=function(e){this.clearPreviousSelectedOption(e.source),this.setTriggerValue(e.source.value),this.onChange(e.source.value),this.elementRef.nativeElement.focus(),this.autocompletePanel.emitSelectEvent(e.source),this.closePanel()},e.prototype.subscribeToClosingActions=function(){var e=this,t=this.ngZone.onStable.asObservable().pipe(Object(w.a)(1)),o=this.autocompletePanel.options.changes.pipe(Object(E.a)(function(){return e.positionStrategy.reapplyLastPosition()}),Object(k.a)(0));return Object(y.a)(t,o).pipe(Object(R.a)(function(){return e.resetActiveItem(),e.autocompletePanel.setVisibility(),e.panelClosingActions}),Object(w.a)(1)).subscribe(function(t){t&&t.source&&void 0!==t.source.value&&e.setValueAndClose(t)})},e}(),q=0,Q=function(){function e(e,t,o){this.changeDetectorRef=e,this.elementRef=t,this.parent=o,this.allSelected=!1,this.labelId="ts-select-optgroup-label-"+q++,this.someSelected=!1,this.uid="ts-select-optgroup-"+q++,this._id=this.uid,this.isDisabled=!1}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this.uid},enumerable:!0,configurable:!0}),e.prototype.toggle=function(){!this.isDisabled&&this.parent.allowMultiple&&U(this.optgroupOptions)},e.prototype.triggerChangeDetection=function(){this.allSelected=Y(this.optgroupOptions),this.someSelected=B(this.optgroupOptions),this.changeDetectorRef.detectChanges()},e}(),J=0,$=function(){function e(){this.uid="ts-select-trigger-"+J++,this._id=this.uid}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this.uid},enumerable:!0,configurable:!0}),e}(),ee=2,te=200,oe=",",ie=function(e,t){return e===t},ne=function(){return function(e,t){this.source=e,this.value=t}}(),se=0,re=100,le=function(){function e(e,t,o,i,s,r){var l=this;this.viewportRuler=e,this.changeDetectorRef=t,this.ngZone=o,this.documentService=i,this.elementRef=s,this.ngControl=r,this.autocompleteFormControl=new c.i([]),this.autocompleteSelections=[],this.flexGap=d.a.small[0],this.labelChanges=new g.a,this.offsetY=0,this.optionIds="",this.optionSelectionChanges=Object(m.a)(function(){return y.a.apply(void 0,Object(n.__spread)(l.options.map(function(e){return e.selectionChange})))}),this.panelDoneAnimatingStream=new g.a,this.panelOpen=!1,this.positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this.scrollTop=0,this.searchQuery="",this.selfReference=this,this.stateChanges=new g.a,this.transformOrigin="top",this.triggerFontSize=0,this.uid="ts-select-"+se++,this.querySubject=new C.a(""),this.viewportMarginSpacing=re,this.allowMultiple=!1,this.autocomplete=!1,this.autocompleteAllowDuplicateSelections=!1,this.autocompleteReopenAfterSelection=!1,this._compareWith=ie,this._debounceDelay=te,this._delimiter=oe,this.hideRequiredMarker=!1,this._id=this.uid,this.isDisabled=!1,this.isFilterable=!1,this._isRequired=!1,this._minimumCharacters=ee,this.showProgress=!1,this._tabIndex=0,this.theme="primary",this.validateOnChange=!1,this.closed=new a.n,this.duplicateSelection=new a.n,this.opened=new a.n,this.optionDeselected=new a.n,this.optionSelected=new a.n,this.queryChange=new a.n,this.selectionChange=new a.n,this.valueChange=new a.n,this.onChange=function(){},this.onTouched=function(){},this.document=this.documentService.document,this.ngControl&&(this.ngControl.valueAccessor=this)}return Object.defineProperty(e.prototype,"allOptionsSelected",{get:function(){return Y(this.options)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return!this.autocomplete&&this.selectionModel&&this.selectionModel.isEmpty()||this.autocomplete&&!this.autocompleteFormControl.value.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focused",{get:function(){return this.document.activeElement===(this.inputElement&&this.inputElement.nativeElement)||this.panelOpen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemCount",{get:function(){return this.options.length+this.optionGroups.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemHeight",{get:function(){var e=this.options.toArray();return(e[1]||e[0]).elementRef.nativeElement.offsetHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"someOptionsSelected",{get:function(){return B(this.options)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldLabelFloat",{get:function(){return this.focused||!this.empty||this.searchQuery.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectTriggerValue",{get:function(){return this.allowMultiple?this.selectionModel.selected.map(function(e){return e.viewValue}).join(this.delimiter+" "):this.autocomplete?this.autocompleteFormControl.value:this.selectionModel.selected[0].viewValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this.allowMultiple?this.selectionModel.selected:this.selectionModel.selected[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chipFormatUIFn",{get:function(){return this._chipFormatUIFn},set:function(e){if(e)if(Object(h.i)(e))this._chipFormatUIFn=e;else if(Object(a.db)())throw Error("TsSelectComponent: 'chipFormatUIFn' must be passed a 'TsSelectFormatFn'.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"compareWith",{get:function(){return this._compareWith},set:function(e){"function"!=typeof e&&Object(a.db)()&&(console.warn('TsSelectComponent: "compareWith" must be a function. Falling back to the default.'),this._compareWith=ie),this._compareWith=e,this.selectionModel&&this.initializeSelection()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debounceDelay",{get:function(){return this._debounceDelay},set:function(e){this._debounceDelay=Object(u.c)(e,te)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delimiter",{get:function(){return this._delimiter},set:function(e){this._delimiter=Object(h.m)(e)?e:oe},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hint",{get:function(){return this._hint},set:function(e){this._hint=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this.uid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){var e=this.ngControl&&this.ngControl.control,t=!!e&&Object(h.g)(e);return this._isRequired||t},set:function(e){this._isRequired=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumCharacters",{get:function(){return this._minimumCharacters},set:function(e){this._minimumCharacters=Object(u.c)(e,ee)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){return this._tabIndex},set:function(e){this._tabIndex=Object(u.c)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!==this._value&&(this._value=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.selectionModel=new r.c(this.allowMultiple),this.ngControl&&this.ngControl.form?(this.autocomplete&&this.ngControl.value&&(this.autocompleteFormControl.setValue(this.ngControl.value),this.autocompleteSelections=this.ngControl.value),this.ngControl.valueChanges&&this.ngControl.valueChanges.pipe(Object(h.r)(this)).subscribe(function(t){t&&(e.autocomplete?(e.autocompleteFormControl.setValue(t,{emitEvent:!1}),e.autocompleteSelections=e.ngControl.value):e.setSelectionByValue(t))})):setTimeout(function(){e.autocomplete&&e.ngControl&&e.ngControl.value&&(e.autocompleteFormControl.setValue(e.ngControl.value),e.autocompleteSelections=e.ngControl.value)}),this.querySubject.pipe(Object(h.r)(this),Object(A.a)(this.debounceDelay),Object(R.a)(function(t){return Object(v.a)(t&&t.length>=e.minimumCharacters?t:"")}),Object(D.a)()).subscribe(function(t){var o=e.inputElement.nativeElement.value;e.queryChange.emit(t===o||""===t?t:o)}),this.autocompleteFormControl.valueChanges.pipe(Object(h.r)(this)).subscribe(function(t){e.propagateChanges(t)})},e.prototype.ngAfterContentInit=function(){var e=this;this.initKeyManager(),this.selectionModel.changed.pipe(Object(h.r)(this)).subscribe(function(t){t.added.forEach(function(t){t.select(),e.optionSelected.emit(new ne(e,t.value))}),t.removed.forEach(function(t){t.deselect(),e.optionDeselected.emit(new ne(e,t.value))})}),this.options.changes.pipe(Object(j.a)(null),Object(S.a)(function(){return!e.autocomplete}),Object(h.r)(this)).subscribe(function(){e.resetOptions(),e.initializeSelection()})},e.prototype.ngOnChanges=function(e){Object(f.c)(e,"label")&&!e.label.firstChange&&(this.changeDetectorRef.detectChanges(),this.labelChanges.next())},e.prototype.ngOnDestroy=function(){this.stateChanges.complete()},e.prototype.toggle=function(){this.isDisabled||(this.panelOpen?this.close():this.open())},e.prototype.open=function(){var e=this;!this.isDisabled&&this.options&&this.options.length&&!this.panelOpen&&(this.triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this.triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement)["font-size"],10),this.panelOpen=!0,this.keyManager.withHorizontalOrientation(null),this.highlightCorrectOption(),this.changeDetectorRef.markForCheck(),this.ngZone.onStable.asObservable().pipe(Object(w.a)(1)).subscribe(function(){e.autocomplete||e.triggerFontSize&&e.overlayDir.overlayRef&&e.overlayDir.overlayRef.overlayElement&&(e.overlayDir.overlayRef.overlayElement.style.fontSize=e.triggerFontSize+"px"),e.optionRect=e.options.first.elementRef.nativeElement.getBoundingClientRect(),e.calculateOverlayPosition()}),this.opened.emit())},e.prototype.close=function(){this.panelOpen&&(this.panelOpen=!1,this.keyManager.withHorizontalOrientation("ltr"),this.changeDetectorRef.markForCheck(),this.onTouched(),this.updateValueAndValidity(),this.closed.emit())},e.prototype.onAttached=function(){var e=this;this.overlayDir.positionChange.pipe(Object(w.a)(1)).subscribe(function(){e.changeDetectorRef.detectChanges(),e.setPanelScrollTop(e.scrollTop)})},e.prototype.handleKeydown=function(e){this.isDisabled||(this.panelOpen?this.handleOpenKeydown(e):this.handleClosedKeydown(e))},e.prototype.handleClosedKeydown=function(e){var t=e.code,o=[p.a.DOWN_ARROW.code,p.a.UP_ARROW.code,p.a.LEFT_ARROW.code,p.a.RIGHT_ARROW.code].indexOf(t)>=0;t===p.a.ENTER.code||t===p.a.SPACE.code||(this.allowMultiple||e.altKey)&&o?(e.preventDefault(),this.open()):this.allowMultiple||this.keyManager.onKeydown(e)},e.prototype.handleOpenKeydown=function(e){var t=e.code,o=t===p.a.DOWN_ARROW.code||t===p.a.UP_ARROW.code,i=this.keyManager,n=this.isFilterable&&"input"===e.target.tagName.toLowerCase();if(t===p.a.HOME.code||t===p.a.END.code)e.preventDefault(),t===p.a.HOME.code?i.setFirstItemActive():i.setLastItemActive();else if(o&&e.altKey)e.preventDefault(),this.close();else if((t===p.a.ENTER.code||t===p.a.SPACE.code&&!n)&&i.activeItem)e.preventDefault(),i.activeItem.selectViaInteraction();else if(this.allowMultiple&&t===p.a.A.code&&e.ctrlKey){e.preventDefault();var s=this.options.some(function(e){return!e.isDisabled&&!e.selected});this.options.forEach(function(e){e.isDisabled||(s?e.select():e.deselect())})}else{var r=this.allowMultiple&&o&&e.shiftKey;o&&e.shiftKey?t===p.a.DOWN_ARROW.code?i.setNextItemActive():i.setPreviousItemActive():i.onKeydown(e),r&&i.activeItem&&i.activeItem.selectViaInteraction()}},e.prototype.resetOptions=function(){var e=this;this.optionSelectionChanges.pipe(Object(T.a)(this.options.changes),Object(h.r)(this)).subscribe(function(t){e.autocomplete||e.onSelect(t.source,t.isUserInput),t.isUserInput&&!e.allowMultiple&&e.panelOpen&&(e.close(),e.focus())}),y.a.apply(void 0,Object(n.__spread)(this.options.map(function(e){return e.stateChanges}))).pipe(Object(h.r)(this)).subscribe(function(){e.changeDetectorRef.markForCheck(),e.stateChanges.next()}),this.setOptionIds()},e.prototype.onSelect=function(e,t){var o=this.selectionModel.isSelected(e);null!=e.value||this.allowMultiple?(e.selected?this.selectionModel.select(e):this.selectionModel.deselect(e),t&&this.keyManager.setActiveItem(e),this.allowMultiple&&(this.sortValues(),t&&this.focus())):(e.deselect(),this.selectionModel.clear(),this.propagateChanges(e.value)),o!==this.selectionModel.isSelected(e)&&this.propagateChanges(),this.stateChanges.next()},e.prototype.setOptionIds=function(){this.optionIds=this.options.map(function(e){return e.id}).join(" ")},e.prototype.initKeyManager=function(){var e=this;this.keyManager=this.autocomplete?new s.b(this.options).withTypeAhead().withVerticalOrientation().withHorizontalOrientation("ltr").withWrap():new s.b(this.options).withTypeAhead().withVerticalOrientation().withHorizontalOrientation("ltr"),this.keyManager.tabOut.pipe(Object(h.r)(this)).subscribe(function(){e.focus(),e.close()}),this.keyManager.change.pipe(Object(h.r)(this)).subscribe(function(){e.panelOpen&&e.panel?e.scrollActiveOptionIntoView():e.panelOpen||e.allowMultiple||!e.keyManager.activeItem||e.keyManager.activeItem.selectViaInteraction()})},e.prototype.focus=function(){this.autocomplete?this.inputElement.nativeElement.focus():this.elementRef.nativeElement.focus()},e.prototype.sortValues=function(){var e=this;if(this.allowMultiple){var t=this.options.toArray();this.selectionModel.sort(function(o,i){return e.sortComparator?e.sortComparator(o,i,t):t.indexOf(o)-t.indexOf(i)}),this.stateChanges.next()}},e.prototype.propagateChanges=function(e){var t;t=this.autocomplete?this.autocompleteFormControl.value:this.allowMultiple?this.selected.map(function(e){return e.value}):this.selected?this.selected.value:e,this.value=t,this.valueChange.emit(t),this.onChange(t),this.selectionChange.emit(new ne(this,t)),this.changeDetectorRef.markForCheck()},e.prototype.updateValueAndValidity=function(){this.ngControl&&this.ngControl.control&&this.ngControl.control.updateValueAndValidity()},e.prototype.writeValue=function(e){},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.isDisabled=e,this.changeDetectorRef.markForCheck(),this.stateChanges.next()},e.prototype.initializeSelection=function(){var e=this;Promise.resolve().then(function(){e.setSelectionByValue(e.ngControl?e.ngControl.value:e.value)})},e.prototype.setSelectionByValue=function(e){var t=this;if(this.allowMultiple&&e)e=Object(u.a)(e),this.selectionModel.clear(),e.forEach(function(e){return t.selectOptionByValue(e)}),this.sortValues();else{this.selectionModel.clear();var o=this.selectOptionByValue(e);o&&this.keyManager.setActiveItem(o)}this.changeDetectorRef.markForCheck()},e.prototype.selectOptionByValue=function(e){var t=this,o=this.options.find(function(o){try{return null!=o.value&&t.compareWith(o.value,e)}catch(i){return Object(a.db)()&&console.warn(i),!1}});return o&&this.selectionModel.select(o),o},e.prototype.scrollActiveOptionIntoView=function(){var e=this.keyManager.activeItemIndex||0,t=H(e+L(e,this.options,this.optionGroups),this.itemHeight,this.getPanelScrollTop(),256);this.setPanelScrollTop(t)},e.prototype.calculateOverlayPosition=function(){if(!this.autocomplete){var e=this.itemHeight,t=this.itemCount,o=Math.min(t*e,256),i=t*e-o,n=this.empty?0:this.getOptionIndex(this.selectionModel.selected[0]);n+=L(n,this.options,this.optionGroups);var s=o/2;this.scrollTop=this.calculateOverlayScroll(n,s,i),this.offsetY=this.calculateOverlayOffsetY(n,s,i),this.checkOverlayWithinViewport(i)}},e.prototype.calculateOverlayScroll=function(e,t,o){var i=this.itemHeight;return Math.min(Math.max(0,i*e-t+i/2),o)},e.prototype.calculateOverlayOffsetY=function(e,t,o){var i=this.itemHeight,n=(i-(this.triggerRect?this.triggerRect.height:0))/2,s=Math.floor(256/i);return Math.round(-1*(0===this.scrollTop?e*i:this.scrollTop===o?(e-(this.itemCount-s))*i+(i-(this.itemCount*i-256)%i):t-i/2)-n)},e.prototype.checkOverlayWithinViewport=function(e){var t=this.itemHeight,o=this.viewportRuler.getViewportSize(),i=this.triggerRect?this.triggerRect.top-8:0,n=o.height-(this.triggerRect?this.triggerRect.bottom:0)-8,s=Math.abs(this.offsetY),r=Math.min(this.itemCount*t,256)-s-(this.triggerRect?this.triggerRect.height:0);r>n?this.adjustPanelUp(r,n):s>i?this.adjustPanelDown(s,i,e):this.transformOrigin=this.getOriginBasedOnOption()},e.prototype.adjustPanelUp=function(e,t){var o=Math.round(e-t);this.scrollTop-=o,this.offsetY=this.offsetY-o<0?0:this.offsetY-o,this.transformOrigin=this.getOriginBasedOnOption(),this.scrollTop<=0&&(this.scrollTop=0,this.offsetY=0,this.transformOrigin="50% bottom 0px")},e.prototype.adjustPanelDown=function(e,t,o){var i=Math.round(e-t);if(this.scrollTop+=i,this.offsetY=this.offsetY+i<0?0:this.offsetY+i,this.transformOrigin=this.getOriginBasedOnOption(),this.scrollTop>=o)return this.scrollTop=o,this.offsetY=0,void(this.transformOrigin="50% top 0px")},e.prototype.getOriginBasedOnOption=function(){var e=this.itemHeight,t=(e-(this.triggerRect?this.triggerRect.height:0))/2;return"50% "+(Math.abs(this.offsetY)-t+e/2)+"px 0px"},e.prototype.getOptionIndex=function(e){return this.options.reduce(function(t,o,i){var n=e===o?i:void 0;return Object(h.n)(t)?n:t},void 0)},e.prototype.highlightCorrectOption=function(){this.keyManager&&(this.empty?this.keyManager.setFirstItemActive():this.keyManager.setActiveItem(this.selectionModel.selected[0]))},e.prototype.toggleAllOptions=function(){U(this.options)},e.prototype.onContainerClick=function(){this.focus(),this.autocomplete||this.isDisabled||this.open()},e.prototype.getPanelScrollTop=function(){return this.panel?this.panel.nativeElement.scrollTop:0},e.prototype.setPanelScrollTop=function(e){this.panel&&(this.panel.nativeElement.scrollTop=e)},e.prototype.handleInputBlur=function(e){Object(f.g)(e)?"TS-SELECT-OPTION"!==e.relatedTarget.nodeName&&this.resetAutocompleteQuery():this.autocompleteTrigger.panelOpen&&this.autocompleteTrigger.closePanel(!0),this.onTouched(),this.updateValueAndValidity()},e.prototype.resetAutocompleteQuery=function(){this.keyManager.updateActiveItem(-1),this.inputElement.nativeElement.value=""},e.prototype.autocompleteSelectItem=function(e){var t=this.autocompleteSelections.indexOf(e.option.value)>=0;if(t&&this.duplicateSelection.emit(e.option.value),this.autocompleteAllowDuplicateSelections||!t){if(this.allowMultiple){this.autocompleteReopenAfterSelection||this.resetAutocompleteQuery();var o=this.autocompleteSelections.slice();o.push(e.option.value),this.autocompleteSelections=o,this.autocompleteFormControl.setValue(this.autocompleteSelections.slice())}else{this.autocompleteSelections=[e.option.value],this.autocompleteFormControl.setValue(this.autocompleteSelections.slice());var i=this.chipFormatUIFn?this.retrieveValue(this.autocompleteFormControl.value[0],this.chipFormatUIFn):this.autocompleteFormControl.value[0];this.inputElement.nativeElement.value=i}this.autocompleteTrigger.overlayRef&&(this.autocompleteTrigger.overlayRef.updatePosition(),this.changeDetectorRef.detectChanges()),this.optionSelected.emit(new ne(this,e.option.value)),this.selectionChange.emit(new ne(this,this.autocompleteSelections))}},e.prototype.autocompleteDeselectItem=function(e){var t=this,o=this.autocompleteSelections.indexOf(e),i=this.autocompleteSelections.slice();o<0||(i.splice(o,1),this.autocompleteSelections=i,this.autocompleteFormControl.setValue(this.autocompleteSelections.slice()),this.autocompleteSelections.length<1&&this.focus(),setTimeout(function(){t.autocompleteTrigger.overlayRef&&t.autocompleteTrigger.overlayRef.updatePosition()}),this.optionDeselected.emit(new ne(this,e)),this.selectionChange.emit(new ne(this,this.autocompleteSelections.slice())))},e.prototype.retrieveValue=function(e,t){return t&&t(e)?t(e):e},e.prototype.trackByFn=function(e){return e},e}(),ae=function(){return function(){}}()}}]);