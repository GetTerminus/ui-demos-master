(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"4mc+":function(t,e,c){"use strict";c.d(e,"a",(function(){return p})),c.d(e,"b",(function(){return m})),c.d(e,"c",(function(){return f}));var r=c("2kYt"),o=c("EM62"),n=c("mFH5"),s=c("0Hrt"),i=c("7sjG"),a=c("5uKI");function l(t,e){if(1&t&&Object(o.lc)(0,4),2&t){const t=Object(o.Bc)();Object(o.Ic)("ngTemplateOutlet",t.utilityMenuTemplate)}}function d(t,e){1&t&&(Object(o.pc)(0,"ts-icon",5),Object(o.fd)(1,"lock_outline"),Object(o.oc)())}const u=function(t,e,c,r,o,n){return{"c-card--interaction":t,"c-card--centered":e,"c-card--aspect":c,"c-card--disabled":r,"c-card--right-spacing":o,"c-card--flat":n}},b=["*"];let h=0,p=(()=>{class t{constructor(){this.uid=`ts-card-${h++}`,this._border="none",this.centeredContent=!1,this.isDisabled=!1,this.flat=!1,this._id=this.uid,this.supportsInteraction=!1,this._theme="primary"}set aspectRatio(t){const e=parseInt(t.split(":")[0],10),c=parseInt(t.split(":")[1],10);this.aspectRatioPadding=`${(c/e*100).toFixed(2)}%`}set border(t){this._border=t||"none"}get border(){return this._border}set id(t){this._id=t||this.uid}get id(){return this._id}set theme(t){this._theme=t||"primary"}get theme(){return this._theme}get borderClass(){return this.border&&"none"!==this.border?`c-card--border-${this.border}`:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Object(o.dc)({type:t,selectors:[["ts-card"]],hostAttrs:[1,"ts-card"],inputs:{aspectRatio:"aspectRatio",border:"border",centeredContent:"centeredContent",isDisabled:"isDisabled",flat:"flat",id:"id",supportsInteraction:"supportsInteraction",theme:"theme",utilityMenuTemplate:"utilityMenuTemplate"},exportAs:["tsCard"],ngContentSelectors:b,decls:5,vars:18,consts:[[3,"ngClass"],["mat-ripple","",1,"c-card__inner",3,"matRippleDisabled"],[3,"ngTemplateOutlet",4,"ngIf"],["class","c-card__lock qa-card-lock",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"c-card__lock","qa-card-lock"]],template:function(t,e){1&t&&(Object(o.Hc)(),Object(o.pc)(0,"div",0),Object(o.pc)(1,"div",1),Object(o.Gc)(2),Object(o.oc)(),Object(o.dd)(3,l,1,1,"ng-container",2),Object(o.dd)(4,d,2,0,"ts-icon",3),Object(o.oc)()),2&t&&(Object(o.Zb)("c-card qa-card ",e.borderClass," c-card--",e.theme,""),Object(o.cd)("padding-top",e.aspectRatioPadding),Object(o.Ic)("ngClass",Object(o.Pc)(11,u,e.supportsInteraction,e.centeredContent,e.aspectRatioPadding,e.isDisabled,e.utilityMenuTemplate||e.isDisabled,e.flat)),Object(o.Wb)("id",e.id),Object(o.Vb)(1),Object(o.Ic)("matRippleDisabled",!e.supportsInteraction||e.isDisabled),Object(o.Vb)(2),Object(o.Ic)("ngIf",e.utilityMenuTemplate),Object(o.Vb)(1),Object(o.Ic)("ngIf",e.isDisabled&&!e.utilityMenuTemplate))},directives:[r.q,n.o,r.t,r.A,s.a],styles:[".ts-card{display:flex;flex-flow:row nowrap}.ts-card :not(.mat-form-field-label-wrapper){box-sizing:border-box}.ts-card h1,.ts-card h2,.ts-card h3,.ts-card h4,.ts-card h5,.ts-card p{margin:unset}.ts-card .c-card{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;letter-spacing:.01em;font-weight:400;background-color:#fafafa;position:relative;transition:height .2s;width:100%}.ts-card .c-card:not(.c-button):not(.c-input):not(.c-select):not(.ts-checkbox){line-height:20px}.ts-card .c-card:not(.c-card--aspect),.ts-card .c-card:not(.c-card--interaction){align-items:stretch;display:flex;flex-direction:row;justify-content:center}.c-card .c-card__inner{min-height:calc(100% - 48px);padding:24px;vertical-align:top;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);position:relative;width:100%}.c-card .c-card__inner .c-card__title{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:20px;font-weight:500;letter-spacing:.005em}.c-card .c-card__inner .c-card__title-accent-border{border-left:2px solid #00538a;padding-left:8px}.c-card .c-card__inner .c-card__title-accent-border[theme=accent]{border-left-color:#2f854d}.c-card .c-card__inner .c-card__title-accent-border[theme=warn]{border-left-color:#c8604d}.c-card--interaction:not(.c-card--disabled) .c-card__inner{min-height:calc(100% - 48px);padding:24px;vertical-align:top;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);transition:box-shadow 250ms cubic-bezier(.4,0,.2,1);cursor:pointer}.c-card--interaction:not(.c-card--disabled) .c-card__inner:hover{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.c-card--interaction:not(.c-card--disabled) .c-card__inner .c-card__title{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:20px;font-weight:500;letter-spacing:.005em}.c-card--centered .c-card__inner{align-items:center;display:flex;justify-content:center}.c-card--aspect .c-card__inner{bottom:0;left:0;position:absolute;right:0;top:0}.c-card--disabled .c-card__inner{opacity:.5}.c-card--disabled .c-menu{opacity:.3;pointer-events:none}.c-card--disabled .c-card__lock{color:#999;position:absolute;right:24px;top:calc(24px - 2px);transform:scale(.7)}.c-card--right-spacing .c-card__inner{padding-right:56px}.c-card--flat>.c-card__inner{border:1px solid #cecdd1;box-shadow:none}.c-card--border-bottom.c-card--primary .c-card__inner{border-bottom:2px solid #00538a}.c-card--border-bottom.c-card--accent .c-card__inner{border-bottom:2px solid #2f854d}.c-card--border-bottom.c-card--warn .c-card__inner{border-bottom:2px solid #c8604d}.c-card--border-left.c-card--primary .c-card__inner{border-left:2px solid #00538a}.c-card--border-left.c-card--accent .c-card__inner{border-left:2px solid #2f854d}.c-card--border-left.c-card--warn .c-card__inner{border-left:2px solid #c8604d}.c-card--border-right.c-card--primary .c-card__inner{border-right:2px solid #00538a}.c-card--border-right.c-card--accent .c-card__inner{border-right:2px solid #2f854d}.c-card--border-right.c-card--warn .c-card__inner{border-right:2px solid #c8604d}.c-card--border-top.c-card--primary .c-card__inner{border-top:2px solid #00538a}.c-card--border-top.c-card--accent .c-card__inner{border-top:2px solid #2f854d}.c-card--border-top.c-card--warn .c-card__inner{border-top:2px solid #c8604d}.c-card__inner .ts-table~.ts-loading-overlay .c-loading-overlay{left:-24px;right:-24px}"],encapsulation:2,changeDetection:0}),t})(),f=(()=>{class t{constructor(t){if(this.theme="primary",this.tsCardTitle="c-card__title",!(t instanceof p)&&Object(o.ob)())throw new a.c("The 'tsCardTitle' directive must be inside a <ts-card> component.")}set tsTitleAccentBorder(t){Object(i.b)(t)&&(this.tsCardTitle=`${this.tsCardTitle} c-card__title-accent-border`)}}return t.\u0275fac=function(e){return new(e||t)(Object(o.jc)(p,13))},t.\u0275dir=Object(o.ec)({type:t,selectors:[["","tsCardTitle",""]],hostVars:2,hostBindings:function(t,e){2&t&&Object(o.Xb)(e.tsCardTitle)},inputs:{tsTitleAccentBorder:"tsTitleAccentBorder",theme:"theme"}}),t})(),m=(()=>{class t{}return t.\u0275mod=Object(o.hc)({type:t}),t.\u0275inj=Object(o.gc)({factory:function(e){return new(e||t)},imports:[[r.c,n.p,s.b]]}),t})()},iRLe:function(t,e,c){"use strict";c.r(e),c.d(e,"CSVEntryModule",(function(){return q}));var r=c("2kYt"),o=c("nIj0"),n=c("4mc+"),s=c("EM62"),i=c("40Bj"),a=c("wK4c"),l=c("0Hrt"),d=c("NDKv"),u=c("BRos"),b=c("AW5y"),h=c("7sjG"),p=c("HRj5"),f=c("/Gcv"),m=c("5uKI"),g=c("mWib"),y=c("qFEQ");function j(t,e){if(1&t&&(Object(s.pc)(0,"div",23),Object(s.pc)(1,"span",22),Object(s.fd)(2),Object(s.oc)(),Object(s.oc)()),2&t){const t=e.$implicit,c=e.index;Object(s.ac)("c-csv-entry__column-id--invalid",t.invalid),Object(s.Wb)("id","csv-row-id-"+(c+1)),Object(s.Vb)(2),Object(s.hd)(" ",(null==t.controls||null==t.controls.recordId?null:t.controls.recordId.value)-0+1," ")}}function v(t,e){if(1&t){const t=Object(s.qc)();Object(s.pc)(0,"input",24),Object(s.xc)("paste",(function(e){return Object(s.Vc)(t),Object(s.Bc)().onPaste(e,!0)}))("keydown.enter",(function(){Object(s.Vc)(t);const c=e.index,r=Object(s.Bc)();return r.selectCellInNextRow(r.createId(-1,c))}))("keydown.tab",(function(c){Object(s.Vc)(t);const r=e.index,o=Object(s.Bc)();return o.selectAdjacentCell(c,o.createId(-1,r))}))("keydown.shift.tab",(function(c){Object(s.Vc)(t);const r=e.index,o=Object(s.Bc)();return o.selectAdjacentCell(c,o.createId(-1,r),!0)})),Object(s.oc)()}if(2&t){const t=e.index,c=Object(s.Bc)();Object(s.Kc)("title","Header, Column: ",c.getHeaderCellName(t)||t+1,""),Object(s.Ic)("readonly",c.columnHeaders&&c.columnHeaders[t])("formControlName",t),Object(s.Wb)("id",c.createId(-1,t))}}function O(t,e){if(1&t){const t=Object(s.qc)();Object(s.pc)(0,"input",28),Object(s.xc)("paste",(function(e){return Object(s.Vc)(t),Object(s.Bc)(2).onPaste(e)}))("keydown.enter",(function(){Object(s.Vc)(t);const c=e.index,r=Object(s.Bc)().index,o=Object(s.Bc)();return o.selectCellInNextRow(o.createId(r,c))}))("keydown.shift.enter",(function(){Object(s.Vc)(t);const c=e.index,r=Object(s.Bc)().index,o=Object(s.Bc)();return o.selectCellInNextRow(o.createId(r,c),!0)}))("keyup",(function(){return Object(s.Vc)(t),Object(s.Bc)(2).updateErrors()}))("keydown.tab",(function(c){Object(s.Vc)(t);const r=e.index,o=Object(s.Bc)().index,n=Object(s.Bc)();return n.selectAdjacentCell(c,n.createId(o,r))}))("keydown.shift.tab",(function(c){Object(s.Vc)(t);const r=e.index,o=Object(s.Bc)().index,n=Object(s.Bc)();return n.selectAdjacentCell(c,n.createId(o,r),!0)})),Object(s.oc)()}if(2&t){const t=e.$implicit,c=e.index,r=Object(s.Bc)(),o=r.$implicit,n=r.index,i=Object(s.Bc)();Object(s.ac)("c-csv-entry__input--invalid",t.invalid),Object(s.Lc)("title","Row: ",(null==o.controls||null==o.controls.recordId?null:o.controls.recordId.value)+1,", Column: ",i.getHeaderCellName(c)||c+1,""),Object(s.Ic)("formControlName",c),Object(s.Wb)("id",i.createId(n,c))}}function w(t,e){if(1&t&&(Object(s.pc)(0,"div",25),Object(s.pc)(1,"div",26),Object(s.dd)(2,O,1,6,"input",27),Object(s.oc)(),Object(s.oc)()),2&t){const t=e.$implicit,r=e.index;var c;const o=null==(c=Object(s.Bc)().getColumns(t))?null:c.controls;Object(s.Ic)("formGroupName",r),Object(s.Vb)(2),Object(s.Ic)("ngForOf",o)}}function _(t,e){if(1&t){const t=Object(s.qc)();Object(s.pc)(0,"ts-icon-button",29),Object(s.xc)("click",(function(){Object(s.Vc)(t);const c=e.index;return Object(s.Bc)().deleteRow(c)})),Object(s.fd)(1,"delete_forever"),Object(s.oc)()}if(2&t){const t=e.index;Object(s.Wb)("id","csv-delete-"+(t+1))("title","Delete row "+(t+1))}}function x(t,e){if(1&t&&Object(s.kc)(0,"div",30),2&t){const t=e.$implicit;Object(s.Ic)("innerHTML",t,s.Wc)}}function C(t,e){if(1&t&&(Object(s.pc)(0,"div",31),Object(s.fd)(1),Object(s.oc)()),2&t){const t=Object(s.Bc)();Object(s.Vb)(1),Object(s.gd)(t.tooManyRowsMessage)}}const I=["*"];let R=0,k=(()=>{class t{constructor(t,e,c){this.formBuilder=t,this.changeDetectorRef=e,this.documentService=c,this.originalColumnCount=2,this.uid=`ts-csv-entry-${R++}`,this.fakeRowHeight="35px",this.layoutGap=f.a.small[0],this.tooManyRowsMessage=null,this.records=[],this.recordsForm=this.formBuilder.group({headers:this.formBuilder.array([]),records:this.formBuilder.array([])}),this.allErrors=null,this._columnCount=2,this._columnValidators=[],this.footerDirection="ltr",this.fullWidth=!1,this._id=this.uid,this._maxRows=2e3,this.outputFormat="tsv",this._rowCount=4,this.blobGenerated=new s.u}get headerCells(){return this.recordsForm.get("headers")}get rows(){return this.recordsForm.get("records")}set columnCount(t){this._columnCount=Object(h.d)(t,2)}get columnCount(){return this._columnCount}set columnHeaders(t){this._columnHeaders=t,this.clearHeaderCells(),this.addHeaders(this.columnCount,this.columnHeaders)}get columnHeaders(){return this._columnHeaders}set columnValidators(t){t&&(this._columnValidators=t)}get columnValidators(){return this._columnValidators}set id(t){this._id=t||this.uid}get id(){return this._id}set maxRows(t){this._maxRows=Object(h.d)(t,2e3)}get maxRows(){return this._maxRows}set rowCount(t){this._rowCount=Object(h.d)(t,4)}get rowCount(){return this._rowCount}static addColumnsToRows(t,e,c){for(let r=0;r<t.length;r+=1){const e=t.controls[r];if(e){const t=e.controls.columns;for(let e=0;e<c;e+=1)t.controls.push(new o.g)}}for(let r=0;r<c;r+=1)e.controls.push(new o.g)}static splitContent(t,e){const c={headers:void 0,rows:void 0},r=t.split("\n");return e?(c.headers=r[0].split("\t"),c.rows=r.slice(1,r.length).map(t=>t.split("\t"))):c.rows=r.slice(0,r.length).map(t=>t.split("\t")),c}ngOnInit(){this.addRows(this.rowCount,this.columnCount),this.addHeaders(this.columnCount,this.columnHeaders),this.originalColumnCount=this.columnCount,this.recordsForm.valueChanges.pipe(Object(g.a)(1),Object(p.j)(this)).subscribe(t=>{const e=this.generateBlob(t);this.blobGenerated.emit(e)})}ngOnDestroy(){}addRows(t=1,e=this.columnCount,c,r){if(this.rows.length+t>this.maxRows){const e=(1===t?2:t)-(this.rows.length+t-this.maxRows);this.tooManyRowsMessage=`Adding ${e} row${e>1?"s":""} would exceed the maximum rows allowed (${this.maxRows}).`}else{this.tooManyRowsMessage&&(this.tooManyRowsMessage=null);for(let e=0;e<t;e+=1){const t=(void 0===r?this.rowCount:r)+e,o=this.createRow(this.rows.length,c?c[e]:null);void 0!==r&&r>=0?this.rows.insert(t,o):this.rows.push(o)}}}getColumns(t){return t.get("columns")}updateAllRowIds(){for(let t=0;t<this.rows.length;t+=1){const e=this.rows.controls[t];e&&e.controls.recordId.setValue(t)}}onPaste(e,c){var r;const o=null===(r=e.clipboardData)||void 0===r?void 0:r.getData("Text");if(!o)return;if(o.indexOf("\n")<0&&o.indexOf("\t")<0)return;c=Object(h.b)(c);const n=parseInt(e.target.id.split("X")[0].split("_")[2],10),s=t.splitContent(o,c),i=s.rows.length;if(c)this.clearAllRows(),this.clearHeaderCells(),this.addHeaders(s.headers.length,this.columnHeaders||s.headers),this.columnCount=s.headers.length,this.addRows(i,s.headers.length,s.rows);else{const e=s.rows[0].length;e>this.columnCount&&(t.addColumnsToRows(this.rows,this.headerCells,e-this.columnCount),this.columnCount=e),this.deleteRow(n),this.addRows(i,s.rows.length,s.rows,n)}this.updateAllRowIds(),this.updateErrors(),this.changeDetectorRef.detectChanges()}updateErrors(){this.allErrors=this.collectErrors()}getHeaderCellName(t){return this.headerCells&&this.headerCells.controls[t]?this.headerCells.controls[t].value:""}onScroll(t){if(!t)return;const e=t.deltaX<0?"right":"left",c=t.target;if(!c)return;const r=c.form.scrollWidth-(parseInt(c.form.offsetWidth,10)+2)-c.form.scrollLeft;0!==t.deltaX&&("right"===e&&c.form.scrollLeft<1||"left"===e&&r<1)&&t.preventDefault()}selectCellInNextRow(t,e){if(!t)return;const[c,r]=t.split("X"),o=c.split("_")[2],n=r.split("_")[1],s=`${this.uid}_r_${parseInt(o,10)+(e?-1:1)}Xc_${n}`,i=this.documentService.document.querySelector(`#${s}`);i?i.focus():(this.addRows(),this.changeDetectorRef.detectChanges(),this.selectCellInNextRow(t))}selectAdjacentCell(t,e,c){t.preventDefault(),c=Object(h.b)(c);const[r,o]=e.split("X"),n=parseInt(r.split("_")[2],10),s=parseInt(o.split("_")[1],10);let i,a=n;c?0===s?(i=this.columnCount-1,a+=-1):i=s-1:s===this.columnCount-1?(i=0,a+=1):i=s+1;const l=this.documentService.document.querySelector(`#${`${this.uid}_r_${a}Xc_${i}`}`);l&&l.focus()}createId(t,e){return`${this.uid}_r_${t}Xc_${e}`}collectErrors(){const t=this.recordsForm.get("records");if(t){const e=this.getFormErrors(t);return e?Object.keys(e).map(t=>({control:t,[t]:e[t].filter((t,e,c)=>c.indexOf(t)===e)})):null}return null}get validationMessages(){if(!this.allErrors)return;const t=[];for(const e of this.allErrors){const c=e.control;for(const r of e[c]){let e="";if(e+=`<b>Row ${parseInt(r.rowId,10)+1}:</b> `,"url"===c){const t=20;e+=`"${r.actual.length>t?`${r.actual.slice(0,t)}...`:r.actual}" is not a valid URL.`}"required"===c&&(e+="Content is required."),t.push(e)}}if(t.length>6){const e=t.length-6;t.length=6,t.push(`and ${e} more errors...`)}return t.length>0?t:void 0}deleteRow(t){null==t||t<0||(this.rows.removeAt(t),this.updateAllRowIds(),this.updateErrors())}resetTable(){this.clearAllRows(),this.clearHeaderCells(),this.columnCount=this.originalColumnCount,this.addRows(this.rowCount,this.columnCount),this.addHeaders(this.columnCount,this.columnHeaders),this.allErrors=null}getFormErrors(t){const e={};return this.getAllErrors(t,e),e}getAllErrors(t,e){const c=Object.keys(t.controls);for(let r=0;r<c.length;r+=1){const n=t.get(c[r]);if(n){const t=n instanceof o.j||n instanceof o.d?this.getAllErrors(n,e):n.errors;if(t){const c=n.parent.parent.controls,r=c.recordId?c.recordId.value:void 0,o=Object.keys(t);for(let n=0;n<o.length;n+=1){const c=o[n];let s=t[o[n]];"boolean"==typeof s&&(s={valid:!1}),void 0!==r&&(s.rowId=r),e[c]?e[c].push(s):e[c]=[s]}}}}}clearAllRows(){this.recordsForm.setControl("records",this.formBuilder.array([]))}clearHeaderCells(){this.recordsForm.setControl("headers",this.formBuilder.array([]))}addHeaders(t,e){for(let c=0;c<t;c+=1){const t=e&&e[c]?e[c]:null,r=t?new o.g(t):new o.g;this.headerCells.setControl(c,r)}}createRow(t,e){return this.formBuilder.group({recordId:new o.g(t),columns:this.formBuilder.array(this.createColumns(this.columnCount,e))})}createColumns(t,e){const c=[];for(let r=0;r<t;r+=1){let t=e&&e[r]?e[r]:null;t&&(t=Object(m.e)(t)),c.push(new o.g(t,this.columnValidators?this.columnValidators[r]:null))}return c}generateBlob(t){let e="data:text/csv;charset=utf-8,"+`${t.headers.join("\t")}\r\n`+`${t.records.map(t=>t.columns.map(t=>t?`"${t.replace(/"/g,'""')}"`:"").join("\t")).join("\r\n")}\r\n`;return"csv"===this.outputFormat&&(e=JSON.stringify(e).replace(/\\t/g,",")),new Blob([e],{type:"text/csv"})}}return t.\u0275fac=function(e){return new(e||t)(Object(s.jc)(o.f),Object(s.jc)(s.j),Object(s.jc)(b.a))},t.\u0275cmp=Object(s.dc)({type:t,selectors:[["ts-csv-entry"]],hostAttrs:[1,"ts-csv-entry"],hostVars:3,hostBindings:function(t,e){2&t&&(Object(s.Wb)("id",e.id),Object(s.ac)("c-csv-entry--full-width",e.fullWidth))},inputs:{columnCount:"columnCount",columnHeaders:"columnHeaders",columnValidators:"columnValidators",footerDirection:"footerDirection",fullWidth:"fullWidth",id:"id",maxRows:"maxRows",outputFormat:"outputFormat",rowCount:"rowCount"},outputs:{blobGenerated:"blobGenerated"},exportAs:["tsCSVEntry"],ngContentSelectors:I,decls:32,vars:18,consts:[[1,"c-csv-entry","qa-csv-entry"],[1,"c-csv-entry__info","qa-csv-entry-info"],[1,"c-csv-entry__scroll"],["fxLayout","row"],["fxLayout","column"],["fxFlex","0 0 auto"],["class","c-csv-entry__column-id","fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","center center",3,"c-csv-entry__column-id--invalid",4,"ngFor","ngForOf"],["fxFlex","",1,"c-csv-entry__form",3,"formGroup","mousewheel"],["form",""],["formArrayName","headers",1,"c-csv-entry__row","c-csv-entry__row--header","qa-csv-entry-header-row"],["class","c-csv-entry__input c-csv-entry__input--header qa-csv-entry-header-cell","type","text",3,"title","readonly","formControlName","paste","keydown.enter","keydown.tab","keydown.shift.tab",4,"ngFor","ngForOf"],["formArrayName","records"],["class","c-csv-entry__row qa-csv-entry-row",3,"formGroupName",4,"ngFor","ngForOf"],["class","c-csv-entry__delete qa-csv-entry-delete","fxFlex","noshrink",3,"click",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","start stretch",1,"c-csv-entry__messages",3,"fxLayoutGap"],["fxLayout","column","fxLayoutAlign","center end"],["class","c-csv-entry__message qa-csv-entry-message",3,"innerHTML",4,"ngFor","ngForOf"],["class","c-csv-entry__message qa-csv-entry-message",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",3,"dir","fxLayoutGap"],["dir","ltr","fxLayoutGap","1em"],["id","ts-csv-reset","format","hollow","theme","warn",1,"qa-csv-entry-reset",3,"clicked"],["id","ts-csv-add-row","format","hollow",1,"qa-csv-entry-add-row",3,"clicked"],["fxFlex",""],["fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","center center",1,"c-csv-entry__column-id"],["type","text",1,"c-csv-entry__input","c-csv-entry__input--header","qa-csv-entry-header-cell",3,"title","readonly","formControlName","paste","keydown.enter","keydown.tab","keydown.shift.tab"],[1,"c-csv-entry__row","qa-csv-entry-row",3,"formGroupName"],["formArrayName","columns"],["class","c-csv-entry__input qa-csv-entry-cell","type","text",3,"c-csv-entry__input--invalid","title","formControlName","paste","keydown.enter","keydown.shift.enter","keyup","keydown.tab","keydown.shift.tab",4,"ngFor","ngForOf"],["type","text",1,"c-csv-entry__input","qa-csv-entry-cell",3,"title","formControlName","paste","keydown.enter","keydown.shift.enter","keyup","keydown.tab","keydown.shift.tab"],["fxFlex","noshrink",1,"c-csv-entry__delete","qa-csv-entry-delete",3,"click"],[1,"c-csv-entry__message","qa-csv-entry-message",3,"innerHTML"],[1,"c-csv-entry__message","qa-csv-entry-message"]],template:function(t,e){1&t&&(Object(s.Hc)(),Object(s.pc)(0,"div",0),Object(s.pc)(1,"div",1),Object(s.fd)(2),Object(s.kc)(3,"br"),Object(s.fd)(4),Object(s.oc)(),Object(s.pc)(5,"div",2),Object(s.pc)(6,"div",3),Object(s.pc)(7,"div",4),Object(s.kc)(8,"div",5),Object(s.dd)(9,j,3,4,"div",6),Object(s.oc)(),Object(s.pc)(10,"form",7,8),Object(s.xc)("mousewheel",(function(t){return e.onScroll(t)})),Object(s.pc)(12,"div",9),Object(s.dd)(13,v,1,4,"input",10),Object(s.oc)(),Object(s.pc)(14,"div",11),Object(s.dd)(15,w,3,2,"div",12),Object(s.oc)(),Object(s.oc)(),Object(s.pc)(16,"div",4),Object(s.kc)(17,"div",5),Object(s.dd)(18,_,2,2,"ts-icon-button",13),Object(s.oc)(),Object(s.oc)(),Object(s.oc)(),Object(s.pc)(19,"div",14),Object(s.pc)(20,"div",15),Object(s.dd)(21,x,1,1,"div",16),Object(s.dd)(22,C,2,1,"div",17),Object(s.oc)(),Object(s.pc)(23,"div",18),Object(s.pc)(24,"div",19),Object(s.pc)(25,"ts-button",20),Object(s.xc)("clicked",(function(){return e.resetTable()})),Object(s.fd)(26,"Reset Table"),Object(s.oc)(),Object(s.pc)(27,"ts-button",21),Object(s.xc)("clicked",(function(){return e.addRows()})),Object(s.fd)(28,"Add Row"),Object(s.oc)(),Object(s.oc)(),Object(s.kc)(29,"span",22),Object(s.pc)(30,"div"),Object(s.Gc)(31),Object(s.oc)(),Object(s.oc)(),Object(s.oc)(),Object(s.oc)()),2&t&&(Object(s.Vb)(2),Object(s.id)(" ",e.rows.length," row",1===e.rows.length?"":"s"," "),Object(s.Vb)(2),Object(s.id)(" ",e.columnCount," column",1===e.columnCount?"":"s"," "),Object(s.Vb)(4),Object(s.cd)("height",e.fakeRowHeight),Object(s.Vb)(1),Object(s.Ic)("ngForOf",null==e.rows?null:e.rows.controls),Object(s.Vb)(1),Object(s.Ic)("formGroup",e.recordsForm),Object(s.Vb)(3),Object(s.Ic)("ngForOf",null==e.headerCells?null:e.headerCells.controls),Object(s.Vb)(2),Object(s.Ic)("ngForOf",null==e.rows?null:e.rows.controls),Object(s.Vb)(2),Object(s.cd)("height",e.fakeRowHeight),Object(s.Vb)(1),Object(s.Ic)("ngForOf",null==e.rows?null:e.rows.controls),Object(s.Vb)(1),Object(s.Ic)("fxLayoutGap",e.layoutGap),Object(s.Vb)(2),Object(s.Ic)("ngForOf",e.validationMessages),Object(s.Vb)(1),Object(s.Ic)("ngIf",e.tooManyRowsMessage),Object(s.Vb)(1),Object(s.Ic)("dir",e.footerDirection)("fxLayoutGap",e.layoutGap))},directives:[y.f,y.b,r.s,o.D,o.r,o.k,o.e,y.e,y.g,r.t,a.a,o.c,o.q,o.i,o.l,d.a],styles:[".ts-csv-entry{display:inline-block;font-size:16px;max-width:100%}.ts-csv-entry.c-csv-entry--full-width{display:block;width:100%}.ts-csv-entry.c-csv-entry--full-width .c-csv-entry__row{display:block}.ts-csv-entry.c-csv-entry--full-width .c-csv-entry__input{width:100%}.c-csv-entry{--csv-row-height:39px;--csv-cell-padding:8px;--csv-external-row-height:35px}.c-csv-entry .c-csv-entry__scroll{max-height:28.5em;overflow-x:-moz-hidden-unscrollable;overflow-y:auto}.c-csv-entry .c-csv-entry__info{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;letter-spacing:.02em;line-height:1.2em;margin-bottom:4px;margin-right:40px;text-align:right}.c-csv-entry .c-csv-entry__form{border:1px solid #cecdd1;overflow-x:auto}.c-csv-entry .c-csv-entry__row{display:table-row;white-space:nowrap}.c-csv-entry .c-csv-entry__input{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border:1px solid #cecdd1;display:table-cell;font-size:inherit;min-width:72px;padding:var(--csv-cell-padding)}.c-csv-entry .c-csv-entry__input+.c-csv-entry__input{border-left-width:0}.c-csv-entry .c-csv-entry__input:first-of-type{border-left:0}.c-csv-entry .c-csv-entry__input:last-of-type{border-right:0}.c-csv-entry .c-csv-entry__input:focus{background-color:#d3eaf9}.c-csv-entry .c-csv-entry__input--header{border-bottom-width:3px;border-top:0}.c-csv-entry .c-csv-entry__input--invalid{color:#c8604d}.c-csv-entry .c-csv-entry__delete{max-height:var(--csv-external-row-height)}.c-csv-entry .c-csv-entry__delete .ts-icon-button{color:#cecdd1}.c-csv-entry .c-csv-entry__column-id{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;letter-spacing:.02em;color:#cecdd1;max-height:var(--csv-external-row-height);padding:var(--csv-cell-padding)}.c-csv-entry .c-csv-entry__column-id--invalid{color:#c8604d;font-weight:400}.c-csv-entry .c-csv-entry__messages{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:75%;font-weight:400;letter-spacing:.01em;color:#c8604d;line-height:1.2em;margin-left:15px;margin-right:40px;padding-top:4px}.c-csv-entry__row:not(.c-csv-entry__row--header):not(:last-child) .c-csv-entry__input{border-bottom-width:0}"],encapsulation:2,changeDetection:0}),t})(),V=(()=>{class t{}return t.\u0275mod=Object(s.hc)({type:t}),t.\u0275inj=Object(s.gc)({factory:function(e){return new(e||t)},imports:[[r.c,i.a,o.y,a.b,d.b,l.b,u.b]]}),t})();var H=c("cCIM"),F=c("sEIs");const B=function(){return["foo","bar"]},A=function(){return["Full Width"]},M=[{path:"",component:(()=>{class t{constructor(t){this.validatorsService=t,this.validators=[o.B.required,this.validatorsService.url()],this.footerDirection="ltr"}file(t){console.log("DEMO: Got file from CSV entry: ",t),this.blob=t}generateFile(){this.myFile=new File([this.blob],"testCsv"),function(t,e){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,"test");else{const e=document.createElement("a");document.body.appendChild(e);const c=window.URL.createObjectURL(t);e.href=c,e.download="test",e.click(),setTimeout(()=>{window.URL.revokeObjectURL(c),document.body.removeChild(e)},0)}}(this.blob)}}return t.\u0275fac=function(e){return new(e||t)(s.jc(H.b))},t.\u0275cmp=s.dc({type:t,selectors:[["demo-csv-entry"]],decls:25,vars:10,consts:[["tsVerticalSpacing",""],["type","radio","name","direction","value","ltr",3,"ngModel","ngModelChange"],["type","radio","name","direction","value","rtl",3,"ngModel","ngModelChange"],["tsVerticalSpacing","",2,"max-width","80%"],[3,"columnValidators","columnHeaders","footerDirection","blobGenerated"],[3,"click"],["fxLayout","row"],["columnCount","1",3,"columnValidators","columnHeaders","fullWidth","blobGenerated"]],template:function(t,e){1&t&&(s.pc(0,"ts-card",0),s.pc(1,"h3",0),s.fd(2,"CSV Entry"),s.oc(),s.pc(3,"div"),s.fd(4," Footer direction: "),s.pc(5,"ul"),s.pc(6,"li"),s.pc(7,"label"),s.fd(8," ltr "),s.pc(9,"input",1),s.xc("ngModelChange",(function(t){return e.footerDirection=t})),s.oc(),s.oc(),s.oc(),s.pc(10,"li"),s.pc(11,"label"),s.fd(12," rtl "),s.pc(13,"input",2),s.xc("ngModelChange",(function(t){return e.footerDirection=t})),s.oc(),s.oc(),s.oc(),s.oc(),s.oc(),s.pc(14,"div",3),s.pc(15,"ts-csv-entry",4),s.xc("blobGenerated",(function(t){return e.file(t)})),s.pc(16,"button"),s.fd(17,"My Custom Content!"),s.oc(),s.oc(),s.oc(),s.pc(18,"button",5),s.xc("click",(function(){return e.generateFile()})),s.fd(19,"Generate file & download"),s.oc(),s.oc(),s.pc(20,"ts-card",0),s.pc(21,"h3",0),s.fd(22,"CSV Full Width Entry"),s.oc(),s.pc(23,"div",6),s.pc(24,"ts-csv-entry",7),s.xc("blobGenerated",(function(t){return e.file(t)})),s.oc(),s.oc(),s.oc()),2&t&&(s.Vb(9),s.Ic("ngModel",e.footerDirection),s.Vb(4),s.Ic("ngModel",e.footerDirection),s.Vb(2),s.Ic("columnValidators",e.validators)("columnHeaders",s.Mc(8,B))("footerDirection",e.footerDirection),s.Vb(9),s.Ic("columnValidators",e.validators)("columnHeaders",s.Mc(9,A))("fullWidth",!0))},directives:[n.a,f.c,o.x,o.c,o.q,o.t,k],encapsulation:2}),t})()}];let D=(()=>{class t{}return t.\u0275mod=s.hc({type:t}),t.\u0275inj=s.gc({factory:function(e){return new(e||t)},imports:[[F.f.forChild(M)],F.f]}),t})(),q=(()=>{class t{}return t.\u0275mod=s.hc({type:t}),t.\u0275inj=s.gc({factory:function(e){return new(e||t)},imports:[[r.c,D,o.m,n.b,V,f.b,H.a]]}),t})()}}]);