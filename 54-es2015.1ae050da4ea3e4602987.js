(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{CpMl:function(t,l,n){"use strict";n.r(l),n.d(l,"CohortDateRangeModuleNgFactory",(function(){return Gt}));var e=n("kZht");class a{}var s=n("C9Ky"),u=n("bm8q"),r=n("JcpB"),i=n("UQ/n"),o=n("cLrn"),c=n("3kIJ"),b=n("80op"),d=n("knob"),g=n("V+e7"),h=n("S5Bf"),m=n("t1Gn"),p=n("QsEO"),D=n("mKpN"),N=n("+bYY"),C=n("An66"),f=n("j3ec"),v=n("X91G");class P{constructor(t,l,n){this.start=t,this.end=l,this.source=n}}let R=0;class w{constructor(t){this.formBuilder=t,this.customDateCohort={display:"Custom Dates",range:{start:"",end:""}},this.formGroup=this.formBuilder.group({dateRange:this.formBuilder.group({startDate:[""],endDate:[""]}),cohort:new c.i([])}),this.uid="ts-cohort-date-range-"+R++,this._allowCustomDates=!0,this._id=this.uid,this.isDisabled=!1,this.cohortDateRangeChanged=new e.o}get dateRangeFormGroup(){return this.formGroup.get("dateRange")}get cohortControl(){return this.formGroup.get("cohort")}set allowCustomDates(t){this._allowCustomDates=t,this.cohorts=this.originalCohorts}get allowCustomDates(){return this._allowCustomDates}set cohorts(t){if(!t)return;this.originalCohorts=t,this._cohorts=t.slice(),this.allowCustomDates&&this._cohorts.push(this.customDateCohort);const l=t.filter(t=>t.active);l.length&&(this.cohortControl.setValue(l),this.setDateRangeValues(l[0].range))}get cohorts(){return this._cohorts}set id(t){this._id=t||this.uid}get id(){return this._id}ngOnInit(){this.updateSelectOnRangeChange()}ngOnDestroy(){}cohortDateRangeChange(t){this.cohortDateRangeChanged.emit(new P(t.start,t.end,this))}selectionChange(t){this.setDateRangeValues(t.value[0].range)}trackByFn(t){return t}formatter(t){return t.display}setDateRangeValues(t){const l={startDate:t.start,endDate:t.end};l.startDate&&l.endDate&&(this.dateRangeFormGroup.setValue(l),this.cohortDateRangeChange(t))}updateSelectOnRangeChange(){var t;null===(t=this.formGroup.get("dateRange"))||void 0===t||t.valueChanges.pipe(Object(f.F)(this)).subscribe(t=>{if(!this.cohorts||!this.cohorts.length)return;const l=Object(f.e)(t.startDate).getTime(),n=Object(f.e)(t.endDate).getTime();0===this.cohorts.filter(t=>{const e=Object(f.e)(t.range.start).getTime(),a=Object(f.e)(t.range.end).getTime();if(l===e&&n===a)return t}).length&&this.cohortControl.setValue([this.customDateCohort])})}}var j=e.yb({encapsulation:2,styles:[[".ts-cohort-date-range{--cohort-selection-list-minWidth:200px;display:block}.ts-cohort-date-range .ts-selection-list.ts-cohort-date-range__select{display:inline-block;min-width:var(--cohort-selection-list-minWidth)}.ts-date-range.ts-cohort-date-range__date-range{display:inline-block;margin-right:var(--ts-space-inline-600)}"]],data:{}});function y(t){return e.cc(0,[(t()(),e.Ab(0,0,null,null,4,"ts-option",[["class","ts-option"],["role","option"]],[[2,"ts-selected",null],[2,"ts-option--multiple",null],[2,"ts-option--active",null],[2,"ts-option--disabled",null],[2,"ts-option--template",null],[1,"tabindex",0],[1,"aria-selected",0],[1,"aria-disabled",0],[1,"title",0],[8,"id",0]],[[null,"click"],[null,"keydown"]],(function(t,l,n){var a=!0;return"click"===l&&(a=!1!==e.Pb(t,1).selectViaInteraction()&&a),"keydown"===l&&(a=!1!==e.Pb(t,1).handleKeydown(n)&&a),a}),g.b,g.a)),e.zb(1,9617408,[[2,4]],2,h.c,[e.l,e.h,e.A,[2,h.b],[2,h.a]],{option:[0,"option"],value:[1,"value"]},null),e.Vb(603979776,4,{optionTemplate:0}),e.Vb(603979776,5,{displayElementRef:0}),(t()(),e.Zb(4,0,[" "," "]))],(function(t,l){t(l,1,0,l.context.$implicit,l.context.$implicit)}),(function(t,l){t(l,0,0,e.Pb(l,1).selected,e.Pb(l,1).allowMultiple,e.Pb(l,1).active,e.Pb(l,1).isDisabled,e.Pb(l,1).optionTemplate,e.Pb(l,1).tabIndex,e.Pb(l,1).selected.toString(),!!e.Pb(l,1).isDisabled,e.Pb(l,1).title,e.Pb(l,1).id),t(l,4,0,l.context.$implicit.display)}))}function F(t){return e.cc(2,[e.Vb(402653184,1,{selectionListComponent:0}),(t()(),e.Ab(1,0,null,null,1,"ts-date-range",[["class","ts-cohort-date-range__date-range ts-date-range"]],null,[[null,"dateRangeChange"]],(function(t,l,n){var e=!0;return"dateRangeChange"===l&&(e=!1!==t.component.cohortDateRangeChange(n)&&e),e}),b.b,b.a)),e.zb(2,245760,null,0,d.a,[e.h],{dateFormGroup:[0,"dateFormGroup"],dateLocale:[1,"dateLocale"],endMaxDate:[2,"endMaxDate"],endMinDate:[3,"endMinDate"],isDisabled:[4,"isDisabled"],startMaxDate:[5,"startMaxDate"],startMinDate:[6,"startMinDate"]},{dateRangeChange:"dateRangeChange"}),(t()(),e.Ab(3,0,null,null,10,"ts-selection-list",[["class","ts-cohort-date-range__select ts-selection-list"],["label","Select a date range"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ts-selection-list--required",null],[2,"ts-selection-list--disabled",null],[2,"ts-selection-list--single",null],[2,"ts-selection-list--multiple",null],[1,"aria-owns",0],[1,"aria-required",0],[1,"aria-multiselectable",0]],[[null,"selectionChange"]],(function(t,l,n){var e=!0;return"selectionChange"===l&&(e=!1!==t.component.selectionChange(n)&&e),e}),m.b,m.a)),e.Ub(6144,null,h.b,null,[p.a]),e.Ub(6144,null,D.a,null,[p.a]),e.zb(6,540672,null,0,c.j,[[8,null],[8,null],[8,null],[2,c.G]],{form:[0,"form"]},null),e.Ub(2048,null,c.r,null,[c.j]),e.zb(8,16384,null,0,c.s,[[4,c.r]],null,null),e.zb(9,4440064,[[1,4]],2,p.a,[e.h,N.a,e.l,[6,c.r]],{allowUserInput:[0,"allowUserInput"],isDisabled:[1,"isDisabled"],label:[2,"label"],displayFormatter:[3,"displayFormatter"]},{selectionChange:"selectionChange"}),e.Vb(603979776,2,{options:1}),e.Vb(603979776,3,{optionGroups:1}),(t()(),e.jb(16777216,null,0,1,null,y)),e.zb(13,278528,null,0,C.l,[e.R,e.N,e.t],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(t,l){var n=l.component;t(l,2,0,n.dateRangeFormGroup,n.dateLocale,n.endMaxDate,n.endMinDate,!n.allowCustomDates||n.isDisabled,n.startMaxDate,n.startMinDate),t(l,6,0,n.cohortControl),t(l,9,0,!1,n.isDisabled,"Select a date range",n.formatter),t(l,13,0,n.cohorts,n.trackByFn)}),(function(t,l){t(l,3,1,[e.Pb(l,8).ngClassUntouched,e.Pb(l,8).ngClassTouched,e.Pb(l,8).ngClassPristine,e.Pb(l,8).ngClassDirty,e.Pb(l,8).ngClassValid,e.Pb(l,8).ngClassInvalid,e.Pb(l,8).ngClassPending,e.Pb(l,9).isRequired,e.Pb(l,9).isDisabled,!e.Pb(l,9).allowMultiple,e.Pb(l,9).allowMultiple,e.Pb(l,9).panelOpen?e.Pb(l,9).optionIds:null,e.Pb(l,9).isRequired.toString(),e.Pb(l,9).allowMultiple])}))}var V=n("JuBR"),M=n("mrqE");function O(t){Object(M.a)(1,arguments);var l=Object(V.a)(t);return l.setHours(0,0,0,0),l}var S=n("N1LS");function z(t,l){Object(M.a)(2,arguments);var n=Object(V.a)(t),e=Object(S.a)(l);return isNaN(e)?new Date(NaN):e?(n.setDate(n.getDate()+e),n):n}function x(t,l){Object(M.a)(2,arguments);var n=Object(S.a)(l);return z(t,-n)}function A(t){Object(M.a)(1,arguments);var l=Object(V.a)(t);return l.setHours(23,59,59,999),l}function T(t,l){Object(M.a)(2,arguments);var n=Object(V.a)(t),e=Object(S.a)(l);if(isNaN(e))return new Date(NaN);if(!e)return n;var a=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+e+1,0);var u=s.getDate();return a>=u?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function B(t,l){Object(M.a)(2,arguments);var n=Object(S.a)(l);return T(t,-n)}function G(t){Object(M.a)(1,arguments);var l=Object(V.a)(t);return l.setDate(1),l.setHours(0,0,0,0),l}const k=new Date;class q{constructor(t){this.formBuilder=t,this.myForm=this.formBuilder.group({dateRange:this.formBuilder.group({startDate:[null,[c.D.required]],endDate:[null,[c.D.required]]})}),this.constraintForm=this.formBuilder.group({startDateRange:this.formBuilder.group({startDate:[O(x(new Date,120)),[c.D.required]],endDate:[O(x(new Date,1)),[c.D.required]]}),endDateRange:this.formBuilder.group({startDate:[O(x(new Date,119)),[c.D.required]],endDate:[A(new Date),[c.D.required]]})}),this.cohorts=[{display:"Last 90 days",range:{start:O(x(new Date,90)),end:k}},{display:"Last full month",range:{start:O(B(G(k),1)),end:A(x(G(k),1))},active:!0}]}printRange(t){this.lastRange=t}}var L=e.yb({encapsulation:2,styles:[],data:{}});function U(t){return e.cc(0,[(t()(),e.Ab(0,0,null,null,1,"pre",[],null,null,null,null,null)),(t()(),e.Zb(1,null,["    Start: ","\n    End: ","\n  "]))],null,(function(t,l){var n=l.component;t(l,1,0,n.lastRange.start,n.lastRange.end)}))}function _(t){return e.cc(0,[(t()(),e.Ab(0,0,null,null,22,"ts-card",[["tsVerticalSpacing",""]],[[8,"className",0]],null,null,u.b,u.a)),e.zb(1,49152,null,0,r.a,[],null,null),e.zb(2,16384,null,0,i.a,[e.l],{tsVerticalSpacing:[0,"tsVerticalSpacing"]},null),(t()(),e.Ab(3,0,null,0,3,"h3",[["tsCardTitle",""],["tsVerticalSpacing",""]],[[8,"className",0]],null,null,null,null)),e.zb(4,16384,null,0,o.a,[[3,r.a]],null,null),e.zb(5,16384,null,0,i.a,[e.l],{tsVerticalSpacing:[0,"tsVerticalSpacing"]},null),(t()(),e.Zb(-1,null,["Demo Controls"])),(t()(),e.Ab(7,0,null,0,15,"div",[],null,null,null,null,null)),(t()(),e.Ab(8,0,null,null,2,"div",[["tsVerticalSpacing",""]],null,null,null,null,null)),e.zb(9,16384,null,0,i.a,[e.l],{tsVerticalSpacing:[0,"tsVerticalSpacing"]},null),(t()(),e.Zb(-1,null,["Start date minimum and maximum"])),(t()(),e.Ab(11,0,null,null,11,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,l,n){var a=!0;return"submit"===l&&(a=!1!==e.Pb(t,13).onSubmit(n)&&a),"reset"===l&&(a=!1!==e.Pb(t,13).onReset()&&a),a}),null,null)),e.zb(12,16384,null,0,c.I,[],null,null),e.zb(13,540672,null,0,c.m,[[8,null],[8,null]],{form:[0,"form"]},null),e.Ub(2048,null,c.d,null,[c.m]),e.zb(15,16384,null,0,c.t,[[4,c.d]],null,null),(t()(),e.Ab(16,0,null,null,1,"ts-date-range",[["class","ts-date-range"]],null,null,null,b.b,b.a)),e.zb(17,245760,null,0,d.a,[e.h],{dateFormGroup:[0,"dateFormGroup"]},null),(t()(),e.Ab(18,0,null,null,2,"div",[["tsVerticalSpacing",""]],null,null,null,null,null)),e.zb(19,16384,null,0,i.a,[e.l],{tsVerticalSpacing:[0,"tsVerticalSpacing"]},null),(t()(),e.Zb(-1,null,["End date minimum and maximum"])),(t()(),e.Ab(21,0,null,null,1,"ts-date-range",[["class","ts-date-range"]],null,null,null,b.b,b.a)),e.zb(22,245760,null,0,d.a,[e.h],{dateFormGroup:[0,"dateFormGroup"]},null),(t()(),e.Ab(23,0,null,null,10,"ts-card",[],[[8,"className",0]],null,null,u.b,u.a)),e.zb(24,49152,null,0,r.a,[],null,null),(t()(),e.Ab(25,0,null,0,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,l,n){var a=!0;return"submit"===l&&(a=!1!==e.Pb(t,27).onSubmit(n)&&a),"reset"===l&&(a=!1!==e.Pb(t,27).onReset()&&a),a}),null,null)),e.zb(26,16384,null,0,c.I,[],null,null),e.zb(27,540672,null,0,c.m,[[8,null],[8,null]],{form:[0,"form"]},null),e.Ub(2048,null,c.d,null,[c.m]),e.zb(29,16384,null,0,c.t,[[4,c.d]],null,null),(t()(),e.Ab(30,0,null,null,1,"ts-cohort-date-range",[["class","ts-cohort-date-range"]],[[2,"ts-cohort-date-range--disabled",null],[1,"disabled",0],[1,"aria-disabled",0],[8,"id",0]],[[null,"cohortDateRangeChanged"]],(function(t,l,n){var e=!0;return"cohortDateRangeChanged"===l&&(e=!1!==t.component.printRange(n)&&e),e}),F,j)),e.zb(31,245760,null,0,w,[c.h],{allowCustomDates:[0,"allowCustomDates"],cohorts:[1,"cohorts"],endMaxDate:[2,"endMaxDate"],endMinDate:[3,"endMinDate"],isDisabled:[4,"isDisabled"],startMaxDate:[5,"startMaxDate"],startMinDate:[6,"startMinDate"]},{cohortDateRangeChanged:"cohortDateRangeChanged"}),(t()(),e.jb(16777216,null,0,1,null,U)),e.zb(33,16384,null,0,C.m,[e.R,e.N],{ngIf:[0,"ngIf"]},null)],(function(t,l){var n=l.component;t(l,2,0,""),t(l,5,0,""),t(l,9,0,""),t(l,13,0,n.constraintForm),t(l,17,0,n.constraintForm.get("startDateRange")),t(l,19,0,""),t(l,22,0,n.constraintForm.get("endDateRange")),t(l,27,0,n.myForm);var e=null,a=null,s=null,u=null,r=null,i=null,o=null,c=null;t(l,31,0,!0,n.cohorts,null==(e=n.constraintForm.get("endDateRange"))||null==(a=e.get("endDate"))?null:a.value,null==(s=n.constraintForm.get("endDateRange"))||null==(u=s.get("startDate"))?null:u.value,!1,null==(r=n.constraintForm.get("startDateRange"))||null==(i=r.get("endDate"))?null:i.value,null==(o=n.constraintForm.get("startDateRange"))||null==(c=o.get("startDate"))?null:c.value),t(l,33,0,n.lastRange)}),(function(t,l){t(l,0,0,e.Pb(l,1).classList),t(l,3,0,e.Pb(l,4).tsCardTitle),t(l,11,0,e.Pb(l,15).ngClassUntouched,e.Pb(l,15).ngClassTouched,e.Pb(l,15).ngClassPristine,e.Pb(l,15).ngClassDirty,e.Pb(l,15).ngClassValid,e.Pb(l,15).ngClassInvalid,e.Pb(l,15).ngClassPending),t(l,23,0,e.Pb(l,24).classList),t(l,25,0,e.Pb(l,29).ngClassUntouched,e.Pb(l,29).ngClassTouched,e.Pb(l,29).ngClassPristine,e.Pb(l,29).ngClassDirty,e.Pb(l,29).ngClassValid,e.Pb(l,29).ngClassInvalid,e.Pb(l,29).ngClassPending),t(l,30,0,e.Pb(l,31).isDisabled,e.Pb(l,31).isDisabled,e.Pb(l,31).isDisabled,e.Pb(l,31).id)}))}function I(t){return e.cc(0,[(t()(),e.Ab(0,0,null,null,1,"demo-cohort-date-range",[],null,null,null,_,L)),e.zb(1,49152,null,0,q,[c.h],null,null)],null,null)}var Z=e.wb("demo-cohort-date-range",q,I,{},{},[]),E=n("iwai"),Q=n("4UJ1"),J=n("20x/"),H=n("76xf"),K=n("5GZx"),Y=n("vE5V"),W=n("mcff"),X=n("s2U3"),$=n("807T"),tt=n("pTnX"),lt=n("O1jd"),nt=n("QHlv"),et=n("MwlL"),at=n("VDyN"),st=n("/L33"),ut=n("CQ8i"),rt=n("A0Cr"),it=n("cpIX"),ot=n("wqa9"),ct=n("28eO"),bt=n("heKL"),dt=n("1VvW");class gt{}var ht=n("jL3B"),mt=n("NxuZ"),pt=n("iASq"),Dt=n("zlaC"),Nt=n("Sgnd"),Ct=n("2ob+"),ft=n("aLyt"),vt=n("CBf0"),Pt=n("hCLc"),Rt=n("ZtZA"),wt=n("VbQ3"),jt=n("QNlx"),yt=n("7ug1"),Ft=n("6g3n"),Vt=n("cTqt"),Mt=n("QUU7"),Ot=n("UDV5"),St=n("qSa+"),zt=n("LTTe"),xt=n("qvIn"),At=n("aTCw");class Tt{}var Bt=n("yUiZ"),Gt=e.xb(a,[],(function(t){return e.Mb([e.Nb(512,e.j,e.bb,[[8,[s.a,Z,E.b,E.a,Q.a,J.b,J.a]],[3,e.j],e.y]),e.Nb(4608,C.o,C.n,[e.v]),e.Nb(4608,c.F,c.F,[]),e.Nb(4608,c.h,c.h,[]),e.Nb(5120,e.b,(function(t,l){return[H.j(t,l)]}),[C.d,e.C]),e.Nb(4608,K.c,K.c,[K.i,K.e,e.j,K.h,K.f,e.s,e.A,C.d,Y.b,[2,C.i]]),e.Nb(5120,K.j,K.k,[K.c]),e.Nb(5120,W.b,W.c,[K.c]),e.Nb(135680,W.d,W.d,[K.c,e.s,[2,C.i],[2,W.a],W.b,[3,W.d],K.e]),e.Nb(4608,X.c,X.c,[]),e.Nb(4608,$.i,$.i,[]),e.Nb(5120,$.a,$.b,[K.c]),e.Nb(4608,tt.c,tt.m,[[2,tt.g],lt.a]),e.Nb(4608,nt.a,nt.a,[]),e.Nb(4608,et.a,et.a,[]),e.Nb(4608,at.a,at.a,[]),e.Nb(4608,st.a,st.a,[]),e.Nb(4608,ut.a,ut.a,[]),e.Nb(4608,rt.a,rt.a,[]),e.Nb(4608,it.a,it.a,[]),e.Nb(4608,ot.a,ot.a,[et.a]),e.Nb(4608,ct.a,ct.a,[]),e.Nb(5120,bt.b,bt.c,[K.c]),e.Nb(1073742336,C.c,C.c,[]),e.Nb(1073742336,dt.p,dt.p,[[2,dt.u],[2,dt.l]]),e.Nb(1073742336,gt,gt,[]),e.Nb(1073742336,c.E,c.E,[]),e.Nb(1073742336,c.o,c.o,[]),e.Nb(1073742336,c.A,c.A,[]),e.Nb(1073742336,Y.a,Y.a,[]),e.Nb(1073742336,tt.i,tt.i,[ht.j,[2,tt.e],[2,C.d]]),e.Nb(1073742336,lt.b,lt.b,[]),e.Nb(1073742336,tt.l,tt.l,[]),e.Nb(1073742336,mt.j,mt.j,[]),e.Nb(1073742336,pt.a,pt.a,[]),e.Nb(1073742336,Dt.a,Dt.a,[]),e.Nb(1073742336,H.c,H.c,[]),e.Nb(1073742336,Nt.i,Nt.i,[]),e.Nb(1073742336,Ct.b,Ct.b,[]),e.Nb(1073742336,ft.a,ft.a,[]),e.Nb(1073742336,vt.a,vt.a,[H.g,e.C]),e.Nb(1073742336,Pt.c,Pt.c,[]),e.Nb(1073742336,Rt.f,Rt.f,[]),e.Nb(1073742336,wt.b,wt.b,[]),e.Nb(1073742336,wt.d,wt.d,[]),e.Nb(1073742336,K.g,K.g,[]),e.Nb(1073742336,W.g,W.g,[]),e.Nb(1073742336,X.d,X.d,[]),e.Nb(1073742336,ht.a,ht.a,[ht.j]),e.Nb(1073742336,$.j,$.j,[]),e.Nb(1073742336,tt.n,tt.n,[]),e.Nb(1073742336,jt.a,jt.a,[]),e.Nb(1073742336,yt.a,yt.a,[]),e.Nb(1073742336,Ft.a,Ft.a,[]),e.Nb(1073742336,Vt.a,Vt.a,[]),e.Nb(1073742336,Mt.a,Mt.a,[]),e.Nb(1073742336,Ot.g,Ot.g,[]),e.Nb(1073742336,Ot.e,Ot.e,[]),e.Nb(1073742336,St.a,St.a,[]),e.Nb(1073742336,zt.a,zt.a,[]),e.Nb(1073742336,xt.c,xt.c,[]),e.Nb(1073742336,At.a,At.a,[]),e.Nb(1073742336,v.a,v.a,[]),e.Nb(1073742336,Tt,Tt,[]),e.Nb(1073742336,Bt.b,Bt.b,[]),e.Nb(1073742336,a,a,[]),e.Nb(1024,dt.j,(function(){return[[{path:"",component:q}]]}),[]),e.Nb(256,tt.f,Vt.b,[])])}))}}]);