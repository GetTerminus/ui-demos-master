function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"4mc+":function(e,t,i){"use strict";i.d(t,"a",(function(){return b})),i.d(t,"b",(function(){return g})),i.d(t,"c",(function(){return f}));var n=i("2kYt"),c=i("EM62"),s=i("mFH5"),r=i("0Hrt"),o=i("7sjG"),a=i("5uKI");function l(e,t){if(1&e&&Object(c.lc)(0,4),2&e){var i=Object(c.Bc)();Object(c.Ic)("ngTemplateOutlet",i.utilityMenuTemplate)}}function d(e,t){1&e&&(Object(c.pc)(0,"ts-icon",5),Object(c.fd)(1,"lock_outline"),Object(c.oc)())}var h=function(e,t,i,n,c,s){return{"c-card--interaction":e,"c-card--centered":t,"c-card--aspect":i,"c-card--disabled":n,"c-card--right-spacing":c,"c-card--flat":s}},p=["*"],u=0,b=function(){var e=function(){function e(){_classCallCheck(this,e),this.uid="ts-card-".concat(u++),this._border="none",this.centeredContent=!1,this.isDisabled=!1,this.flat=!1,this._id=this.uid,this.supportsInteraction=!1,this._theme="primary"}return _createClass(e,[{key:"aspectRatio",set:function(e){var t=parseInt(e.split(":")[0],10),i=parseInt(e.split(":")[1],10);this.aspectRatioPadding="".concat((i/t*100).toFixed(2),"%")}},{key:"border",set:function(e){this._border=e||"none"},get:function(){return this._border}},{key:"id",set:function(e){this._id=e||this.uid},get:function(){return this._id}},{key:"theme",set:function(e){this._theme=e||"primary"},get:function(){return this._theme}},{key:"borderClass",get:function(){return this.border&&"none"!==this.border?"c-card--border-".concat(this.border):""}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Object(c.dc)({type:e,selectors:[["ts-card"]],hostAttrs:[1,"ts-card"],inputs:{aspectRatio:"aspectRatio",border:"border",centeredContent:"centeredContent",isDisabled:"isDisabled",flat:"flat",id:"id",supportsInteraction:"supportsInteraction",theme:"theme",utilityMenuTemplate:"utilityMenuTemplate"},exportAs:["tsCard"],ngContentSelectors:p,decls:5,vars:18,consts:[[3,"ngClass"],["mat-ripple","",1,"c-card__inner",3,"matRippleDisabled"],[3,"ngTemplateOutlet",4,"ngIf"],["class","c-card__lock qa-card-lock",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"c-card__lock","qa-card-lock"]],template:function(e,t){1&e&&(Object(c.Hc)(),Object(c.pc)(0,"div",0),Object(c.pc)(1,"div",1),Object(c.Gc)(2),Object(c.oc)(),Object(c.dd)(3,l,1,1,"ng-container",2),Object(c.dd)(4,d,2,0,"ts-icon",3),Object(c.oc)()),2&e&&(Object(c.Zb)("c-card qa-card ",t.borderClass," c-card--",t.theme,""),Object(c.cd)("padding-top",t.aspectRatioPadding),Object(c.Ic)("ngClass",Object(c.Pc)(11,h,t.supportsInteraction,t.centeredContent,t.aspectRatioPadding,t.isDisabled,t.utilityMenuTemplate||t.isDisabled,t.flat)),Object(c.Wb)("id",t.id),Object(c.Vb)(1),Object(c.Ic)("matRippleDisabled",!t.supportsInteraction||t.isDisabled),Object(c.Vb)(2),Object(c.Ic)("ngIf",t.utilityMenuTemplate),Object(c.Vb)(1),Object(c.Ic)("ngIf",t.isDisabled&&!t.utilityMenuTemplate))},directives:[n.q,s.o,n.t,n.A,r.a],styles:[".ts-card{display:flex;flex-flow:row nowrap}.ts-card :not(.mat-form-field-label-wrapper){box-sizing:border-box}.ts-card h1,.ts-card h2,.ts-card h3,.ts-card h4,.ts-card h5,.ts-card p{margin:unset}.ts-card .c-card{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;letter-spacing:.01em;font-weight:400;background-color:#fafafa;position:relative;transition:height .2s;width:100%}.ts-card .c-card:not(.c-button):not(.c-input):not(.c-select):not(.ts-checkbox){line-height:20px}.ts-card .c-card:not(.c-card--aspect),.ts-card .c-card:not(.c-card--interaction){align-items:stretch;display:flex;flex-direction:row;justify-content:center}.c-card .c-card__inner{min-height:calc(100% - 48px);padding:24px;vertical-align:top;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);position:relative;width:100%}.c-card .c-card__inner .c-card__title{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:20px;font-weight:500;letter-spacing:.005em}.c-card .c-card__inner .c-card__title-accent-border{border-left:2px solid #00538a;padding-left:8px}.c-card .c-card__inner .c-card__title-accent-border[theme=accent]{border-left-color:#2f854d}.c-card .c-card__inner .c-card__title-accent-border[theme=warn]{border-left-color:#c8604d}.c-card--interaction:not(.c-card--disabled) .c-card__inner{min-height:calc(100% - 48px);padding:24px;vertical-align:top;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);transition:box-shadow 250ms cubic-bezier(.4,0,.2,1);cursor:pointer}.c-card--interaction:not(.c-card--disabled) .c-card__inner:hover{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.c-card--interaction:not(.c-card--disabled) .c-card__inner .c-card__title{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:20px;font-weight:500;letter-spacing:.005em}.c-card--centered .c-card__inner{align-items:center;display:flex;justify-content:center}.c-card--aspect .c-card__inner{bottom:0;left:0;position:absolute;right:0;top:0}.c-card--disabled .c-card__inner{opacity:.5}.c-card--disabled .c-menu{opacity:.3;pointer-events:none}.c-card--disabled .c-card__lock{color:#999;position:absolute;right:24px;top:calc(24px - 2px);transform:scale(.7)}.c-card--right-spacing .c-card__inner{padding-right:56px}.c-card--flat>.c-card__inner{border:1px solid #cecdd1;box-shadow:none}.c-card--border-bottom.c-card--primary .c-card__inner{border-bottom:2px solid #00538a}.c-card--border-bottom.c-card--accent .c-card__inner{border-bottom:2px solid #2f854d}.c-card--border-bottom.c-card--warn .c-card__inner{border-bottom:2px solid #c8604d}.c-card--border-left.c-card--primary .c-card__inner{border-left:2px solid #00538a}.c-card--border-left.c-card--accent .c-card__inner{border-left:2px solid #2f854d}.c-card--border-left.c-card--warn .c-card__inner{border-left:2px solid #c8604d}.c-card--border-right.c-card--primary .c-card__inner{border-right:2px solid #00538a}.c-card--border-right.c-card--accent .c-card__inner{border-right:2px solid #2f854d}.c-card--border-right.c-card--warn .c-card__inner{border-right:2px solid #c8604d}.c-card--border-top.c-card--primary .c-card__inner{border-top:2px solid #00538a}.c-card--border-top.c-card--accent .c-card__inner{border-top:2px solid #2f854d}.c-card--border-top.c-card--warn .c-card__inner{border-top:2px solid #c8604d}.c-card__inner .ts-table~.ts-loading-overlay .c-loading-overlay{left:-24px;right:-24px}"],encapsulation:2,changeDetection:0}),e}(),f=function(){var e=function(){function e(t){if(_classCallCheck(this,e),this.theme="primary",this.tsCardTitle="c-card__title",!(t instanceof b)&&Object(c.ob)())throw new a.c("The 'tsCardTitle' directive must be inside a <ts-card> component.")}return _createClass(e,[{key:"tsTitleAccentBorder",set:function(e){Object(o.b)(e)&&(this.tsCardTitle="".concat(this.tsCardTitle," c-card__title-accent-border"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Object(c.jc)(b,13))},e.\u0275dir=Object(c.ec)({type:e,selectors:[["","tsCardTitle",""]],hostVars:2,hostBindings:function(e,t){2&e&&Object(c.Xb)(t.tsCardTitle)},inputs:{tsTitleAccentBorder:"tsTitleAccentBorder",theme:"theme"}}),e}(),g=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=Object(c.hc)({type:e}),e.\u0275inj=Object(c.gc)({factory:function(t){return new(t||e)},imports:[[n.c,s.p,r.b]]}),e}()},QmDH:function(e,t,i){"use strict";i.d(t,"a",(function(){return fe})),i.d(t,"b",(function(){return ge})),i.d(t,"c",(function(){return Y}));var n=i("qvOF"),c=i("HYj3"),s=i("2kYt"),r=i("EM62"),o=i("40Bj"),a=i("nIj0"),l=i("fAiE"),d=i("mFH5"),h=(i("5XID"),i("ZTXN")),p=i("g6G6"),u=i("J+dc"),b=i("kuMc"),f=i("jIqt"),g=(i("5lCh"),i("sg/T")),O=i("cqs0");i("29Wa"),i("cZZj"),i("E5oP");var v,j,m=new r.B("mat-chips-default-options"),y={separatorKeyCodes:[l.f]},k=((v=function e(){_classCallCheck(this,e)}).\u0275mod=r.hc({type:v}),v.\u0275inj=r.gc({factory:function(e){return new(e||v)},providers:[d.d,{provide:m,useValue:y}]}),v),_=i("csyo"),w=i("ye0E"),C=i("A1IQ"),x=i("0Hrt"),R=i("OEuM"),M=i("OXHR"),I=i("hOI7"),S=i("+Tre"),A=i("AW5y"),V=i("7sjG"),T=i("h9lW"),D=i("RmZO"),H=i("HRj5"),q=i("/Gcv"),E=i("i9xl"),B=i("C05f"),W=i("f7+R"),P=["*"],z=0,Y=((j=function(){function e(){_classCallCheck(this,e),this.uid="ts-select-trigger-".concat(z++),this._id=this.uid}return _createClass(e,[{key:"id",set:function(e){this._id=e||this.uid},get:function(){return this._id}}]),e}()).\u0275fac=function(e){return new(e||j)},j.\u0275cmp=Object(r.dc)({type:j,selectors:[["ts-select-trigger"]],hostAttrs:[1,"ts-select-custom-trigger","qa-select-custom-trigger"],hostVars:1,hostBindings:function(e,t){2&e&&Object(r.Wb)("id",t.id)},inputs:{id:"id"},exportAs:["tsSelectTrigger"],ngContentSelectors:P,decls:1,vars:0,template:function(e,t){1&e&&(Object(r.Hc)(),Object(r.Gc)(0))},encapsulation:2,changeDetection:0}),j),F={transformPanel:Object(W.n)("transformPanel",[Object(W.k)("void",Object(W.l)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Object(W.k)("showing",Object(W.l)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(W.k)("showing-multiple",Object(W.l)({opacity:1,minWidth:"calc(100% + 24px)",transform:"scaleY(1)"})),Object(W.m)("void => *",Object(W.e)("120ms cubic-bezier(0, 0, 0.2, 1)")),Object(W.m)("* => void",Object(W.e)("100ms 25ms linear",Object(W.l)({opacity:0})))])},K=["input"],N=["labelElement"],Q=["trigger"],G=["panel"];function L(e,t){if(1&e&&(Object(r.pc)(0,"ts-label"),Object(r.fd)(1),Object(r.oc)()),2&e){var i=Object(r.Bc)();Object(r.Vb)(1),Object(r.hd)(" ",i.label," ")}}function U(e,t){if(1&e&&(Object(r.pc)(0,"span",12),Object(r.fd)(1),Object(r.oc)()),2&e){var i=Object(r.Bc)();Object(r.Vb)(1),Object(r.hd)(" ",i.placeholder||"\xa0"," ")}}function X(e,t){if(1&e&&(Object(r.pc)(0,"span"),Object(r.fd)(1),Object(r.oc)()),2&e){var i=Object(r.Bc)(2);Object(r.Wb)("title",i.selectTriggerValue),Object(r.Vb)(1),Object(r.hd)(" ",i.selectTriggerValue||"\xa0"," ")}}function Z(e,t){1&e&&Object(r.Gc)(0,0,["*ngSwitchCase","true"])}function J(e,t){if(1&e&&(Object(r.pc)(0,"span",13),Object(r.dd)(1,X,2,2,"span",14),Object(r.dd)(2,Z,1,0,void 0,15),Object(r.oc)()),2&e){var i=Object(r.Bc)();Object(r.Ic)("ngSwitch",!!i.customTrigger),Object(r.Vb)(2),Object(r.Ic)("ngSwitchCase",!0)}}function $(e,t){if(1&e){var i=Object(r.qc)();Object(r.pc)(0,"div",23),Object(r.pc)(1,"ts-input",24),Object(r.xc)("ngModelChange",(function(e){return Object(r.Vc)(i),Object(r.Bc)(2).queryChange.emit(e)})),Object(r.oc)(),Object(r.oc)()}if(2&e){var n=Object(r.Bc)(2);Object(r.Vb)(1),Object(r.Ic)("ngModel",n.searchQuery)}}function ee(e,t){if(1&e&&(Object(r.pc)(0,"span",28),Object(r.fd)(1),Object(r.oc)()),2&e){var i=Object(r.Bc)(3);Object(r.Vb)(1),Object(r.hd)(" ",null==i.selectionModel?null:i.selectionModel.selected.length," selected ")}}function te(e,t){if(1&e){var i=Object(r.qc)();Object(r.pc)(0,"div",25),Object(r.xc)("click",(function(){return Object(r.Vc)(i),Object(r.Bc)(2).toggleAllOptions()})),Object(r.pc)(1,"ts-checkbox",26),Object(r.fd)(2),Object(r.dd)(3,ee,2,1,"span",27),Object(r.oc)(),Object(r.oc)()}if(2&e){var n=Object(r.Bc)(2);Object(r.Vb)(1),Object(r.Ic)("isChecked",n.allOptionsSelected)("isIndeterminate",n.someOptionsSelected),Object(r.Vb)(1),Object(r.hd)(" ",n.someOptionsSelected?"Deselect":"Select"," All "),Object(r.Vb)(1),Object(r.Ic)("ngIf",null==n.selectionModel?null:n.selectionModel.selected.length)}}function ie(e,t){}function ne(e,t){1&e&&Object(r.dd)(0,ie,0,0,"ng-template")}function ce(e,t){if(1&e){var i=Object(r.qc)();Object(r.pc)(0,"div",29),Object(r.xc)("click",(function(){return Object(r.Vc)(i),Object(r.Bc)(2).optionsRefreshRequested.emit()})),Object(r.pc)(1,"ts-icon"),Object(r.fd)(2,"refresh"),Object(r.oc)(),Object(r.pc)(3,"span"),Object(r.fd)(4," Refresh & reload to bring in new choices. "),Object(r.oc)(),Object(r.oc)()}}function se(e,t){if(1&e&&(Object(r.pc)(0,"div",30),Object(r.fd)(1),Object(r.oc)()),2&e){var i=Object(r.Bc)(2);Object(r.Vb)(1),Object(r.hd)(" Narrow your search to reveal ",i.totalHiddenResults?i.totalHiddenResults+" ":"","hidden results. ")}}function re(e,t){if(1&e){var i=Object(r.qc)();Object(r.pc)(0,"div",16,17),Object(r.xc)("@transformPanel.done",(function(e){return Object(r.Vc)(i),Object(r.Bc)().panelDoneAnimatingStream.next(e.toState)}))("keydown",(function(e){return Object(r.Vc)(i),Object(r.Bc)().handleKeydown(e)})),Object(r.dd)(2,$,2,1,"div",18),Object(r.dd)(3,te,4,4,"div",19),Object(r.dd)(4,ne,1,0,void 0,20),Object(r.dd)(5,ce,5,0,"div",21),Object(r.dd)(6,se,2,1,"div",22),Object(r.oc)()}if(2&e){var n=Object(r.Bc)(),c=Object(r.Rc)(12);Object(r.Yb)("ts-select-panel ts-",n.theme," qa-select-panel"),Object(r.cd)("transform-origin",n.transformOrigin)("font-size",n.triggerFontSize,"px"),Object(r.ac)("ts-select-panel--multiple",n.allowMultiple)("ts-select-panel--filter",n.isFilterable),Object(r.Ic)("@transformPanel",n.allowMultiple?"showing-multiple":"showing"),Object(r.Vb)(2),Object(r.Ic)("ngIf",n.isFilterable),Object(r.Vb)(1),Object(r.Ic)("ngIf",n.allowMultiple),Object(r.Vb)(1),Object(r.Ic)("ngTemplateOutlet",c),Object(r.Vb)(1),Object(r.Ic)("ngIf",n.showRefresh),Object(r.Vb)(1),Object(r.Ic)("ngIf",n.showRefineSearchMessage)}}function oe(e,t){1&e&&Object(r.Gc)(0,1)}var ae,le,de=[[["ts-select-trigger"]],"*"],he=["ts-select-trigger","*"],pe=function(e,t){return e===t},ue=function e(t,i){_classCallCheck(this,e),this.source=t,this.value=i},be=0,fe=((le=function(){function e(t,i,n,c,s,o){var a=this;_classCallCheck(this,e),this.viewportRuler=t,this.changeDetectorRef=i,this.ngZone=n,this.documentService=c,this.elementRef=s,this.ngControl=o,this.componentName="TsSelectComponent",this.flexGap=q.a.small[0],this.labelChanges=new h.a,this.offsetY=0,this.optionIds="",this.optionSelectionChanges=Object(E.a)((function(){return Object(p.a).apply(void 0,_toConsumableArray(a.options.map((function(e){return e.selectionChange}))))})),this.panelDoneAnimatingStream=new h.a,this.panelOpen=!1,this.positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this.scrollTop=0,this.searchQuery="",this.selfReference=this,this.stateChanges=new h.a,this.transformOrigin="top",this.triggerFontSize=0,this.uid="ts-select-".concat(be++),this.querySubject=new B.a(""),this.viewportMarginSpacing=100,this.allowMultiple=!1,this._compareWith=pe,this._delimiter=",",this.hideRequiredMarker=!1,this._id=this.uid,this.isDisabled=!1,this.isFilterable=!1,this._isRequired=!1,this.noValidationOrHint=!1,this.showProgress=!1,this.showRefineSearchMessage=!1,this.showRefresh=!1,this._tabIndex=0,this.theme="primary",this.validateOnChange=!1,this.closed=new r.u,this.duplicateSelection=new r.u,this.opened=new r.u,this.optionDeselected=new r.u,this.optionSelected=new r.u,this.optionsRefreshRequested=new r.u,this.queryChange=new r.u,this.selectionChange=new r.u,this.valueChange=new r.u,this.onChange=function(){},this.onTouched=function(){},this.document=this.documentService.document,this.ngControl&&(this.ngControl.valueAccessor=this)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.selectionModel=new O.b(this.allowMultiple),this.ngControl&&this.ngControl.form&&this.ngControl.valueChanges&&this.ngControl.valueChanges.pipe(Object(H.j)(this)).subscribe((function(t){t&&e.setSelectionByValue(t)}))}},{key:"ngAfterContentInit",value:function(){var e=this;this.initKeyManager(),this.selectionModel.changed.pipe(Object(H.j)(this)).subscribe((function(t){t.added.forEach((function(t){t.select(),e.optionSelected.emit(new ue(e,t.value))})),t.removed.forEach((function(t){t.deselect(),e.optionDeselected.emit(new ue(e,t.value))}))})),this.options.changes.pipe(Object(f.a)(null),Object(H.j)(this)).subscribe((function(){e.resetOptions(),e.initializeSelection()}))}},{key:"ngOnChanges",value:function(e){Object(H.f)(e,"label")&&!e.label.firstChange&&(this.changeDetectorRef.detectChanges(),this.labelChanges.next())}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete()}},{key:"toggle",value:function(){this.isDisabled||(this.panelOpen?this.close():this.open())}},{key:"open",value:function(){var e=this;!this.isDisabled&&this.options&&this.options.length&&!this.panelOpen&&(this.triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this.triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement)["font-size"],10),this.panelOpen=!0,this.keyManager.withHorizontalOrientation(null),this.highlightCorrectOption(),this.changeDetectorRef.markForCheck(),this.ngZone.onStable.asObservable().pipe(Object(u.a)(1)).subscribe((function(){e.triggerFontSize&&e.overlayDir.overlayRef&&e.overlayDir.overlayRef.overlayElement&&(e.overlayDir.overlayRef.overlayElement.style.fontSize="".concat(e.triggerFontSize,"px")),e.options.first.elementRef.nativeElement.getBoundingClientRect(),e.calculateOverlayPosition()})),this.opened.emit())}},{key:"close",value:function(){this.panelOpen&&(this.panelOpen=!1,this.keyManager.withHorizontalOrientation("ltr"),this.changeDetectorRef.markForCheck(),this.onTouched(),this.updateValueAndValidity(),this.closed.emit())}},{key:"onAttached",value:function(){var e=this;this.overlayDir.positionChange.pipe(Object(u.a)(1)).subscribe((function(){e.changeDetectorRef.detectChanges(),e.setPanelScrollTop(e.scrollTop)}))}},{key:"handleKeydown",value:function(e){this.isDisabled||(this.panelOpen?this.handleOpenKeydown(e):this.handleClosedKeydown(e))}},{key:"handleClosedKeydown",value:function(e){var t=e.code,i=[T.a.DOWN_ARROW.code,T.a.UP_ARROW.code,T.a.LEFT_ARROW.code,T.a.RIGHT_ARROW.code].indexOf(t)>=0;t===T.a.ENTER.code||t===T.a.SPACE.code||(this.allowMultiple||e.altKey)&&i?(e.preventDefault(),this.open()):this.allowMultiple||this.keyManager.onKeydown(e)}},{key:"handleOpenKeydown",value:function(e){var t=e.code,i=t===T.a.DOWN_ARROW.code||t===T.a.UP_ARROW.code,n=this.keyManager,c=this.isFilterable&&"input"===e.target.tagName.toLowerCase();if(t===T.a.HOME.code||t===T.a.END.code)e.preventDefault(),t===T.a.HOME.code?n.setFirstItemActive():n.setLastItemActive();else if(i&&e.altKey)e.preventDefault(),this.close();else if((t===T.a.ENTER.code||t===T.a.SPACE.code&&!c)&&n.activeItem)e.preventDefault(),n.activeItem.selectViaInteraction();else if(this.allowMultiple&&t===T.a.A.code&&e.ctrlKey){e.preventDefault();var s=this.options.some((function(e){return!e.isDisabled&&!e.selected}));this.options.forEach((function(e){e.isDisabled||(s?e.select():e.deselect())}))}else{var r=this.allowMultiple&&i&&e.shiftKey;i&&e.shiftKey?t===T.a.DOWN_ARROW.code?n.setNextItemActive():n.setPreviousItemActive():n.onKeydown(e),r&&n.activeItem&&n.activeItem.selectViaInteraction()}}},{key:"resetOptions",value:function(){var e=this;this.optionSelectionChanges.pipe(Object(b.a)(this.options.changes),Object(H.j)(this)).subscribe((function(t){e.onSelect(t.source,t.isUserInput),t.isUserInput&&!e.allowMultiple&&e.panelOpen&&(e.close(),e.focus())})),Object(p.a).apply(void 0,_toConsumableArray(this.options.map((function(e){return e.stateChanges})))).pipe(Object(H.j)(this)).subscribe((function(){e.changeDetectorRef.markForCheck(),e.stateChanges.next()})),this.setOptionIds()}},{key:"onSelect",value:function(e,t){var i=this.selectionModel.isSelected(e);null!=e.value||this.allowMultiple?(e.selected?this.selectionModel.select(e):this.selectionModel.deselect(e),t&&this.keyManager.setActiveItem(e),this.allowMultiple&&(this.sortValues(),t&&this.focus())):(e.deselect(),this.selectionModel.clear(),this.propagateChanges(e.value)),i!==this.selectionModel.isSelected(e)&&this.propagateChanges(),this.stateChanges.next()}},{key:"setOptionIds",value:function(){this.optionIds=this.options.map((function(e){return e.id})).join(" ")}},{key:"initKeyManager",value:function(){var e=this;this.keyManager=new g.b(this.options).withTypeAhead().withVerticalOrientation().withHorizontalOrientation("ltr"),this.keyManager.tabOut.pipe(Object(H.j)(this)).subscribe((function(){e.focus(),e.close()})),this.keyManager.change.pipe(Object(H.j)(this)).subscribe((function(){e.panelOpen&&e.panel?e.scrollActiveOptionIntoView():e.panelOpen||e.allowMultiple||!e.keyManager.activeItem||e.keyManager.activeItem.selectViaInteraction()}))}},{key:"focus",value:function(){this.elementRef.nativeElement.focus()}},{key:"sortValues",value:function(){var e=this;if(this.allowMultiple){var t=this.options.toArray();this.selectionModel.sort((function(i,n){return e.sortComparator?e.sortComparator(i,n,t):t.indexOf(i)-t.indexOf(n)})),this.stateChanges.next()}}},{key:"propagateChanges",value:function(e){var t;t=this.allowMultiple?this.selected.map((function(e){return e.value})):this.selected?this.selected.value:e,this.value=t,this.valueChange.emit(t),this.onChange(t),this.selectionChange.emit(new ue(this,t)),this.changeDetectorRef.markForCheck()}},{key:"updateValueAndValidity",value:function(){this.ngControl&&this.ngControl.control&&this.ngControl.control.updateValueAndValidity()}},{key:"writeValue",value:function(e){}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.isDisabled=e,this.changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"initializeSelection",value:function(){var e=this;Promise.resolve().then((function(){e.setSelectionByValue(e.ngControl?e.ngControl.value:e.value)}))}},{key:"setSelectionByValue",value:function(e){var t=this;if(this.allowMultiple&&e)e=Object(V.a)(e),this.selectionModel.clear(),e.forEach((function(e){return t.selectOptionByValue(e)})),this.sortValues();else{this.selectionModel.clear();var i=this.selectOptionByValue(e);i&&this.keyManager.setActiveItem(i)}this.changeDetectorRef.markForCheck()}},{key:"selectOptionByValue",value:function(e){var t=this,i=this.options.find((function(i){try{return null!=i.value&&t.compareWith(i.value,e)}catch(n){return Object(r.ob)()&&console.warn(n),!1}}));return i&&this.selectionModel.select(i),i}},{key:"scrollActiveOptionIntoView",value:function(){var e=this.keyManager.activeItemIndex||0,t=Object(M.h)(e,this.options,this.optionGroups),i=Object(M.i)(e+t,this.itemHeight,this.getPanelScrollTop(),256);this.setPanelScrollTop(i)}},{key:"calculateOverlayPosition",value:function(){var e=this.itemHeight,t=this.itemCount,i=Math.min(t*e,256),n=t*e-i,c=this.empty?0:this.getOptionIndex(this.selectionModel.selected[0]);c+=Object(M.h)(c,this.options,this.optionGroups);var s=i/2;this.scrollTop=this.calculateOverlayScroll(c,s,n),this.offsetY=this.calculateOverlayOffsetY(c,s,n),this.checkOverlayWithinViewport(n)}},{key:"calculateOverlayScroll",value:function(e,t,i){var n=this.itemHeight;return Math.min(Math.max(0,n*e-t+n/2),i)}},{key:"calculateOverlayOffsetY",value:function(e,t,i){var n,c=this.itemHeight,s=(c-(this.triggerRect?this.triggerRect.height:0))/2,r=Math.floor(256/c);return n=0===this.scrollTop?e*c:this.scrollTop===i?(e-(this.itemCount-r))*c+(c-(this.itemCount*c-256)%c):t-c/2,Math.round(-1*n-s)}},{key:"checkOverlayWithinViewport",value:function(e){var t=this.itemHeight,i=this.viewportRuler.getViewportSize(),n=this.triggerRect?this.triggerRect.top-8:0,c=i.height-(this.triggerRect?this.triggerRect.bottom:0)-8,s=Math.abs(this.offsetY),r=Math.min(this.itemCount*t,256)-s-(this.triggerRect?this.triggerRect.height:0);r>c?this.adjustPanelUp(r,c):s>n?this.adjustPanelDown(s,n,e):this.transformOrigin=this.getOriginBasedOnOption()}},{key:"adjustPanelUp",value:function(e,t){var i=Math.round(e-t);this.scrollTop-=i,this.offsetY=this.offsetY-i<0?0:this.offsetY-i,this.transformOrigin=this.getOriginBasedOnOption(),this.scrollTop<=0&&(this.scrollTop=0,this.offsetY=0,this.transformOrigin="50% bottom 0px")}},{key:"adjustPanelDown",value:function(e,t,i){var n=Math.round(e-t);if(this.scrollTop+=n,this.offsetY=this.offsetY+n<0?0:this.offsetY+n,this.transformOrigin=this.getOriginBasedOnOption(),this.scrollTop>=i)return this.scrollTop=i,this.offsetY=0,void(this.transformOrigin="50% top 0px")}},{key:"getOriginBasedOnOption",value:function(){var e=this.itemHeight,t=(e-(this.triggerRect?this.triggerRect.height:0))/2;return"50% ".concat(Math.abs(this.offsetY)-t+e/2,"px 0px")}},{key:"getOptionIndex",value:function(e){return this.options.reduce((function(t,i,n){var c=e===i?n:void 0;return Object(D.j)(t)?c:t}),void 0)}},{key:"highlightCorrectOption",value:function(){this.keyManager&&(this.empty?this.keyManager.setFirstItemActive():this.keyManager.setActiveItem(this.selectionModel.selected[0]))}},{key:"toggleAllOptions",value:function(){Object(M.k)(this.options)}},{key:"onContainerClick",value:function(){this.focus(),this.isDisabled||this.open()}},{key:"getPanelScrollTop",value:function(){return this.panel?this.panel.nativeElement.scrollTop:0}},{key:"setPanelScrollTop",value:function(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}},{key:"allOptionsSelected",get:function(){return Object(M.g)(this.options)}},{key:"empty",get:function(){return this.selectionModel&&this.selectionModel.isEmpty()}},{key:"focused",get:function(){return this.document.activeElement===(this.inputElement&&this.inputElement.nativeElement)||this.panelOpen}},{key:"itemCount",get:function(){return this.options.length+this.optionGroups.length}},{key:"itemHeight",get:function(){var e=this.options.toArray(),t=e[1]||e[0];return t&&t.elementRef.nativeElement.offsetHeight}},{key:"someOptionsSelected",get:function(){return Object(M.j)(this.options)}},{key:"shouldLabelFloat",get:function(){return this.focused||!this.empty||this.searchQuery.length>0}},{key:"selectTriggerValue",get:function(){return this.allowMultiple?this.selectionModel.selected.map((function(e){return e.viewValue})).join("".concat(this.delimiter," ")):this.selectionModel.selected[0].viewValue}},{key:"selected",get:function(){return this.allowMultiple?this.selectionModel.selected:this.selectionModel.selected[0]}},{key:"compareWith",set:function(e){"function"!=typeof e&&Object(r.ob)()&&(console.warn('TsSelectComponent: "compareWith" must be a function. Falling back to the default.'),this._compareWith=pe),this._compareWith=e,this.selectionModel&&this.initializeSelection()},get:function(){return this._compareWith}},{key:"delimiter",set:function(e){this._delimiter=Object(D.i)(e)?e:","},get:function(){return this._delimiter}},{key:"hint",set:function(e){this._hint=e},get:function(){return this._hint}},{key:"id",set:function(e){this._id=e||this.uid},get:function(){return this._id}},{key:"isRequired",set:function(e){this._isRequired=e},get:function(){var e=this.ngControl&&this.ngControl.control,t=!!e&&Object(H.e)(e);return this._isRequired||t}},{key:"label",set:function(e){this._label=e},get:function(){return this._label}},{key:"placeholder",set:function(e){this._placeholder=e,this.stateChanges.next()},get:function(){return this._placeholder}},{key:"tabIndex",set:function(e){this._tabIndex=Object(V.d)(e)},get:function(){return this._tabIndex}},{key:"value",set:function(e){e!==this._value&&(this._value=e)},get:function(){return this._value}}]),e}()).\u0275fac=function(e){return new(e||le)(Object(r.jc)(n.d),Object(r.jc)(r.j),Object(r.jc)(r.M),Object(r.jc)(A.a),Object(r.jc)(r.r),Object(r.jc)(a.p,10))},le.\u0275cmp=Object(r.dc)({type:le,selectors:[["ts-select"]],contentQueries:function(e,t,i){var n;1&e&&(Object(r.cc)(i,Y,!0),Object(r.cc)(i,M.c,!0),Object(r.cc)(i,M.b,!1)),2&e&&(Object(r.Qc)(n=Object(r.yc)())&&(t.customTrigger=n.first),Object(r.Qc)(n=Object(r.yc)())&&(t.options=n),Object(r.Qc)(n=Object(r.yc)())&&(t.optionGroups=n))},viewQuery:function(e,t){var i;1&e&&(Object(r.kd)(K,!0),Object(r.kd)(N,!0),Object(r.kd)(Q,!0),Object(r.kd)(c.a,!0),Object(r.kd)(G,!0)),2&e&&(Object(r.Qc)(i=Object(r.yc)())&&(t.inputElement=i.first),Object(r.Qc)(i=Object(r.yc)())&&(t.labelElement=i.first),Object(r.Qc)(i=Object(r.yc)())&&(t.trigger=i.first),Object(r.Qc)(i=Object(r.yc)())&&(t.overlayDir=i.first),Object(r.Qc)(i=Object(r.yc)())&&(t.panel=i.first))},hostAttrs:[1,"ts-select"],hostVars:8,hostBindings:function(e,t){1&e&&Object(r.xc)("keydown",(function(e){return t.handleKeydown(e)})),2&e&&(Object(r.Wb)("aria-owns",t.panelOpen?t.optionIds:null)("aria-required",t.isRequired.toString())("aria-multiselectable",t.allowMultiple)("tabindex",t.tabIndex),Object(r.ac)("ts-select--required",t.isRequired)("ts-select--disabled",t.isDisabled))},inputs:{allowMultiple:"allowMultiple",compareWith:"compareWith",delimiter:"delimiter",hideRequiredMarker:"hideRequiredMarker",hint:"hint",id:"id",isDisabled:"isDisabled",isFilterable:"isFilterable",isRequired:"isRequired",label:"label",noValidationOrHint:"noValidationOrHint",placeholder:"placeholder",showProgress:"showProgress",showRefineSearchMessage:"showRefineSearchMessage",showRefresh:"showRefresh",sortComparator:"sortComparator",tabIndex:"tabIndex",theme:"theme",totalHiddenResults:"totalHiddenResults",validateOnChange:"validateOnChange",value:"value"},outputs:{closed:"closed",duplicateSelection:"duplicateSelection",opened:"opened",optionDeselected:"optionDeselected",optionSelected:"optionSelected",optionsRefreshRequested:"optionsRefreshRequested",queryChange:"queryChange",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["tsSelect"],features:[Object(r.Ub)([{provide:C.b,useExisting:le},{provide:M.a,useExisting:le},{provide:S.a,useValue:{clickAction:"noop"}}]),r.Tb],ngContentSelectors:he,decls:13,vars:19,consts:[["cdk-overlay-origin","",3,"validateOnChange","control","hideRequiredMarker","hint","id","noValidationOrHint","theme"],["origin","cdkOverlayOrigin"],[4,"ngIf"],["aria-hidden","true",1,"ts-select-trigger","qa-select-trigger",3,"click"],["trigger",""],[1,"ts-select-value",3,"ngSwitch"],["class","ts-select-placeholder",4,"ngSwitchCase"],["class","ts-select-value-text qa-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"ts-select-arrow-wrapper","qa-select-arrow-wrapper"],[1,"ts-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayViewportMargin","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","backdropClick","attach","detach"],["contentTemplate",""],[1,"ts-select-placeholder"],[1,"ts-select-value-text","qa-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[3,"keydown"],["panel",""],["class","ts-select-panel__filter-input",4,"ngIf"],["class","ts-select-panel__toggle-all qa-select-toggle-all",3,"click",4,"ngIf"],[4,"ngTemplateOutlet"],["class","ts-select-panel__refresh",3,"click",4,"ngIf"],["class","ts-select-panel__refine",4,"ngIf"],[1,"ts-select-panel__filter-input"],["label","Begin typing to filter...",3,"ngModel","ngModelChange"],[1,"ts-select-panel__toggle-all","qa-select-toggle-all",3,"click"],["theme","accent",3,"isChecked","isIndeterminate"],["class","ts-select-panel__count qa-select-selected-count",4,"ngIf"],[1,"ts-select-panel__count","qa-select-selected-count"],[1,"ts-select-panel__refresh",3,"click"],[1,"ts-select-panel__refine"]],template:function(e,t){if(1&e&&(Object(r.Hc)(de),Object(r.pc)(0,"ts-form-field",0,1),Object(r.dd)(2,L,2,1,"ts-label",2),Object(r.pc)(3,"div",3,4),Object(r.xc)("click",(function(){return t.toggle()})),Object(r.pc)(5,"div",5),Object(r.dd)(6,U,2,1,"span",6),Object(r.dd)(7,J,3,2,"span",7),Object(r.oc)(),Object(r.pc)(8,"div",8),Object(r.kc)(9,"div",9),Object(r.oc)(),Object(r.oc)(),Object(r.oc)(),Object(r.dd)(10,re,7,17,"ng-template",10),Object(r.xc)("backdropClick",(function(){return t.close()}))("attach",(function(){return t.onAttached()}))("detach",(function(){return t.close()})),Object(r.dd)(11,oe,1,0,"ng-template",null,11,r.ed)),2&e){var i=Object(r.Rc)(1);Object(r.Ic)("validateOnChange",t.validateOnChange)("control",t.selfReference)("hideRequiredMarker",t.hideRequiredMarker)("hint",t.hint)("id",t.id)("noValidationOrHint",t.noValidationOrHint)("theme",t.theme),Object(r.Vb)(2),Object(r.Ic)("ngIf",t.label),Object(r.Vb)(1),Object(r.Wb)("id",t.id)("tabindex",t.tabIndex),Object(r.Vb)(2),Object(r.Ic)("ngSwitch",t.empty),Object(r.Vb)(1),Object(r.Ic)("ngSwitchCase",!0),Object(r.Vb)(1),Object(r.Ic)("ngSwitchCase",!1),Object(r.Vb)(3),Object(r.Ic)("cdkConnectedOverlayViewportMargin",t.viewportMarginSpacing)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t.positions)("cdkConnectedOverlayMinWidth",null==t.triggerRect?null:t.triggerRect.width)("cdkConnectedOverlayWidth",null==t.triggerRect?null:t.triggerRect.width)}},directives:[C.a,c.b,s.t,s.x,s.y,c.a,C.d,s.z,s.A,R.a,a.q,a.t,w.a,x.a],styles:[".ts-select{display:block;outline:0}.ts-select :not(.mat-form-field-label-wrapper){box-sizing:border-box}.ts-select h1,.ts-select h2,.ts-select h3,.ts-select h4,.ts-select h5,.ts-select p{margin:unset}.ts-select .ts-form-field.ts-form-field--float .ts-select-arrow-wrapper,.ts-select .ts-form-field:not(.ts-form-field--float) .ts-select-arrow-wrapper{display:table-cell;transform:translateY(-10%);vertical-align:middle}.ts-select .ts-select-trigger{box-sizing:border-box;cursor:pointer;display:inline-table;position:relative}.ts-select .ts-select-trigger--hidden{border:0;-webkit-clip-path:rect(0,0,0,0);clip-path:rect(0,0,0,0);display:block;height:1px;margin:-1px;overflow:hidden;padding:0;pointer-events:none;position:absolute;visibility:hidden;width:1px}.ts-option--disabled .ts-select .ts-select-trigger,.ts-select.ts-select--disabled .ts-select-trigger{cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ts-select.ts-select--disabled .ts-select-arrow{color:#999}.ts-select .ts-select-value{display:table-cell;max-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.ts-select .ts-select-value-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ts-select .ts-select-arrow{border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;height:0;margin:0 4px;width:0}.cdk-overlay-pane .ts-select-panel__filter-input{background-color:#fafafa;border-bottom:1px solid #cecdd1;left:0;padding:8px;position:absolute;right:-24px;top:0;width:calc(100% - 16px);z-index:501}.cdk-overlay-pane .ts-select-panel__filter-input .ts-form-field .ts-form-field__wrapper{padding-bottom:0}.ts-select-panel{max-height:256px;overflow:auto}.ts-select-panel.ts-select-panel--filter{padding-top:85px}.ts-select-panel .ts-optgroup .ts-option .ts-checkbox{padding-left:16px}.ts-select-panel .ts-select-panel__toggle-all{background-color:#f2f0f7;border-bottom:1px solid #999;position:relative}.ts-select-panel .ts-select-panel__toggle-all .ts-checkbox{line-height:3em}.ts-select-panel .ts-select-panel__count{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;letter-spacing:.02em;color:#999;position:absolute;right:12px}.ts-select-panel .ts-select-panel__refresh{letter-spacing:.01em;font-weight:500;font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;letter-spacing:.02em;background-color:#f2f0f7;color:#757575;cursor:pointer;height:48px;line-height:48px;padding:0 16px;transition:color .2s}.ts-select-panel .ts-select-panel__refresh .ts-icon{height:24px;vertical-align:text-bottom}.ts-select-panel .ts-select-panel__refresh:focus,.ts-select-panel .ts-select-panel__refresh:hover{color:#00538a}.ts-select-panel .ts-select-panel__refine{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;letter-spacing:.02em;color:#999;font-style:italic;padding:12px 16px}.ts-paginator .ts-select{display:inline-block;position:relative;width:5em}.ts-paginator .ts-select.ts-select--disabled .ts-select-arrow-wrapper{transform:translateY(0)}"],encapsulation:2,data:{animation:[F.transformPanel]},changeDetection:0}),le),ge=((ae=function e(){_classCallCheck(this,e)}).\u0275mod=Object(r.hc)({type:ae}),ae.\u0275inj=Object(r.gc)({factory:function(e){return new(e||ae)},providers:[],imports:[[s.c,o.a,a.m,k,_.b,d.p,c.f,a.y,w.b,C.c,x.b,R.b,M.e,I.b]]}),ae)}}]);