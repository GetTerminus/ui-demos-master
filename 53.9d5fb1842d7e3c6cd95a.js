(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"b/Av":function(t,n,e){"use strict";e.r(n);var l=e("CcnG"),a=function(){return function(){}}(),o=e("pMnS"),i=e("ehiB"),r=e("1xtn"),u=e("gIcY"),b=(e("mrSG"),e("6jrj")),s=e("VYBx"),c=function(){return function(t,n,e){this.start=t,this.end=n,this.source=e}}(),d=0,g=function(){function t(t){this.formBuilder=t,this.customDateCohort={display:"Custom dates",range:{start:null,end:null}},this.formGroup=this.formBuilder.group({dateRange:this.formBuilder.group({startDate:[null],endDate:[null]})}),this.uid="ts-cohort-date-range-"+d++,this.allowCustomDates=!0,this._id=this.uid,this.isDisabled=!1,this.cohortDateRangeChanged=new l.n}return Object.defineProperty(t.prototype,"dateRangeFormGroup",{get:function(){return this.formGroup.get("dateRange")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t||this.uid},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.updateSelectOnRangeChange()},t.prototype.ngOnDestroy=function(){},t.prototype.cohortDateRangeChange=function(t){this.cohortDateRangeChanged.emit(new c(t.start,t.end,this))},t.prototype.selectionChange=function(t){var n=this.formGroup.get("dateRange"),e={startDate:t.value.start,endDate:t.value.end};e.startDate&&e.endDate&&(n.setValue(e),this.cohortDateRangeChange(t.value))},t.prototype.trackByFn=function(t){return t},t.prototype.updateSelectOnRangeChange=function(){var t=this;this.formGroup.get("dateRange").valueChanges.pipe(Object(b.h)(this)).subscribe(function(n){if(t.cohorts){var e=Object(s.c)(n.startDate).getTime(),l=Object(s.c)(n.endDate).getTime();if(0===t.cohorts.filter(function(t){var n=Object(s.c)(t.range.start).getTime(),a=Object(s.c)(t.range.end).getTime();if(e===n&&l===a)return t}).length){var a=t.selectComponent.options.toArray();a[a.length-1].select()}}})},t}(),p=function(){return function(){}}(),D=e("t68o"),h=e("zbXB"),f=e("Ip0R"),m=e("OzfB"),F=e("eDkP"),y=e("Fzqc"),v=e("o3x0"),C=e("M2Lx"),j=e("jQLj"),R=e("Wf4p"),O=e("dWZg"),w=e("iLpn"),k=e("ZsLu"),L=e("MStg"),B=e("21Lb"),S=e("hUWP"),x=e("3pJQ"),G=e("V9q+"),I=e("ZYjt"),P=e("UodH"),T=e("4c35"),q=e("qAlS"),M=e("lLAP"),Y=e("qQLB"),_=e("SMsm"),K=e("SG5n"),A=e("KpYI"),H=e("QBuA"),V=e("/dO6"),E=e("Blfk"),N=e("de3e"),W=e("HL5S"),J=e("rK0N"),Q=e("mxRT"),Z=e("YSh2"),z=e("wp7h"),U=e("Bgn0"),$=e("T9oG"),X=e("Wf1G"),tt=l.rb({encapsulation:2,styles:[".ts-cohort-date-range{display:block}.ts-select.ts-cohort-date-range__select{display:inline-block;min-width:200px}.ts-date-range.ts-cohort-date-range__date-range{display:inline-block;margin-right:24px}"],data:{}});function nt(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,4,"ts-option",[["class","ts-option"],["role","option"]],[[2,"ts-selected",null],[2,"ts-option--multiple",null],[2,"ts-option--active",null],[2,"ts-option--disabled",null],[2,"ts-option--template",null],[1,"tabindex",0],[1,"aria-selected",0],[1,"aria-disabled",0],[1,"title",0],[8,"id",0]],[[null,"click"],[null,"keydown"]],function(t,n,e){var a=!0;return"click"===n&&(a=!1!==l.Fb(t,1).selectViaInteraction()&&a),"keydown"===n&&(a=!1!==l.Fb(t,1).handleKeydown(e)&&a),a},z.d,z.b)),l.sb(1,9617408,[[3,4]],2,J.d,[l.k,l.h,l.y,[2,J.b],[2,J.a]],{value:[0,"value"],option:[1,"option"]},null),l.Lb(603979776,5,{optionTemplate:0}),l.Lb(603979776,6,{displayElementRef:0}),(t()(),l.Nb(4,0,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit.range,n.context.$implicit)},function(t,n){t(n,0,0,l.Fb(n,1).selected,l.Fb(n,1).allowMultiple,l.Fb(n,1).active,l.Fb(n,1).isDisabled,l.Fb(n,1).optionTemplate,l.Fb(n,1).tabIndex,l.Fb(n,1).selected.toString(),!!l.Fb(n,1).isDisabled,l.Fb(n,1).title,l.Fb(n,1).id),t(n,4,0,n.context.$implicit.display)})}function et(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,4,"ts-option",[["class","ts-option"],["role","option"]],[[2,"ts-selected",null],[2,"ts-option--multiple",null],[2,"ts-option--active",null],[2,"ts-option--disabled",null],[2,"ts-option--template",null],[1,"tabindex",0],[1,"aria-selected",0],[1,"aria-disabled",0],[1,"title",0],[8,"id",0]],[[null,"click"],[null,"keydown"]],function(t,n,e){var a=!0;return"click"===n&&(a=!1!==l.Fb(t,1).selectViaInteraction()&&a),"keydown"===n&&(a=!1!==l.Fb(t,1).handleKeydown(e)&&a),a},z.d,z.b)),l.sb(1,9617408,[[3,4]],2,J.d,[l.k,l.h,l.y,[2,J.b],[2,J.a]],{value:[0,"value"],option:[1,"option"]},null),l.Lb(603979776,7,{optionTemplate:0}),l.Lb(603979776,8,{displayElementRef:0}),(t()(),l.Nb(4,0,[" "," "]))],function(t,n){var e=n.component;t(n,1,0,e.customDateCohort.range,e.customDateCohort)},function(t,n){var e=n.component;t(n,0,0,l.Fb(n,1).selected,l.Fb(n,1).allowMultiple,l.Fb(n,1).active,l.Fb(n,1).isDisabled,l.Fb(n,1).optionTemplate,l.Fb(n,1).tabIndex,l.Fb(n,1).selected.toString(),!!l.Fb(n,1).isDisabled,l.Fb(n,1).title,l.Fb(n,1).id),t(n,4,0,e.customDateCohort.display)})}function lt(t){return l.Pb(2,[l.Lb(402653184,1,{selectComponent:0}),(t()(),l.tb(1,0,null,null,1,"ts-date-range",[["class","ts-cohort-date-range__date-range ts-date-range"]],null,[[null,"dateRangeChange"]],function(t,n,e){var l=!0;return"dateRangeChange"===n&&(l=!1!==t.component.cohortDateRangeChange(e)&&l),l},U.b,U.a)),l.sb(2,245760,null,0,H.a,[l.h],{dateFormGroup:[0,"dateFormGroup"],isDisabled:[1,"isDisabled"]},{dateRangeChange:"dateRangeChange"}),(t()(),l.tb(3,0,null,null,11,"ts-select",[["class","ts-cohort-date-range__select ts-select"],["label","Select a date range"]],[[2,"ts-select--required",null],[2,"ts-select--disabled",null],[1,"aria-owns",0],[1,"aria-required",0],[1,"aria-multiselectable",0],[1,"tabindex",0]],[[null,"selectionChange"],[null,"keydown"]],function(t,n,e){var a=!0,o=t.component;return"keydown"===n&&(a=!1!==l.Fb(t,6).handleKeydown(e)&&a),"selectionChange"===n&&(a=!1!==o.selectionChange(e)&&a),a},$.c,$.a)),l.Kb(6144,null,J.b,null,[Q.a]),l.Kb(6144,null,Y.b,null,[Q.a]),l.sb(6,1818624,[[1,4]],3,Q.a,[q.e,l.h,l.y,X.a,l.k,[8,null]],{isDisabled:[0,"isDisabled"],label:[1,"label"]},{selectionChange:"selectionChange"}),l.Lb(603979776,2,{customTrigger:0}),l.Lb(603979776,3,{options:1}),l.Lb(603979776,4,{optionGroups:1}),l.Kb(256,null,N.a,"noop",[]),(t()(),l.ib(16777216,null,1,1,null,nt)),l.sb(12,278528,null,0,f.l,[l.P,l.L,l.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),l.ib(16777216,null,1,1,null,et)),l.sb(14,16384,null,0,f.m,[l.P,l.L],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,e.dateRangeFormGroup,!e.allowCustomDates||e.isDisabled),t(n,6,0,e.isDisabled,"Select a date range"),t(n,12,0,e.cohorts,e.trackByFn),t(n,14,0,e.allowCustomDates)},function(t,n){t(n,3,0,l.Fb(n,6).isRequired,l.Fb(n,6).isDisabled,l.Fb(n,6).panelOpen?l.Fb(n,6).optionIds:null,l.Fb(n,6).isRequired.toString(),l.Fb(n,6).allowMultiple,l.Fb(n,6).tabIndex)})}var at=e("/Tr7"),ot=e("jIYg");function it(t){Object(ot.a)(1,arguments);var n=Object(at.a)(t);return n.setHours(0,0,0,0),n}var rt=e("/h9T");function ut(t,n){return Object(ot.a)(2,arguments),function(t,n){Object(ot.a)(2,arguments);var e=Object(at.a)(t),l=Object(rt.a)(n);return e.setDate(e.getDate()+l),e}(t,-Object(rt.a)(n))}function bt(t,n){return Object(ot.a)(2,arguments),function(t,n){Object(ot.a)(2,arguments);var e=Object(at.a)(t),l=Object(rt.a)(n),a=e.getMonth()+l,o=new Date(0);o.setFullYear(e.getFullYear(),a,1),o.setHours(0,0,0,0);var i=function(t){Object(ot.a)(1,arguments);var n=Object(at.a)(t),e=n.getFullYear(),l=n.getMonth(),a=new Date(0);return a.setFullYear(e,l+1,0),a.setHours(0,0,0,0),a.getDate()}(o);return e.setMonth(a,Math.min(i,e.getDate())),e}(t,-Object(rt.a)(n))}function st(t){Object(ot.a)(1,arguments);var n=Object(at.a)(t);return n.setDate(1),n.setHours(0,0,0,0),n}function ct(t){Object(ot.a)(1,arguments);var n=Object(at.a)(t);return n.setHours(23,59,59,999),n}var dt=new Date,gt=function(){function t(t){this.formBuilder=t,this.myForm=this.formBuilder.group({dateRange:this.formBuilder.group({startDate:[null,[u.E.required]],endDate:[null,[u.E.required]]})}),this.cohorts=[{display:"Last 90 days",range:{start:it(ut(new Date,90)),end:dt}},{display:"Last full month",range:{start:it(bt(st(dt),1)),end:ct(ut(st(dt),1))}}]}return t.prototype.printRange=function(t){this.lastRange=t},t}(),pt=l.rb({encapsulation:2,styles:[],data:{}});function Dt(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,1,"pre",[],null,null,null,null,null)),(t()(),l.Nb(1,null,["  Start: ","\n  End: ","\n"]))],null,function(t,n){var e=n.component;t(n,1,0,e.lastRange.start,e.lastRange.end)})}function ht(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,10,"ts-card",[["class","ts-card"]],null,null,null,i.b,i.a)),l.sb(1,49152,null,0,r.a,[],null,null),(t()(),l.tb(2,0,null,0,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var a=!0;return"submit"===n&&(a=!1!==l.Fb(t,4).onSubmit(e)&&a),"reset"===n&&(a=!1!==l.Fb(t,4).onReset()&&a),a},null,null)),l.sb(3,16384,null,0,u.J,[],null,null),l.sb(4,540672,null,0,u.m,[[8,null],[8,null]],{form:[0,"form"]},null),l.Kb(2048,null,u.d,null,[u.m]),l.sb(6,16384,null,0,u.u,[[4,u.d]],null,null),(t()(),l.tb(7,0,null,null,1,"ts-cohort-date-range",[["class","ts-cohort-date-range"]],[[2,"ts-cohort-date-range--disabled",null],[1,"disabled",0],[1,"aria-disabled",0],[8,"id",0]],[[null,"cohortDateRangeChanged"]],function(t,n,e){var l=!0;return"cohortDateRangeChanged"===n&&(l=!1!==t.component.printRange(e)&&l),l},lt,tt)),l.sb(8,245760,null,0,g,[u.h],{allowCustomDates:[0,"allowCustomDates"],cohorts:[1,"cohorts"],isDisabled:[2,"isDisabled"]},{cohortDateRangeChanged:"cohortDateRangeChanged"}),(t()(),l.ib(16777216,null,0,1,null,Dt)),l.sb(10,16384,null,0,f.m,[l.P,l.L],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,4,0,e.myForm),t(n,8,0,!0,e.cohorts,!1),t(n,10,0,e.lastRange)},function(t,n){t(n,2,0,l.Fb(n,6).ngClassUntouched,l.Fb(n,6).ngClassTouched,l.Fb(n,6).ngClassPristine,l.Fb(n,6).ngClassDirty,l.Fb(n,6).ngClassValid,l.Fb(n,6).ngClassInvalid,l.Fb(n,6).ngClassPending),t(n,7,0,l.Fb(n,8).isDisabled,l.Fb(n,8).isDisabled,l.Fb(n,8).isDisabled,l.Fb(n,8).id)})}function ft(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,1,"demo-cohort-date-range",[],null,null,null,ht,pt)),l.sb(1,49152,null,0,gt,[u.h],null,null)],null,null)}var mt=l.pb("demo-cohort-date-range",gt,ft,{},{},[]),Ft=e("ZYCi"),yt=function(){return function(){}}(),vt=e("l5YW");e.d(n,"CohortDateRangeModuleNgFactory",function(){return Ct});var Ct=l.qb(a,[],function(t){return l.Cb([l.Db(512,l.j,l.bb,[[8,[o.a,mt,D.a,h.b,h.a]],[3,l.j],l.w]),l.Db(4608,f.o,f.n,[l.t,[2,f.F]]),l.Db(4608,u.G,u.G,[]),l.Db(4608,u.h,u.h,[]),l.Db(5120,l.b,function(t,n){return[m.j(t,n)]},[f.d,l.A]),l.Db(4608,F.c,F.c,[F.i,F.e,l.j,F.h,F.f,l.q,l.y,f.d,y.b,[2,f.i]]),l.Db(5120,F.j,F.k,[F.c]),l.Db(5120,v.b,v.c,[F.c]),l.Db(135680,v.d,v.d,[F.c,l.q,[2,f.i],[2,v.a],v.b,[3,v.d],F.e]),l.Db(4608,C.c,C.c,[]),l.Db(4608,j.i,j.i,[]),l.Db(5120,j.a,j.b,[F.c]),l.Db(4608,R.c,R.o,[[2,R.h],O.a]),l.Db(4608,w.a,w.a,[]),l.Db(4608,w.c,w.c,[]),l.Db(4608,w.d,w.d,[]),l.Db(4608,w.e,w.e,[]),l.Db(4608,w.f,w.f,[]),l.Db(4608,w.g,w.g,[]),l.Db(4608,k.c,k.c,[w.a]),l.Db(4608,L.b,L.b,[]),l.Db(4608,R.d,R.d,[]),l.Db(1073742336,f.c,f.c,[]),l.Db(1073742336,Ft.p,Ft.p,[[2,Ft.u],[2,Ft.l]]),l.Db(1073742336,yt,yt,[]),l.Db(1073742336,u.F,u.F,[]),l.Db(1073742336,u.o,u.o,[]),l.Db(1073742336,u.B,u.B,[]),l.Db(1073742336,y.a,y.a,[]),l.Db(1073742336,R.k,R.k,[[2,R.f],[2,I.f]]),l.Db(1073742336,O.b,O.b,[]),l.Db(1073742336,R.n,R.n,[]),l.Db(1073742336,_.c,_.c,[]),l.Db(1073742336,K.b,K.b,[]),l.Db(1073742336,r.b,r.b,[]),l.Db(1073742336,m.c,m.c,[]),l.Db(1073742336,B.i,B.i,[]),l.Db(1073742336,S.b,S.b,[]),l.Db(1073742336,x.a,x.a,[]),l.Db(1073742336,G.a,G.a,[[2,m.g],l.A]),l.Db(1073742336,P.c,P.c,[]),l.Db(1073742336,T.g,T.g,[]),l.Db(1073742336,q.c,q.c,[]),l.Db(1073742336,F.g,F.g,[]),l.Db(1073742336,v.g,v.g,[]),l.Db(1073742336,C.d,C.d,[]),l.Db(1073742336,M.a,M.a,[]),l.Db(1073742336,j.j,j.j,[]),l.Db(1073742336,R.p,R.p,[]),l.Db(1073742336,w.b,w.b,[]),l.Db(1073742336,k.b,k.b,[]),l.Db(1073742336,Y.c,Y.c,[]),l.Db(1073742336,A.d,A.d,[]),l.Db(1073742336,H.b,H.b,[]),l.Db(1073742336,V.b,V.b,[]),l.Db(1073742336,E.c,E.c,[]),l.Db(1073742336,N.f,N.f,[]),l.Db(1073742336,N.d,N.d,[]),l.Db(1073742336,W.b,W.b,[]),l.Db(1073742336,J.f,J.f,[]),l.Db(1073742336,Q.b,Q.b,[]),l.Db(1073742336,p,p,[]),l.Db(1073742336,vt.b,vt.b,[]),l.Db(1073742336,a,a,[]),l.Db(1024,Ft.j,function(){return[[{path:"",component:gt}]]},[]),l.Db(256,R.g,A.a,[]),l.Db(256,V.a,{separatorKeyCodes:[Z.f]},[])])})}}]);