(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"b/Av":function(t,e,n){"use strict";n.r(e);var l=n("CcnG"),a=function(){return function(){}}(),o=n("pMnS"),r=n("ehiB"),i=n("1xtn"),u=n("gIcY"),s=(n("mrSG"),n("6jrj")),b=n("VYBx"),c=function(){return function(t,e,n){this.start=t,this.end=e,this.source=n}}(),d=0,g=function(){function t(t){this.formBuilder=t,this.customDateCohort={display:"Custom dates",range:{start:null,end:null}},this.formGroup=this.formBuilder.group({dateRange:this.formBuilder.group({startDate:[null],endDate:[null]})}),this.uid="ts-cohort-date-range-"+d++,this.allowCustomDates=!0,this._id=this.uid,this.isDisabled=!1,this.cohortDateRangeChanged=new l.n}return Object.defineProperty(t.prototype,"dateRangeFormGroup",{get:function(){return this.formGroup.get("dateRange")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t||this.uid},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.updateSelectOnRangeChange()},t.prototype.ngOnDestroy=function(){},t.prototype.cohortDateRangeChange=function(t){this.cohortDateRangeChanged.emit(new c(t.start,t.end,this))},t.prototype.selectionChange=function(t){var e=this.formGroup.get("dateRange"),n={startDate:t.value.start,endDate:t.value.end};n.startDate&&n.endDate&&(e.setValue(n),this.cohortDateRangeChange(t.value))},t.prototype.trackByFn=function(t){return t},t.prototype.updateSelectOnRangeChange=function(){var t=this;this.formGroup.get("dateRange").valueChanges.pipe(Object(s.h)(this)).subscribe(function(e){if(t.cohorts){var n=Object(b.c)(e.startDate).getTime(),l=Object(b.c)(e.endDate).getTime();if(0===t.cohorts.filter(function(t){var e=Object(b.c)(t.range.start).getTime(),a=Object(b.c)(t.range.end).getTime();if(n===e&&l===a)return t}).length){var a=t.selectComponent.options.toArray();a[a.length-1].select()}}})},t}(),p=function(){return function(){}}(),h=n("t68o"),D=n("zbXB"),f=n("Ip0R"),m=n("OzfB"),F=n("eDkP"),y=n("Fzqc"),w=n("o3x0"),v=n("M2Lx"),C=n("jQLj"),R=n("Wf4p"),j=n("dWZg"),k=n("iLpn"),O=n("ZsLu"),T=n("MStg"),q=n("21Lb"),L=n("hUWP"),B=n("3pJQ"),S=n("V9q+"),x=n("ZYjt"),G=n("UodH"),P=n("4c35"),I=n("qAlS"),E=n("lLAP"),M=n("qQLB"),Y=n("SMsm"),_=n("SG5n"),K=n("KpYI"),A=n("QBuA"),H=n("/dO6"),V=n("Blfk"),N=n("de3e"),W=n("HL5S"),J=n("rK0N"),Q=n("mxRT"),Z=n("YSh2"),z=n("wp7h"),U=n("Bgn0"),$=n("T9oG"),X=n("Wf1G"),tt=l.rb({encapsulation:2,styles:[".ts-cohort-date-range{display:block}.ts-select.ts-cohort-date-range__select{display:inline-block;min-width:200px}.ts-date-range.ts-cohort-date-range__date-range{display:inline-block;margin-right:24px}"],data:{}});function et(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,4,"ts-option",[["class","ts-option"],["role","option"]],[[2,"ts-selected",null],[2,"ts-option--multiple",null],[2,"ts-option--active",null],[2,"ts-option--disabled",null],[2,"ts-option--template",null],[1,"tabindex",0],[1,"aria-selected",0],[1,"aria-disabled",0],[1,"title",0],[8,"id",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var a=!0;return"click"===e&&(a=!1!==l.Fb(t,1).selectViaInteraction()&&a),"keydown"===e&&(a=!1!==l.Fb(t,1).handleKeydown(n)&&a),a},z.d,z.b)),l.sb(1,9617408,[[3,4]],2,J.d,[l.k,l.h,l.y,[2,J.b],[2,J.a]],{value:[0,"value"],option:[1,"option"]},null),l.Lb(603979776,5,{optionTemplate:0}),l.Lb(603979776,6,{displayElementRef:0}),(t()(),l.Nb(4,0,[" "," "]))],function(t,e){t(e,1,0,e.context.$implicit.range,e.context.$implicit)},function(t,e){t(e,0,0,l.Fb(e,1).selected,l.Fb(e,1).allowMultiple,l.Fb(e,1).active,l.Fb(e,1).isDisabled,l.Fb(e,1).optionTemplate,l.Fb(e,1).tabIndex,l.Fb(e,1).selected.toString(),!!l.Fb(e,1).isDisabled,l.Fb(e,1).title,l.Fb(e,1).id),t(e,4,0,e.context.$implicit.display)})}function nt(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,4,"ts-option",[["class","ts-option"],["role","option"]],[[2,"ts-selected",null],[2,"ts-option--multiple",null],[2,"ts-option--active",null],[2,"ts-option--disabled",null],[2,"ts-option--template",null],[1,"tabindex",0],[1,"aria-selected",0],[1,"aria-disabled",0],[1,"title",0],[8,"id",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var a=!0;return"click"===e&&(a=!1!==l.Fb(t,1).selectViaInteraction()&&a),"keydown"===e&&(a=!1!==l.Fb(t,1).handleKeydown(n)&&a),a},z.d,z.b)),l.sb(1,9617408,[[3,4]],2,J.d,[l.k,l.h,l.y,[2,J.b],[2,J.a]],{value:[0,"value"],option:[1,"option"]},null),l.Lb(603979776,7,{optionTemplate:0}),l.Lb(603979776,8,{displayElementRef:0}),(t()(),l.Nb(4,0,[" "," "]))],function(t,e){var n=e.component;t(e,1,0,n.customDateCohort.range,n.customDateCohort)},function(t,e){var n=e.component;t(e,0,0,l.Fb(e,1).selected,l.Fb(e,1).allowMultiple,l.Fb(e,1).active,l.Fb(e,1).isDisabled,l.Fb(e,1).optionTemplate,l.Fb(e,1).tabIndex,l.Fb(e,1).selected.toString(),!!l.Fb(e,1).isDisabled,l.Fb(e,1).title,l.Fb(e,1).id),t(e,4,0,n.customDateCohort.display)})}function lt(t){return l.Pb(2,[l.Lb(402653184,1,{selectComponent:0}),(t()(),l.tb(1,0,null,null,1,"ts-date-range",[["class","ts-cohort-date-range__date-range ts-date-range"]],null,[[null,"dateRangeChange"]],function(t,e,n){var l=!0;return"dateRangeChange"===e&&(l=!1!==t.component.cohortDateRangeChange(n)&&l),l},U.b,U.a)),l.sb(2,245760,null,0,A.a,[l.h],{dateFormGroup:[0,"dateFormGroup"],isDisabled:[1,"isDisabled"]},{dateRangeChange:"dateRangeChange"}),(t()(),l.tb(3,0,null,null,11,"ts-select",[["class","ts-cohort-date-range__select ts-select"],["label","Select a date range"]],[[2,"ts-select--required",null],[2,"ts-select--disabled",null],[1,"aria-owns",0],[1,"aria-required",0],[1,"aria-multiselectable",0],[1,"tabindex",0]],[[null,"selectionChange"],[null,"keydown"]],function(t,e,n){var a=!0,o=t.component;return"keydown"===e&&(a=!1!==l.Fb(t,6).handleKeydown(n)&&a),"selectionChange"===e&&(a=!1!==o.selectionChange(n)&&a),a},$.c,$.a)),l.Kb(6144,null,J.b,null,[Q.a]),l.Kb(6144,null,M.b,null,[Q.a]),l.sb(6,1818624,[[1,4]],3,Q.a,[I.e,l.h,l.y,X.a,l.k,[8,null]],{isDisabled:[0,"isDisabled"],label:[1,"label"]},{selectionChange:"selectionChange"}),l.Lb(603979776,2,{customTrigger:0}),l.Lb(603979776,3,{options:1}),l.Lb(603979776,4,{optionGroups:1}),l.Kb(256,null,N.a,"noop",[]),(t()(),l.ib(16777216,null,1,1,null,et)),l.sb(12,278528,null,0,f.l,[l.P,l.L,l.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),l.ib(16777216,null,1,1,null,nt)),l.sb(14,16384,null,0,f.m,[l.P,l.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.dateRangeFormGroup,!n.allowCustomDates||n.isDisabled),t(e,6,0,n.isDisabled,"Select a date range"),t(e,12,0,n.cohorts,n.trackByFn),t(e,14,0,n.allowCustomDates)},function(t,e){t(e,3,0,l.Fb(e,6).isRequired,l.Fb(e,6).isDisabled,l.Fb(e,6).panelOpen?l.Fb(e,6).optionIds:null,l.Fb(e,6).isRequired.toString(),l.Fb(e,6).allowMultiple,l.Fb(e,6).tabIndex)})}var at=n("/Tr7");function ot(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=Object(at.a)(t);return e.setHours(0,0,0,0),e}var rt=n("/h9T");function it(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return function(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(at.a)(t),l=Object(rt.a)(e);return n.setDate(n.getDate()+l),n}(t,-Object(rt.a)(e))}function ut(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return function(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(at.a)(t),l=Object(rt.a)(e),a=n.getMonth()+l,o=new Date(0);o.setFullYear(n.getFullYear(),a,1),o.setHours(0,0,0,0);var r=function(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=Object(at.a)(t),n=e.getFullYear(),l=e.getMonth(),a=new Date(0);return a.setFullYear(n,l+1,0),a.setHours(0,0,0,0),a.getDate()}(o);return n.setMonth(a,Math.min(r,n.getDate())),n}(t,-Object(rt.a)(e))}function st(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=Object(at.a)(t);return e.setDate(1),e.setHours(0,0,0,0),e}function bt(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=Object(at.a)(t);return e.setHours(23,59,59,999),e}var ct=new Date,dt=function(){function t(t){this.formBuilder=t,this.myForm=this.formBuilder.group({dateRange:this.formBuilder.group({startDate:[null,[u.E.required]],endDate:[null,[u.E.required]]})}),this.cohorts=[{display:"Last 90 days",range:{start:ot(it(new Date,90)),end:ct}},{display:"Last full month",range:{start:ot(ut(st(ct),1)),end:bt(it(st(ct),1))}}]}return t.prototype.printRange=function(t){this.lastRange=t},t}(),gt=l.rb({encapsulation:2,styles:[],data:{}});function pt(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,1,"pre",[],null,null,null,null,null)),(t()(),l.Nb(1,null,["  Start: ","\n  End: ","\n"]))],null,function(t,e){var n=e.component;t(e,1,0,n.lastRange.start,n.lastRange.end)})}function ht(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,10,"ts-card",[["class","ts-card"]],null,null,null,r.b,r.a)),l.sb(1,49152,null,0,i.a,[],null,null),(t()(),l.tb(2,0,null,0,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var a=!0;return"submit"===e&&(a=!1!==l.Fb(t,4).onSubmit(n)&&a),"reset"===e&&(a=!1!==l.Fb(t,4).onReset()&&a),a},null,null)),l.sb(3,16384,null,0,u.J,[],null,null),l.sb(4,540672,null,0,u.m,[[8,null],[8,null]],{form:[0,"form"]},null),l.Kb(2048,null,u.d,null,[u.m]),l.sb(6,16384,null,0,u.u,[[4,u.d]],null,null),(t()(),l.tb(7,0,null,null,1,"ts-cohort-date-range",[["class","ts-cohort-date-range"]],[[2,"ts-cohort-date-range--disabled",null],[1,"disabled",0],[1,"aria-disabled",0],[8,"id",0]],[[null,"cohortDateRangeChanged"]],function(t,e,n){var l=!0;return"cohortDateRangeChanged"===e&&(l=!1!==t.component.printRange(n)&&l),l},lt,tt)),l.sb(8,245760,null,0,g,[u.h],{allowCustomDates:[0,"allowCustomDates"],cohorts:[1,"cohorts"],isDisabled:[2,"isDisabled"]},{cohortDateRangeChanged:"cohortDateRangeChanged"}),(t()(),l.ib(16777216,null,0,1,null,pt)),l.sb(10,16384,null,0,f.m,[l.P,l.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,4,0,n.myForm),t(e,8,0,!0,n.cohorts,!1),t(e,10,0,n.lastRange)},function(t,e){t(e,2,0,l.Fb(e,6).ngClassUntouched,l.Fb(e,6).ngClassTouched,l.Fb(e,6).ngClassPristine,l.Fb(e,6).ngClassDirty,l.Fb(e,6).ngClassValid,l.Fb(e,6).ngClassInvalid,l.Fb(e,6).ngClassPending),t(e,7,0,l.Fb(e,8).isDisabled,l.Fb(e,8).isDisabled,l.Fb(e,8).isDisabled,l.Fb(e,8).id)})}function Dt(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,1,"demo-cohort-date-range",[],null,null,null,ht,gt)),l.sb(1,49152,null,0,dt,[u.h],null,null)],null,null)}var ft=l.pb("demo-cohort-date-range",dt,Dt,{},{},[]),mt=n("ZYCi"),Ft=function(){return function(){}}(),yt=n("l5YW");n.d(e,"CohortDateRangeModuleNgFactory",function(){return wt});var wt=l.qb(a,[],function(t){return l.Cb([l.Db(512,l.j,l.bb,[[8,[o.a,ft,h.a,D.b,D.a]],[3,l.j],l.w]),l.Db(4608,f.o,f.n,[l.t,[2,f.F]]),l.Db(4608,u.G,u.G,[]),l.Db(4608,u.h,u.h,[]),l.Db(5120,l.b,function(t,e){return[m.j(t,e)]},[f.d,l.A]),l.Db(4608,F.c,F.c,[F.i,F.e,l.j,F.h,F.f,l.q,l.y,f.d,y.b,[2,f.i]]),l.Db(5120,F.j,F.k,[F.c]),l.Db(5120,w.b,w.c,[F.c]),l.Db(135680,w.d,w.d,[F.c,l.q,[2,f.i],[2,w.a],w.b,[3,w.d],F.e]),l.Db(4608,v.c,v.c,[]),l.Db(4608,C.i,C.i,[]),l.Db(5120,C.a,C.b,[F.c]),l.Db(4608,R.c,R.o,[[2,R.h],j.a]),l.Db(4608,k.a,k.a,[]),l.Db(4608,k.c,k.c,[]),l.Db(4608,k.d,k.d,[]),l.Db(4608,k.e,k.e,[]),l.Db(4608,k.f,k.f,[]),l.Db(4608,k.g,k.g,[]),l.Db(4608,O.c,O.c,[k.a]),l.Db(4608,T.b,T.b,[]),l.Db(4608,R.d,R.d,[]),l.Db(1073742336,f.c,f.c,[]),l.Db(1073742336,mt.p,mt.p,[[2,mt.u],[2,mt.l]]),l.Db(1073742336,Ft,Ft,[]),l.Db(1073742336,u.F,u.F,[]),l.Db(1073742336,u.o,u.o,[]),l.Db(1073742336,u.B,u.B,[]),l.Db(1073742336,y.a,y.a,[]),l.Db(1073742336,R.k,R.k,[[2,R.f],[2,x.f]]),l.Db(1073742336,j.b,j.b,[]),l.Db(1073742336,R.n,R.n,[]),l.Db(1073742336,Y.c,Y.c,[]),l.Db(1073742336,_.b,_.b,[]),l.Db(1073742336,i.b,i.b,[]),l.Db(1073742336,m.c,m.c,[]),l.Db(1073742336,q.i,q.i,[]),l.Db(1073742336,L.b,L.b,[]),l.Db(1073742336,B.a,B.a,[]),l.Db(1073742336,S.a,S.a,[[2,m.g],l.A]),l.Db(1073742336,G.c,G.c,[]),l.Db(1073742336,P.g,P.g,[]),l.Db(1073742336,I.c,I.c,[]),l.Db(1073742336,F.g,F.g,[]),l.Db(1073742336,w.g,w.g,[]),l.Db(1073742336,v.d,v.d,[]),l.Db(1073742336,E.a,E.a,[]),l.Db(1073742336,C.j,C.j,[]),l.Db(1073742336,R.p,R.p,[]),l.Db(1073742336,k.b,k.b,[]),l.Db(1073742336,O.b,O.b,[]),l.Db(1073742336,M.c,M.c,[]),l.Db(1073742336,K.d,K.d,[]),l.Db(1073742336,A.b,A.b,[]),l.Db(1073742336,H.b,H.b,[]),l.Db(1073742336,V.c,V.c,[]),l.Db(1073742336,N.f,N.f,[]),l.Db(1073742336,N.d,N.d,[]),l.Db(1073742336,W.b,W.b,[]),l.Db(1073742336,J.f,J.f,[]),l.Db(1073742336,Q.b,Q.b,[]),l.Db(1073742336,p,p,[]),l.Db(1073742336,yt.b,yt.b,[]),l.Db(1073742336,a,a,[]),l.Db(1024,mt.j,function(){return[[{path:"",component:dt}]]},[]),l.Db(256,R.g,K.a,[]),l.Db(256,H.a,{separatorKeyCodes:[Z.f]},[])])})}}]);