(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"MT+I":function(t,e,i){"use strict";i.d(e,"a",(function(){return R})),i.d(e,"b",(function(){return j})),i.d(e,"c",(function(){return y})),i("D57K");var s=i("kZht"),n=i("I/5V"),o=i("jL3B"),h=i("sBeF"),l=i("ZTXN"),a=i("i9xl"),r=i("g6G6"),c=i("C05f"),p=i("jIqt"),g=i("J+dc"),d=i("kuMc"),u=i("b1t3"),m=i("gxbW"),O=i("XqbP"),f=i("EKI7"),b=i("1s2V");i("+6xv");let v=0,y=class{constructor(){this.uid="ts-select-trigger-"+v++,this._id=this.uid}set id(t){this._id=t||this.uid}get id(){return this._id}};const C=(t,e)=>t===e;class w{constructor(t,e){this.source=t,this.value=e}}let M=0,R=class{constructor(t,e,i,n,o,h){this.viewportRuler=t,this.changeDetectorRef=e,this.ngZone=i,this.documentService=n,this.elementRef=o,this.ngControl=h,this.componentName="TsSelectComponent",this.flexGap=b.a.small[0],this.labelChanges=new l.a,this.offsetY=0,this.optionIds="",this.optionSelectionChanges=Object(a.a)(()=>Object(r.a)(...this.options.map(t=>t.selectionChange))),this.panelDoneAnimatingStream=new l.a,this.panelOpen=!1,this.positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this.scrollTop=0,this.searchQuery="",this.selfReference=this,this.stateChanges=new l.a,this.transformOrigin="top",this.triggerFontSize=0,this.uid="ts-select-"+M++,this.querySubject=new c.a(""),this.viewportMarginSpacing=100,this.allowMultiple=!1,this._compareWith=C,this._delimiter=",",this.hideRequiredMarker=!1,this._id=this.uid,this.isDisabled=!1,this.isFilterable=!1,this._isRequired=!1,this.noValidationOrHint=!1,this.showProgress=!1,this.showRefineSearchMessage=!1,this.showRefresh=!1,this._tabIndex=0,this.theme="primary",this.validateOnChange=!1,this.closed=new s.o,this.duplicateSelection=new s.o,this.opened=new s.o,this.optionDeselected=new s.o,this.optionSelected=new s.o,this.optionsRefreshRequested=new s.o,this.queryChange=new s.o,this.selectionChange=new s.o,this.valueChange=new s.o,this.onChange=()=>{},this.onTouched=()=>{},this.document=this.documentService.document,this.ngControl&&(this.ngControl.valueAccessor=this)}get allOptionsSelected(){return Object(n.h)(this.options)}get empty(){return this.selectionModel&&this.selectionModel.isEmpty()}get focused(){return this.document.activeElement===(this.inputElement&&this.inputElement.nativeElement)||this.panelOpen}get itemCount(){return this.options.length+this.optionGroups.length}get itemHeight(){const t=this.options.toArray(),e=t[1]||t[0];return e&&e.elementRef.nativeElement.offsetHeight}get someOptionsSelected(){return Object(n.k)(this.options)}get shouldLabelFloat(){return this.focused||!this.empty||this.searchQuery.length>0}get selectTriggerValue(){return this.allowMultiple?this.selectionModel.selected.map(t=>t.viewValue).join(this.delimiter+" "):this.selectionModel.selected[0].viewValue}get selected(){return this.allowMultiple?this.selectionModel.selected:this.selectionModel.selected[0]}set compareWith(t){"function"!=typeof t&&Object(s.Y)()&&(console.warn('TsSelectComponent: "compareWith" must be a function. Falling back to the default.'),this._compareWith=C),this._compareWith=t,this.selectionModel&&this.initializeSelection()}get compareWith(){return this._compareWith}set delimiter(t){this._delimiter=Object(O.i)(t)?t:","}get delimiter(){return this._delimiter}set hint(t){this._hint=t}get hint(){return this._hint}set id(t){this._id=t||this.uid}get id(){return this._id}set isRequired(t){this._isRequired=t}get isRequired(){const t=this.ngControl&&this.ngControl.control,e=!!t&&Object(f.e)(t);return this._isRequired||e}set label(t){this._label=t}get label(){return this._label}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get placeholder(){return this._placeholder}set tabIndex(t){this._tabIndex=Object(u.d)(t)}get tabIndex(){return this._tabIndex}set value(t){t!==this._value&&(this._value=t)}get value(){return this._value}ngOnInit(){this.selectionModel=new h.b(this.allowMultiple),this.ngControl&&this.ngControl.form&&this.ngControl.valueChanges&&this.ngControl.valueChanges.pipe(Object(f.j)(this)).subscribe(t=>{t&&this.setSelectionByValue(t)})}ngAfterContentInit(){this.initKeyManager(),this.selectionModel.changed.pipe(Object(f.j)(this)).subscribe(t=>{t.added.forEach(t=>{t.select(),this.optionSelected.emit(new w(this,t.value))}),t.removed.forEach(t=>{t.deselect(),this.optionDeselected.emit(new w(this,t.value))})}),this.options.changes.pipe(Object(p.a)(null),Object(f.j)(this)).subscribe(()=>{this.resetOptions(),this.initializeSelection()})}ngOnChanges(t){Object(f.f)(t,"label")&&!t.label.firstChange&&(this.changeDetectorRef.detectChanges(),this.labelChanges.next())}ngOnDestroy(){this.stateChanges.complete()}toggle(){this.isDisabled||(this.panelOpen?this.close():this.open())}open(){!this.isDisabled&&this.options&&this.options.length&&!this.panelOpen&&(this.triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this.triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement)["font-size"],10),this.panelOpen=!0,this.keyManager.withHorizontalOrientation(null),this.highlightCorrectOption(),this.changeDetectorRef.markForCheck(),this.ngZone.onStable.asObservable().pipe(Object(g.a)(1)).subscribe(()=>{this.triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this.triggerFontSize+"px"),this.options.first.elementRef.nativeElement.getBoundingClientRect(),this.calculateOverlayPosition()}),this.opened.emit())}close(){this.panelOpen&&(this.panelOpen=!1,this.keyManager.withHorizontalOrientation("ltr"),this.changeDetectorRef.markForCheck(),this.onTouched(),this.updateValueAndValidity(),this.closed.emit())}onAttached(){this.overlayDir.positionChange.pipe(Object(g.a)(1)).subscribe(()=>{this.changeDetectorRef.detectChanges(),this.setPanelScrollTop(this.scrollTop)})}handleKeydown(t){this.isDisabled||(this.panelOpen?this.handleOpenKeydown(t):this.handleClosedKeydown(t))}handleClosedKeydown(t){const e=t.code,i=[m.a.DOWN_ARROW.code,m.a.UP_ARROW.code,m.a.LEFT_ARROW.code,m.a.RIGHT_ARROW.code].indexOf(e)>=0;e===m.a.ENTER.code||e===m.a.SPACE.code||(this.allowMultiple||t.altKey)&&i?(t.preventDefault(),this.open()):this.allowMultiple||this.keyManager.onKeydown(t)}handleOpenKeydown(t){const e=t.code,i=e===m.a.DOWN_ARROW.code||e===m.a.UP_ARROW.code,s=this.keyManager,n=this.isFilterable&&"input"===t.target.tagName.toLowerCase();if(e===m.a.HOME.code||e===m.a.END.code)t.preventDefault(),e===m.a.HOME.code?s.setFirstItemActive():s.setLastItemActive();else if(i&&t.altKey)t.preventDefault(),this.close();else if((e===m.a.ENTER.code||e===m.a.SPACE.code&&!n)&&s.activeItem)t.preventDefault(),s.activeItem.selectViaInteraction();else if(this.allowMultiple&&e===m.a.A.code&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.isDisabled&&!t.selected);this.options.forEach(t=>{t.isDisabled||(e?t.select():t.deselect())})}else{const n=this.allowMultiple&&i&&t.shiftKey;i&&t.shiftKey?e===m.a.DOWN_ARROW.code?s.setNextItemActive():s.setPreviousItemActive():s.onKeydown(t),n&&s.activeItem&&s.activeItem.selectViaInteraction()}}resetOptions(){this.optionSelectionChanges.pipe(Object(d.a)(this.options.changes),Object(f.j)(this)).subscribe(t=>{this.onSelect(t.source,t.isUserInput),t.isUserInput&&!this.allowMultiple&&this.panelOpen&&(this.close(),this.focus())}),Object(r.a)(...this.options.map(t=>t.stateChanges)).pipe(Object(f.j)(this)).subscribe(()=>{this.changeDetectorRef.markForCheck(),this.stateChanges.next()}),this.setOptionIds()}onSelect(t,e){const i=this.selectionModel.isSelected(t);null!=t.value||this.allowMultiple?(t.selected?this.selectionModel.select(t):this.selectionModel.deselect(t),e&&this.keyManager.setActiveItem(t),this.allowMultiple&&(this.sortValues(),e&&this.focus())):(t.deselect(),this.selectionModel.clear(),this.propagateChanges(t.value)),i!==this.selectionModel.isSelected(t)&&this.propagateChanges(),this.stateChanges.next()}setOptionIds(){this.optionIds=this.options.map(t=>t.id).join(" ")}initKeyManager(){this.keyManager=new o.b(this.options).withTypeAhead().withVerticalOrientation().withHorizontalOrientation("ltr"),this.keyManager.tabOut.pipe(Object(f.j)(this)).subscribe(()=>{this.focus(),this.close()}),this.keyManager.change.pipe(Object(f.j)(this)).subscribe(()=>{this.panelOpen&&this.panel?this.scrollActiveOptionIntoView():this.panelOpen||this.allowMultiple||!this.keyManager.activeItem||this.keyManager.activeItem.selectViaInteraction()})}focus(){this.elementRef.nativeElement.focus()}sortValues(){if(this.allowMultiple){const t=this.options.toArray();this.selectionModel.sort((e,i)=>this.sortComparator?this.sortComparator(e,i,t):t.indexOf(e)-t.indexOf(i)),this.stateChanges.next()}}propagateChanges(t){let e;e=this.allowMultiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this.value=e,this.valueChange.emit(e),this.onChange(e),this.selectionChange.emit(new w(this,e)),this.changeDetectorRef.markForCheck()}updateValueAndValidity(){this.ngControl&&this.ngControl.control&&this.ngControl.control.updateValueAndValidity()}writeValue(t){}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t,this.changeDetectorRef.markForCheck(),this.stateChanges.next()}initializeSelection(){Promise.resolve().then(()=>{this.setSelectionByValue(this.ngControl?this.ngControl.value:this.value)})}setSelectionByValue(t){if(this.allowMultiple&&t)t=Object(u.a)(t),this.selectionModel.clear(),t.forEach(t=>this.selectOptionByValue(t)),this.sortValues();else{this.selectionModel.clear();const e=this.selectOptionByValue(t);e&&this.keyManager.setActiveItem(e)}this.changeDetectorRef.markForCheck()}selectOptionByValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this.compareWith(e.value,t)}catch(i){return Object(s.Y)()&&console.warn(i),!1}});return e&&this.selectionModel.select(e),e}scrollActiveOptionIntoView(){const t=this.keyManager.activeItemIndex||0,e=Object(n.i)(t,this.options,this.optionGroups),i=Object(n.j)(t+e,this.itemHeight,this.getPanelScrollTop(),256);this.setPanelScrollTop(i)}calculateOverlayPosition(){const t=this.itemHeight,e=this.itemCount,i=Math.min(e*t,256),s=e*t-i;let o=this.empty?0:this.getOptionIndex(this.selectionModel.selected[0]);o+=Object(n.i)(o,this.options,this.optionGroups);const h=i/2;this.scrollTop=this.calculateOverlayScroll(o,h,s),this.offsetY=this.calculateOverlayOffsetY(o,h,s),this.checkOverlayWithinViewport(s)}calculateOverlayScroll(t,e,i){const s=this.itemHeight;return Math.min(Math.max(0,s*t-e+s/2),i)}calculateOverlayOffsetY(t,e,i){const s=this.itemHeight,n=(s-(this.triggerRect?this.triggerRect.height:0))/2,o=Math.floor(256/s);let h;return h=0===this.scrollTop?t*s:this.scrollTop===i?(t-(this.itemCount-o))*s+(s-(this.itemCount*s-256)%s):e-s/2,Math.round(-1*h-n)}checkOverlayWithinViewport(t){const e=this.itemHeight,i=this.viewportRuler.getViewportSize(),s=this.triggerRect?this.triggerRect.top-8:0,n=i.height-(this.triggerRect?this.triggerRect.bottom:0)-8,o=Math.abs(this.offsetY),h=Math.min(this.itemCount*e,256)-o-(this.triggerRect?this.triggerRect.height:0);h>n?this.adjustPanelUp(h,n):o>s?this.adjustPanelDown(o,s,t):this.transformOrigin=this.getOriginBasedOnOption()}adjustPanelUp(t,e){const i=Math.round(t-e);this.scrollTop-=i,this.offsetY=this.offsetY-i<0?0:this.offsetY-i,this.transformOrigin=this.getOriginBasedOnOption(),this.scrollTop<=0&&(this.scrollTop=0,this.offsetY=0,this.transformOrigin="50% bottom 0px")}adjustPanelDown(t,e,i){const s=Math.round(t-e);if(this.scrollTop+=s,this.offsetY=this.offsetY+s<0?0:this.offsetY+s,this.transformOrigin=this.getOriginBasedOnOption(),this.scrollTop>=i)return this.scrollTop=i,this.offsetY=0,void(this.transformOrigin="50% top 0px")}getOriginBasedOnOption(){const t=this.itemHeight,e=(t-(this.triggerRect?this.triggerRect.height:0))/2;return`50% ${Math.abs(this.offsetY)-e+t/2}px 0px`}getOptionIndex(t){return this.options.reduce((e,i,s)=>{const n=t===i?s:void 0;return Object(O.j)(e)?n:e},void 0)}highlightCorrectOption(){this.keyManager&&(this.empty?this.keyManager.setFirstItemActive():this.keyManager.setActiveItem(this.selectionModel.selected[0]))}toggleAllOptions(){Object(n.l)(this.options)}onContainerClick(){this.focus(),this.isDisabled||this.open()}getPanelScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}setPanelScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}},j=class{}},h1zE:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o})),i("Hq54");var s=i("kZht");i("pTnX"),i("5XID"),i("ZTXN"),i("g6G6"),i("J+dc"),i("kuMc"),i("jIqt"),i("jL3B"),i("sBeF");const n=new s.r("mat-chips-default-options");class o{}}}]);