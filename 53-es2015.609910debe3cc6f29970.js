(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"Q92/":function(e,t,i){"use strict";i.r(t),i.d(t,"FileUploadModule",(function(){return de}));var r=i("2kYt"),a=i("40Bj"),s=i("nIj0"),n=i("EOaC"),o=i("EM62"),l=i("mFH5"),c=i("5XID"),d=i("5lCh"),m=i("bwdy"),p=i("KTx3"),u=i("xVbo");const h=["primaryValueBar"];class f{constructor(e){this._elementRef=e}}const g=Object(l.w)(f,"primary"),b=new o.r("mat-progress-bar-location",{providedIn:"root",factory:function(){const e=Object(o.W)(r.d),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}});let v=0,y=(()=>{class e extends g{constructor(e,t,i,r){super(e),this._elementRef=e,this._ngZone=t,this._animationMode=i,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new o.o,this._animationEndSubscription=m.a.EMPTY,this.mode="determinate",this.progressbarId=`mat-progress-bar-${v++}`;const a=r?r.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${a}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===i}get value(){return this._value}set value(e){this._value=w(Object(c.e)(e)||0)}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=w(e||0)}_primaryTransform(){return{transform:`scaleX(${this.value/100})`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scaleX(${this.bufferValue/100})`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=Object(p.a)(e,"transitionend").pipe(Object(u.a)(t=>t.target===e)).subscribe(()=>{"determinate"!==this.mode&&"buffer"!==this.mode||this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(o.l),o.Rb(o.A),o.Rb(d.a,8),o.Rb(b,8))},e.\u0275cmp=o.Lb({type:e,selectors:[["mat-progress-bar"]],viewQuery:function(e,t){var i;1&e&&o.Rc(h,!0),2&e&&o.yc(i=o.gc())&&(t._primaryValueBar=i.first)},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,t){2&e&&(o.Eb("aria-valuenow","indeterminate"===t.mode||"query"===t.mode?null:t.value)("mode",t.mode),o.Ib("_mat-animation-noopable",t._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[o.Ab],decls:9,vars:4,consts:[["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,t){1&e&&(o.ic(),o.Xb(0,"svg",0),o.Xb(1,"defs"),o.Xb(2,"pattern",1),o.Sb(3,"circle",2),o.Wb(),o.Wb(),o.Sb(4,"rect",3),o.Wb(),o.hc(),o.Sb(5,"div",4),o.Sb(6,"div",5,6),o.Sb(8,"div",7)),2&e&&(o.Db(2),o.qc("id",t.progressbarId),o.Db(2),o.Eb("fill",t._rectangleFillValue),o.Db(1),o.qc("ngStyle",t._bufferTransform()),o.Db(1),o.qc("ngStyle",t._primaryTransform()))},directives:[r.n],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),e})();function w(e,t=0,i=100){return Math.max(t,Math.min(i,e))}let x=(()=>{class e{}return e.\u0275mod=o.Pb({type:e}),e.\u0275inj=o.Ob({factory:function(t){return new(t||e)},imports:[[r.c,l.j],l.j]}),e})();var _=i("AW5y"),F=i("2u5E"),C=i("ZBpG"),D=i("EsJc"),k=i("LPiU"),I=i("KJBv"),j=i("JxaZ"),S=i("7sjG"),M=i("h9lW"),O=i("RmZO"),X=i("HRj5"),R=i("0Bg5"),q=i("UkLp"),T=i("C05f"),E=i("qFEQ");const L=["preview"];function P(e,t){if(1&e&&(o.Xb(0,"div",18),o.Xb(1,"ts-icon",19),o.Mc(2," cloud_upload "),o.Wb(),o.Mc(3),o.Wb()),2&e){const e=o.jc();o.Db(1),o.qc("inline",!0),o.Db(2),o.Pc("Drop file",e.multiple?"s":""," here ",e.hideButton?"or click to select":""," ")}}function W(e,t){if(1&e&&o.Sb(0,"img",20,21),2&e){const e=o.jc();o.Eb("src",null==e.file?null:e.file.fileContents,o.Fc)}}function A(e,t){1&e&&o.Sb(0,"ts-icon",22),2&e&&o.qc("svgIcon","csv")}function V(e,t){if(1&e&&o.Sb(0,"mat-progress-bar",23),2&e){const e=o.jc();o.qc("value",e.progress)("color",e.theme)}}function $(e,t){if(1&e&&o.Sb(0,"ts-validation-messages",24),2&e){const e=o.jc();o.qc("control",e.formControl)}}function K(e,t){if(1&e&&(o.Xb(0,"div",25),o.Mc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Oc(" ",e," ")}}let B=(()=>{let e=class{constructor(e){this.windowService=e,this.hasProtection=!1}add(){this.hasProtection||(this.windowService.nativeWindow.addEventListener("dragover",this.prevent,!1),this.windowService.nativeWindow.addEventListener("drop",this.prevent,!1),this.hasProtection=!0)}remove(){this.hasProtection&&(this.windowService.nativeWindow.removeEventListener("dragover",this.prevent,!1),this.windowService.nativeWindow.removeEventListener("drop",this.prevent,!1),this.hasProtection=!1)}prevent(e){e.preventDefault()}};return e.\u0275fac=function(t){return new(t||e)(o.bc(_.b))},e.\u0275prov=o.Nb({token:e,factory:e.\u0275fac}),e})();const z=["text/csv","image/jpeg","image/jpg","image/png","image/gif","video/mp4","video/x-flv","video/webm","video/quicktime","video/mpeg"];class N{constructor(e,t){this.width=e,this.height=t}}const U=["text/csv","video/mp4"];class G{constructor(e,t,i,r,a){this.file=e,this.imageDimensionConstraints=t,this.typeConstraint=i,this.maxSize=r,this.ratioConstraint=a,this.validations={fileType:!1,fileSize:!1,imageDimensions:!1,imageRatio:!1},this.fileReader=new FileReader,this.fileLoaded$=new T.a(this.fileReference),this.mimeType=this.file.type,this.size=Math.ceil(this.file.size/1024),this.name=this.file.name,this.determineImageDimensions(()=>{this.typeConstraint&&this.typeConstraint.indexOf(this.file.type)>=0&&(this.validations.fileType=!0),this.size<=this.maxSize&&(this.validations.fileSize=!0),this.fileLoaded$.next(this)})}get width(){return this.dimensions?this.dimensions.width:0}get height(){return this.dimensions?this.dimensions.height:0}get isCSV(){return this.mimeType.includes("csv")}get isImage(){return this.mimeType.includes("image")}get isVideo(){return this.mimeType.includes("video")}get fileContents(){return Object(O.i)(this.fileReader.result)?this.fileReader.result:(Object(o.X)()&&console.warn(`${this.fileReader.result} is not returning a string.`),"")}get isValid(){return this.validations.fileType&&this.validations.fileSize&&this.validations.imageDimensions&&this.validations.imageRatio}determineImageDimensions(e){let t;var i;i=this.mimeType,z.slice().filter(e=>!U.includes(e)).indexOf(i)>=0?(t=new Image,this.fileReader.onload=e=>{t&&(Object(O.i)(this.fileReader.result)?t.src=this.fileReader.result:Object(o.X)()&&console.warn(`${t} is not returning a string.`))},t.onload=i=>{t&&(this.dimensions=new N(t.naturalWidth,t.naturalHeight)),this.validations.imageDimensions=this.validateImageDimensions(this.imageDimensionConstraints),this.validations.imageRatio=this.validateImageRatio(this.ratioConstraint),e&&e()}):(e&&e(),this.validations.imageDimensions=!0,this.validations.imageRatio=!0),this.fileReader.readAsDataURL(this.file)}validateImageDimensions(e){if(!e||e.length<1)return!0;const t=this.width,i=this.height;for(const r of e){const e=t>=r.width.min&&t<=r.width.max;if(i>=r.height.min&&i<=r.height.max&&e)return!0}return!1}validateImageRatio(e){if(!e)return!0;const t=e.map(e=>e.widthRatio/e.heightRatio);for(const i of t)if(this.isSame(i,this.width/this.height))return!0;return!1}isSame(e,t){return Math.abs((e-t)/e)<.001}}var Z;let H=0,J=(()=>{let e=Z=class extends q.b{constructor(e,t,i,r){super(),this.documentService=e,this.elementRef=t,this.changeDetectorRef=i,this.dropProtectionService=r,this.uid=`ts-file-upload-${H++}`,this.dragInProgress=!1,this.layoutGap=R.a.small[0],this._acceptedTypes=z.slice(),this._formControl=new s.g,this.hideButton=!1,this._id=this.uid,this.isDisabled=!1,this._maximumKilobytesPerFile=10240,this.multiple=!1,this._progress=0,this.theme="primary",this.cleared=new o.o,this.enter=new o.o,this.exit=new o.o,this.selected=new o.o,this.selectedMultiple=new o.o,this.updateInnerValue=e=>{this.value=e,this.changeDetectorRef.destroyed||this.changeDetectorRef.detectChanges()},this.virtualFileInput=this.createFileInput()}get buttonMessage(){return this.dragInProgress?`Drop File${this.multiple?"s":""}`:`Select File${this.multiple?"s":""}`}get hints(){const e=[],t=this.acceptedTypes.slice().map(e=>e.split("/")[1]).join(", ");return(this.acceptedTypes.indexOf("image/png")>=0||this.acceptedTypes.indexOf("image/jpeg")>=0||this.acceptedTypes.indexOf("image/jpg")>=0)&&this.supportedImageDimensions.length>0&&e.push(`Must be a valid dimension: ${this.supportedImageDimensions}`),e.push(`Must be ${t}`),e.push(`Must be under ${this.maximumKilobytesPerFile.toLocaleString()}kb`),this.ratioConstraints&&e.push(`Must have valid image ratio of ${this.ratioConstraints.join(" or ")} `),e}get supportedImageDimensions(){let e="";if(this.dimensionConstraints){const t=this.dimensionConstraints.slice();for(const i of t)if(e.length>0&&(e+=", "),i.height.min===i.height.max&&i.width.min===i.width.max)e+=`${i.width.min.toLocaleString()}x${i.height.min.toLocaleString()}`;else{const t=i.height.min===i.height.max?i.height.min.toLocaleString():`${i.height.min.toLocaleString()}-${i.height.max.toLocaleString()}`;e+=`${i.width.min===i.width.max?i.width.min.toLocaleString():`${i.width.min.toLocaleString()}-${i.width.max.toLocaleString()}`}x${t}`}}return e}set accept(e){this._acceptedTypes=e?Object(S.a)(e):z.slice()}get acceptedTypes(){return this._acceptedTypes}set dimensionConstraints(e){this._sizeConstraints=e}get dimensionConstraints(){return this._sizeConstraints}set formControl(e){this._formControl=e||new s.g}get formControl(){return this._formControl}set id(e){this._id=e||this.uid}get id(){return this._id}set maximumKilobytesPerFile(e){this._maximumKilobytesPerFile=e||10240}get maximumKilobytesPerFile(){return this._maximumKilobytesPerFile}set progress(e){this._progress=Object(S.d)(e)}get progress(){return this._progress}set ratioConstraints(e){if(e)for(const t of e){const e=t.split(":");if(2!==e.length||!Object(O.h)(e[0])||!Object(O.h)(e[1]))throw new Error('TsFileUploadComponent: An array of image ratios should be formatted as ["1:2", "3:4"]')}this._ratioConstraints=this.parseRatioStringToObject(e)}get ratioConstraints(){return this.parseRatioToString(this._ratioConstraints)}set seedFile(e){this._seedFile=e,e&&new G(e,this.dimensionConstraints,this.acceptedTypes,this.maximumKilobytesPerFile,this._ratioConstraints).fileLoaded$.pipe(Object(u.a)(e=>void 0!==e),Object(X.j)(this)).subscribe(e=>{this.formControl.setValue(e.file),this.selected.emit(e),this.setUpNewFile(e)})}get seedFile(){return this._seedFile}handleDragover(e){this.isDisabled||(this.preventAndStopEventPropagation(e),this.enter.emit(!0),this.dragInProgress=!0)}handleDragleave(e){this.isDisabled||(this.preventAndStopEventPropagation(e),this.exit.emit(!0),this.dragInProgress=!1)}handleDrop(e){this.isDisabled||(this.preventAndStopEventPropagation(e),this.dragInProgress=!1,this.collectFilesFromEvent(e))}handleClick(){this.isDisabled||this.promptForFiles()}ngOnInit(){this.dropProtectionService.add(),this.formControl&&this.formControl.valueChanges.pipe(Object(X.j)(this)).subscribe(()=>{this.changeDetectorRef.destroyed||this.changeDetectorRef.detectChanges()})}ngAfterContentInit(){this.virtualFileInput.addEventListener("change",this.onVirtualInputElementChange.bind(this)),this.updateVirtualFileInputAttrs(this.virtualFileInput)}ngOnChanges(e){(Object(X.f)(e,"multiple")||Object(X.f)(e,"accept"))&&(this.updateVirtualFileInputAttrs(this.virtualFileInput),this.registerOnChangeFn(this.updateInnerValue))}ngOnDestroy(){this.virtualFileInput&&this.virtualFileInput.removeEventListener("change",this.onVirtualInputElementChange.bind(this)),this.dropProtectionService.remove()}handleKeydown(e){e.code===M.a.ENTER.code&&(this.promptForFiles(),this.elementRef.nativeElement.blur())}promptForFiles(){this.virtualFileInput.click()}removeFile(e){e&&this.preventAndStopEventPropagation(e),this.file=void 0,this.clearValidationMessages(),this.cleared.emit(!0)}createFileInput(){const e=this.documentService.document.createElement("input");return e.setAttribute("type","file"),e.style.display="none",e}collectFilesFromEvent(e){let t;if(Object(O.d)(e)&&(t=e.dataTransfer&&e.dataTransfer.files?e.dataTransfer.files:void 0),e.target&&Object(O.f)(e.target)&&(t=e.target.files?e.target.files:void 0),(!t||t.length<1)&&Object(o.X)())throw Error("TsFileUpload: Event contained no file.");const i=t?Array.from(t):[];if(i.length>1)return void this.selectedMultiple.emit(i);const r=i[0]?i[0]:void 0;r&&new G(r,this.dimensionConstraints,this.acceptedTypes,this.maximumKilobytesPerFile,this._ratioConstraints).fileLoaded$.pipe(Object(u.a)(e=>!!e),Object(X.j)(this)).subscribe(e=>{this.formControl.setValue(e.file),this.selected.emit(e),this.setUpNewFile(e)})}registerOnChangeFn(e){this.formControl&&this.formControl.registerOnChange(e)}setUpNewFile(e){e&&(this.file=e,this.setValidationMessages(e),this.changeDetectorRef.markForCheck())}onVirtualInputElementChange(e){this.isDisabled||(this.collectFilesFromEvent(e),this.virtualFileInput.value="")}preventAndStopEventPropagation(e){e.preventDefault(),e.stopPropagation()}updateVirtualFileInputAttrs(e){const t=e.hasAttribute("multiple");this.multiple&&!t&&this.virtualFileInput.setAttribute("multiple","true"),!this.multiple&&t&&this.virtualFileInput.removeAttribute("multiple"),this.acceptedTypes&&this.virtualFileInput.setAttribute("accept",this.acceptedTypes.toString())}setValidationMessages(e){if(!e)return;const t={},i={fileSize:{valid:!1,actual:e.size,max:this.maximumKilobytesPerFile},fileType:{valid:!1,actual:e.mimeType,accepted:this.acceptedTypes.join(", ")},imageDimensions:{valid:!1,actual:e.dimensions},imageRatio:{valid:!1,actual:e.width/e.height}},r=Object.keys(e.validations);for(let a=0;a<r.length;a+=1){const s=r[a];e.validations[s]||(t[s]=i[s])}0===Object.keys(t).length?this.formControl.setErrors(null):this.formControl.setErrors(t),this.formControl.markAsTouched(),this.changeDetectorRef.markForCheck()}clearValidationMessages(){this.formControl.setErrors(null),this.changeDetectorRef.markForCheck()}parseRatioStringToObject(e){if(!e)return;const t=[];return e.map(e=>t.push({widthRatio:Number(e.split(":")[0]),heightRatio:Number(e.split(":")[1])})),t}parseRatioToString(e){if(!e)return;const t=[];return e.map(e=>t.push(`${e.widthRatio.toString()}:${e.heightRatio.toString()}`)),t}trackByFn(e){return e}};return e.\u0275fac=function(t){return new(t||e)(o.Rb(_.a),o.Rb(o.l),o.Rb(o.h),o.Rb(B))},e.\u0275cmp=o.Lb({type:e,selectors:[["ts-file-upload"]],viewQuery:function(e,t){var i;1&e&&o.Rc(L,!0),2&e&&o.yc(i=o.gc())&&(t.preview=i.first)},hostAttrs:[1,"ts-file-upload"],hostBindings:function(e,t){1&e&&o.fc("keydown",(function(e){return t.handleKeydown(e)}))("dragover",(function(e){return t.handleDragover(e)}))("dragleave",(function(e){return t.handleDragleave(e)}))("drop",(function(e){return t.handleDrop(e)}))("click",(function(){return t.handleClick()}))},inputs:{hideButton:"hideButton",isDisabled:"isDisabled",multiple:"multiple",theme:"theme",accept:"accept",dimensionConstraints:"dimensionConstraints",formControl:"formControl",id:"id",maximumKilobytesPerFile:"maximumKilobytesPerFile",progress:"progress",ratioConstraints:"ratioConstraints",seedFile:"seedFile"},outputs:{cleared:"cleared",enter:"enter",exit:"exit",selected:"selected",selectedMultiple:"selectedMultiple"},exportAs:["tsFileUpload"],features:[o.Cb([Object(q.a)(Z)]),o.Ab,o.Bb],decls:21,vars:27,consts:[["tabindex","1","fxLayout","column",1,"c-file-upload","qa-file-upload",3,"id"],["fxLayout","row","fxLayoutAlign","start center",3,"fxLayoutGap"],["class","c-file-upload__empty qa-file-upload-empty","fxLayout","row","fxLayoutAlign","start center","fxFlex","grow",4,"ngIf"],["fxFlex","","fxLayout","column","fxLayoutAlign","center start",1,"c-file-upload__file"],["fxFill","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","noshrink",1,"c-file-upload__preview","qa-file-upload-preview",3,"hidden"],["alt","",4,"ngIf"],[3,"svgIcon",4,"ngIf"],["fxFlex","grow","fxLayout","row","fxLayoutAlign","start center",1,"c-file-upload__filename","qa-file-upload-name",3,"title"],[1,"c-file-upload__filename-inner"],["tooltipValue","Remove file"],["theme","warn","actionName","Reset",1,"c-file-upload__remove","qa-file-upload-remove",3,"click"],[1,"c-file-upload__prompt","qa-file-upload-prompt",3,"theme","isDisabled","clicked"],["class","c-file-upload__progress qa-file-upload-progress","mode","determinate",3,"value","color",4,"ngIf"],["fxLayout","column","fxLayout.gt-xs","row"],["fxFlex","noshrink","class","qa-file-upload-validation-messages",3,"control",4,"ngIf"],["fxFlex","grow",1,"c-file-upload__hints","qa-file-upload-hints"],["class","c-file-upload__hint",4,"ngFor","ngForOf","ngForTrackBy"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","grow",1,"c-file-upload__empty","qa-file-upload-empty"],[3,"inline"],["alt",""],["preview",""],[3,"svgIcon"],["mode","determinate",1,"c-file-upload__progress","qa-file-upload-progress",3,"value","color"],["fxFlex","noshrink",1,"qa-file-upload-validation-messages",3,"control"],[1,"c-file-upload__hint"]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Kc(2,P,4,3,"div",2),o.Xb(3,"div",3),o.Xb(4,"div",4),o.Xb(5,"div",5),o.Kc(6,W,2,1,"img",6),o.Kc(7,A,1,1,"ts-icon",7),o.Wb(),o.Xb(8,"div",8),o.Xb(9,"div",9),o.Mc(10),o.Wb(),o.Wb(),o.Xb(11,"ts-tooltip",10),o.Xb(12,"ts-icon-button",11),o.fc("click",(function(e){return t.removeFile(e)})),o.Mc(13,"clear"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(14,"ts-button",12),o.fc("clicked",(function(){return t.promptForFiles()})),o.Mc(15),o.Wb(),o.Wb(),o.Kc(16,V,1,2,"mat-progress-bar",13),o.Wb(),o.Xb(17,"div",14),o.Kc(18,$,1,1,"ts-validation-messages",15),o.Xb(19,"div",16),o.Kc(20,K,2,1,"div",17),o.Wb(),o.Wb()),2&e&&(o.Ib("c-file-upload--disabled",t.isDisabled)("c-file-upload--drag",t.dragInProgress)("c-file-upload--file",t.file)("c-file-upload--error",t.file&&!t.file.isValid),o.qc("id",t.id),o.Db(1),o.qc("fxLayoutGap",t.layoutGap),o.Db(1),o.qc("ngIf",!t.file),o.Db(1),o.Ib("c-file-upload__file--hidden",!t.file),o.Db(2),o.qc("hidden",!t.file),o.Db(1),o.qc("ngIf",null==t.file?null:t.file.isImage),o.Db(1),o.qc("ngIf",null==t.file?null:t.file.isCSV),o.Db(1),o.rc("title",null==t.file?null:t.file.name),o.Db(2),o.Oc(" ",null==t.file?null:t.file.name," "),o.Db(4),o.Ib("c-file-upload__prompt--hidden",t.hideButton),o.qc("theme",t.theme)("isDisabled",t.dragInProgress||t.isDisabled),o.Db(1),o.Oc(" ",t.buttonMessage," "),o.Db(1),o.qc("ngIf",t.file&&t.progress>0),o.Db(2),o.qc("ngIf",t.formControl&&t.formControl.errors),o.Db(2),o.qc("ngForOf",t.hints)("ngForTrackBy",t.trackByFn))},directives:[E.d,E.c,E.e,r.m,E.b,E.f,I.a,D.a,F.a,r.l,C.a,y,j.a],styles:[".ts-file-upload{display:block;position:relative}.ts-file-upload .c-file-upload:not(.c-file-upload--disabled){cursor:pointer}.ts-file-upload+.ts-file-upload{margin-top:24px}.c-file-upload{border:1px dashed #cecdd1;border-radius:3px;padding:12px;transition:background-color .2s ease-out,border-color .2s ease-out;will-change:background-color,border-color}.c-file-upload:focus:not(.c-file-upload--disabled),.c-file-upload:hover:not(.c-file-upload--disabled){border-color:#1777b6}.c-file-upload--drag{background-color:#d3eaf9;border-color:#1777b6}.c-file-upload--drag .c-file-upload__remove{opacity:0}.c-file-upload--file{border-color:#1777b6}.c-file-upload--error{border-color:#c8604d}.c-file-upload.c-file-upload--disabled .c-file-upload__empty{color:#cecdd1}.c-file-upload .c-file-upload__file{font-size:75%;font-weight:400;letter-spacing:.01em;line-height:1.5;font-family:Lucida Console,Monaco,DejaVu Sans Mono,monospace;color:#757575;overflow:auto;position:relative}.c-file-upload .c-file-upload__file--hidden{position:absolute;visibility:hidden}.c-file-upload .c-file-upload__empty{color:#757575}.c-file-upload .c-file-upload__empty .ts-icon{margin-right:4px}.c-file-upload .c-file-upload__preview{border:1px solid #cecdd1;border-radius:3px;height:2.375rem;margin-right:12px;max-width:4.75rem;overflow:hidden;padding:4px;position:relative}.c-file-upload .c-file-upload__preview img{display:block;max-height:100%;max-width:100%}.c-file-upload .c-file-upload__filename{overflow:hidden}.c-file-upload .c-file-upload__filename-inner{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.c-file-upload .c-file-upload__remove{transition:color .2s,opacity .1s;will-change:color,opacity}.c-file-upload .c-file-upload__progress{display:block;margin-top:12px}.c-file-upload .c-file-upload__progress .mat-progress-bar-buffer{background-color:#d3eaf9}.c-file-upload .c-file-upload__prompt{pointer-events:none}.c-file-upload .c-file-upload__prompt--hidden{position:absolute;visibility:hidden}.c-file-upload__hints{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;color:#999;font-size:75%;font-weight:400;letter-spacing:.01em;line-height:1.5;padding:.3em .4em .2em;text-align:right}"],encapsulation:2,changeDetection:0}),e})(),Y=(()=>{let e=class{};return e.\u0275mod=o.Pb({type:e}),e.\u0275inj=o.Ob({factory:function(t){return new(t||e)},providers:[k.b,_.a,B],imports:[[r.c,a.a,s.m,x,F.b,D.b,C.b,I.b,j.b]]}),e})();var Q=i("7WWT"),ee=i("6VlH"),te=i("MJ8w"),ie=i("fG6x"),re=i("sEIs");function ae(e,t){if(1&e&&(o.Xb(0,"ts-option",10),o.Mc(1),o.Wb()),2&e){const e=t.$implicit;o.qc("value",e),o.Db(1),o.Nc(e)}}function se(e,t){if(1&e){const e=o.Yb();o.Xb(0,"ts-file-upload",12),o.fc("selected",(function(t){return o.Dc(e),o.jc(2).selected(t)}))("cleared",(function(){o.Dc(e);const t=o.jc().$implicit;return o.jc().clearFile(t.id)})),o.Wb()}if(2&e){const e=o.jc().$implicit,t=o.jc();o.qc("seedFile",e.file)("dimensionConstraints",t.constraints)("accept",t.mimeTypes)}}function ne(e,t){if(1&e&&(o.Vb(0),o.Kc(1,se,1,3,"ts-file-upload",11),o.Ub()),2&e){const e=t.$implicit,i=o.jc();o.Db(1),o.qc("ngIf",i.fileExists(e.id))}}const oe=[{height:{min:50,max:100},width:{min:50,max:100}},{height:{min:72,max:72},width:{min:72,max:72}},{height:{min:400,max:500},width:{min:700,max:800}},{height:{min:300,max:600},width:{min:100,max:300}},{height:{min:600,max:600},width:{min:160,max:160}},{height:{min:2500,max:2500},width:{min:3e4,max:3e4}}],le=[{path:"",component:(()=>{class e{constructor(){this.mimeTypes=["image/png","image/jpg","image/jpeg"],this.files=[],this.constraints=oe.slice(),this.progress=0,this.multiple=!0,this.hideButton=!1,this.mimeTypeOptions=["image/png","image/jpg","image/jpeg","text/csv","video/mp4","video/x-flv","video/webm","video/quicktime","video/mpeg"],this.ratioConstraints=["1:2","1.9:1","5:1"],this.disabled=!1}selected(e){console.log("DEMO: selected: ",e),this.file=e,this.startProgress()}mimeTypeChange(e){e.value.length<1&&(this.mimeTypes=["image/png","image/jpg","image/jpeg"])}startProgress(){this.progress=0;const e=setInterval(()=>{this.progress<100?this.progress++:clearInterval(e)},20)}selectedMultiple(e){console.log("DEMO: selected multiple: ",e);let t=-1;this.files=e.map(e=>(t+=1,{id:t,file:e}))}clearFile(e){!this.files||this.files.length<1||(this.files=this.files.filter(t=>t.id!==e))}fileExists(e){return!(!this.files||this.files.length<1||!this.files.find(t=>t.id===e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Lb({type:e,selectors:[["demo-file-upload"]],decls:22,vars:16,consts:[["tsVerticalSpacing",""],["fxLayout","column","fxLayoutGap","24px"],[3,"ngModel","ngModelChange"],["fxLayout","row","fxLayoutGap","24px"],["label","Max Size (kb)","type","number",3,"ngModel","ngModelChange"],["fxFlex","noshrink"],["label","Allowed MIME types",3,"allowMultiple","ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"isDisabled","hideButton","maximumKilobytesPerFile","multiple","dimensionConstraints","ratioConstraints","accept","progress","selected","selectedMultiple","cleared"],[4,"ngFor","ngForOf"],[3,"value"],[3,"seedFile","dimensionConstraints","accept","selected","cleared",4,"ngIf"],[3,"seedFile","dimensionConstraints","accept","selected","cleared"]],template:function(e,t){1&e&&(o.Xb(0,"ts-card",0),o.Xb(1,"h3",0),o.Mc(2,"Demo Controls"),o.Wb(),o.Xb(3,"div",1),o.Xb(4,"div"),o.Xb(5,"ts-toggle",2),o.fc("ngModelChange",(function(e){return t.multiple=e})),o.Mc(6,"Allow multiple selections"),o.Wb(),o.Sb(7,"br"),o.Xb(8,"ts-toggle",2),o.fc("ngModelChange",(function(e){return t.hideButton=e})),o.Mc(9,"Hide button"),o.Wb(),o.Sb(10,"br"),o.Xb(11,"ts-toggle",2),o.fc("ngModelChange",(function(e){return t.disabled=e})),o.Mc(12,"Disabled"),o.Wb(),o.Wb(),o.Xb(13,"div",3),o.Xb(14,"div"),o.Xb(15,"ts-input",4),o.fc("ngModelChange",(function(e){return t.maxKb=e})),o.Wb(),o.Wb(),o.Xb(16,"div",5),o.Xb(17,"ts-select",6),o.fc("ngModelChange",(function(e){return t.mimeTypes=e}))("selectionChange",(function(e){return t.mimeTypeChange(e)})),o.Kc(18,ae,2,2,"ts-option",7),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(19,"ts-card",0),o.Xb(20,"ts-file-upload",8),o.fc("selected",(function(e){return t.selected(e)}))("selectedMultiple",(function(e){return t.selectedMultiple(e)}))("cleared",(function(){return t.file=null})),o.Wb(),o.Kc(21,ne,2,1,"ng-container",9),o.Wb()),2&e&&(o.Db(5),o.qc("ngModel",t.multiple),o.Db(3),o.qc("ngModel",t.hideButton),o.Db(3),o.qc("ngModel",t.disabled),o.Db(4),o.qc("ngModel",t.maxKb),o.Db(2),o.qc("allowMultiple",!0)("ngModel",t.mimeTypes),o.Db(1),o.qc("ngForOf",t.mimeTypeOptions),o.Db(2),o.qc("isDisabled",t.disabled)("hideButton",t.hideButton)("maximumKilobytesPerFile",t.maxKb)("multiple",t.multiple)("dimensionConstraints",t.constraints)("ratioConstraints",t.ratioConstraints)("accept",t.mimeTypes)("progress",t.progress),o.Db(1),o.qc("ngForOf",t.files))},directives:[n.a,R.c,E.d,E.e,ie.a,s.q,s.t,Q.a,E.b,te.a,r.l,J,ee.c,r.m],encapsulation:2}),e})()}];let ce=(()=>{class e{}return e.\u0275mod=o.Pb({type:e}),e.\u0275inj=o.Ob({factory:function(t){return new(t||e)},imports:[[re.f.forChild(le)],re.f]}),e})(),de=(()=>{class e{}return e.\u0275mod=o.Pb({type:e}),e.\u0275inj=o.Ob({factory:function(t){return new(t||e)},imports:[[r.c,ce,a.a,s.m,n.b,Y,Q.b,ee.e,te.b,R.b,ie.b]]}),e})()}}]);