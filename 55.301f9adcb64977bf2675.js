(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"b/Av":function(t,n,e){"use strict";e.r(n);var l=e("CcnG"),a=function(){return function(){}}(),o=e("pMnS"),r=e("ehiB"),i=e("1xtn"),s=e("gIcY"),u=(e("mrSG"),e("VYBx")),b=e("6jrj"),c=function(){return function(t,n,e){this.start=t,this.end=n,this.source=e}}(),d=0,g=function(){function t(t){this.formBuilder=t,this.customDateCohort={display:"Custom dates",range:{start:null,end:null}},this.formGroup=this.formBuilder.group({dateRange:this.formBuilder.group({startDate:[null],endDate:[null]}),cohort:new s.i([])}),this.uid="ts-cohort-date-range-"+d++,this._allowCustomDates=!0,this._id=this.uid,this.isDisabled=!1,this.cohortDateRangeChanged=new l.n}return Object.defineProperty(t.prototype,"dateRangeFormGroup",{get:function(){return this.formGroup.get("dateRange")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cohortControl",{get:function(){return this.formGroup.get("cohort")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowCustomDates",{get:function(){return this._allowCustomDates},set:function(t){this._allowCustomDates=t,this.cohorts=this.originalCohorts},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cohorts",{get:function(){return this._cohorts},set:function(t){if(t){this.originalCohorts=t,this._cohorts=t.slice(),this.allowCustomDates&&this._cohorts.push(this.customDateCohort);var n=t.filter(function(t){return t.active});n.length&&(this.cohortControl.setValue(n),this.setDateRangeValues(n[0].range))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t||this.uid},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.updateSelectOnRangeChange()},t.prototype.ngOnDestroy=function(){},t.prototype.cohortDateRangeChange=function(t){this.cohortDateRangeChanged.emit(new c(t.start,t.end,this))},t.prototype.selectionChange=function(t){this.setDateRangeValues(t.value[0].range)},t.prototype.trackByFn=function(t){return t},t.prototype.formatter=function(t){return t.display},t.prototype.setDateRangeValues=function(t){var n={startDate:t.start,endDate:t.end};n.startDate&&n.endDate&&(this.dateRangeFormGroup.setValue(n),this.cohortDateRangeChange(t))},t.prototype.updateSelectOnRangeChange=function(){var t=this;this.formGroup.get("dateRange").valueChanges.pipe(Object(b.h)(this)).subscribe(function(n){if(t.cohorts&&t.cohorts.length){var e=Object(u.c)(n.startDate).getTime(),l=Object(u.c)(n.endDate).getTime();0===t.cohorts.filter(function(t){var n=Object(u.c)(t.range.start).getTime(),a=Object(u.c)(t.range.end).getTime();if(e===n&&l===a)return t}).length&&t.cohortControl.setValue([t.customDateCohort])}})},t}(),h=function(){return function(){}}(),p=e("t68o"),D=e("zbXB"),f=e("Ip0R"),m=e("OzfB"),F=e("eDkP"),C=e("Fzqc"),y=e("o3x0"),j=e("M2Lx"),v=e("jQLj"),R=e("Wf4p"),O=e("dWZg"),w=e("iLpn"),k=e("ZsLu"),P=e("MStg"),B=e("qCGz"),L=e("21Lb"),G=e("hUWP"),_=e("3pJQ"),q=e("V9q+"),I=e("ZYjt"),S=e("UodH"),M=e("4c35"),T=e("qAlS"),x=e("lLAP"),V=e("qQLB"),Y=e("SMsm"),A=e("SG5n"),H=e("KpYI"),K=e("QBuA"),W=e("de3e"),U=e("HL5S"),E=e("rK0N"),z=e("Blfk"),N=e("8Edq"),Q=e("wp7h"),Z=e("Bgn0"),J=e("xkTG"),$=e("Wf1G"),X=l.rb({encapsulation:2,styles:[".ts-cohort-date-range{--cohort-selection-list-minWidth:200px;display:block}.ts-cohort-date-range .ts-selection-list.ts-cohort-date-range__select{display:inline-block;min-width:var(--cohort-selection-list-minWidth)}.ts-date-range.ts-cohort-date-range__date-range{display:inline-block;margin-right:24px}"],data:{}});function tt(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,4,"ts-option",[["class","ts-option"],["role","option"]],[[2,"ts-selected",null],[2,"ts-option--multiple",null],[2,"ts-option--active",null],[2,"ts-option--disabled",null],[2,"ts-option--template",null],[1,"tabindex",0],[1,"aria-selected",0],[1,"aria-disabled",0],[1,"title",0],[8,"id",0]],[[null,"click"],[null,"keydown"]],function(t,n,e){var a=!0;return"click"===n&&(a=!1!==l.Fb(t,1).selectViaInteraction()&&a),"keydown"===n&&(a=!1!==l.Fb(t,1).handleKeydown(e)&&a),a},Q.d,Q.b)),l.sb(1,9617408,[[2,4]],2,E.d,[l.k,l.h,l.y,[2,E.b],[2,E.a]],{value:[0,"value"],option:[1,"option"]},null),l.Lb(603979776,4,{optionTemplate:0}),l.Lb(603979776,5,{displayElementRef:0}),(t()(),l.Nb(4,0,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit,n.context.$implicit)},function(t,n){t(n,0,0,l.Fb(n,1).selected,l.Fb(n,1).allowMultiple,l.Fb(n,1).active,l.Fb(n,1).isDisabled,l.Fb(n,1).optionTemplate,l.Fb(n,1).tabIndex,l.Fb(n,1).selected.toString(),!!l.Fb(n,1).isDisabled,l.Fb(n,1).title,l.Fb(n,1).id),t(n,4,0,n.context.$implicit.display)})}function nt(t){return l.Pb(2,[l.Lb(402653184,1,{selectionListComponent:0}),(t()(),l.tb(1,0,null,null,1,"ts-date-range",[["class","ts-cohort-date-range__date-range ts-date-range"]],null,[[null,"dateRangeChange"]],function(t,n,e){var l=!0;return"dateRangeChange"===n&&(l=!1!==t.component.cohortDateRangeChange(e)&&l),l},Z.b,Z.a)),l.sb(2,245760,null,0,K.a,[l.h],{dateFormGroup:[0,"dateFormGroup"],isDisabled:[1,"isDisabled"]},{dateRangeChange:"dateRangeChange"}),(t()(),l.tb(3,0,null,null,10,"ts-selection-list",[["class","ts-cohort-date-range__select ts-selection-list"],["label","Select a date range"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ts-selection-list--required",null],[2,"ts-selection-list--disabled",null],[2,"ts-selection-list--single",null],[2,"ts-selection-list--multiple",null],[1,"aria-owns",0],[1,"aria-required",0],[1,"aria-multiselectable",0]],[[null,"selectionChange"]],function(t,n,e){var l=!0;return"selectionChange"===n&&(l=!1!==t.component.selectionChange(e)&&l),l},J.b,J.a)),l.Kb(6144,null,E.b,null,[B.c]),l.Kb(6144,null,V.b,null,[B.c]),l.sb(6,540672,null,0,s.j,[[8,null],[8,null],[8,null],[2,s.G]],{form:[0,"form"]},null),l.Kb(2048,null,s.r,null,[s.j]),l.sb(8,16384,null,0,s.s,[[4,s.r]],null,null),l.sb(9,4440064,[[1,4]],2,B.c,[l.h,$.a,l.k,[6,s.r]],{allowUserInput:[0,"allowUserInput"],isDisabled:[1,"isDisabled"],label:[2,"label"],displayFormatter:[3,"displayFormatter"]},{selectionChange:"selectionChange"}),l.Lb(603979776,2,{options:1}),l.Lb(603979776,3,{optionGroups:1}),(t()(),l.ib(16777216,null,0,1,null,tt)),l.sb(13,278528,null,0,f.l,[l.P,l.L,l.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,n){var e=n.component;t(n,2,0,e.dateRangeFormGroup,!e.allowCustomDates||e.isDisabled),t(n,6,0,e.cohortControl),t(n,9,0,!1,e.isDisabled,"Select a date range",e.formatter),t(n,13,0,e.cohorts,e.trackByFn)},function(t,n){t(n,3,1,[l.Fb(n,8).ngClassUntouched,l.Fb(n,8).ngClassTouched,l.Fb(n,8).ngClassPristine,l.Fb(n,8).ngClassDirty,l.Fb(n,8).ngClassValid,l.Fb(n,8).ngClassInvalid,l.Fb(n,8).ngClassPending,l.Fb(n,9).isRequired,l.Fb(n,9).isDisabled,!l.Fb(n,9).allowMultiple,l.Fb(n,9).allowMultiple,l.Fb(n,9).panelOpen?l.Fb(n,9).optionIds:null,l.Fb(n,9).isRequired.toString(),l.Fb(n,9).allowMultiple])})}var et=e("/Tr7"),lt=e("jIYg");function at(t){Object(lt.a)(1,arguments);var n=Object(et.a)(t);return n.setHours(0,0,0,0),n}var ot=e("/h9T");function rt(t,n){return Object(lt.a)(2,arguments),function(t,n){Object(lt.a)(2,arguments);var e=Object(et.a)(t),l=Object(ot.a)(n);return e.setDate(e.getDate()+l),e}(t,-Object(ot.a)(n))}function it(t,n){return Object(lt.a)(2,arguments),function(t,n){Object(lt.a)(2,arguments);var e=Object(et.a)(t),l=Object(ot.a)(n),a=e.getMonth()+l,o=new Date(0);o.setFullYear(e.getFullYear(),a,1),o.setHours(0,0,0,0);var r=function(t){Object(lt.a)(1,arguments);var n=Object(et.a)(t),e=n.getFullYear(),l=n.getMonth(),a=new Date(0);return a.setFullYear(e,l+1,0),a.setHours(0,0,0,0),a.getDate()}(o);return e.setMonth(a,Math.min(r,e.getDate())),e}(t,-Object(ot.a)(n))}function st(t){Object(lt.a)(1,arguments);var n=Object(et.a)(t);return n.setDate(1),n.setHours(0,0,0,0),n}function ut(t){Object(lt.a)(1,arguments);var n=Object(et.a)(t);return n.setHours(23,59,59,999),n}var bt=new Date,ct=function(){function t(t){this.formBuilder=t,this.myForm=this.formBuilder.group({dateRange:this.formBuilder.group({startDate:[null,[s.D.required]],endDate:[null,[s.D.required]]})}),this.cohorts=[{display:"Last 90 days",range:{start:at(rt(new Date,90)),end:bt}},{display:"Last full month",range:{start:at(it(st(bt),1)),end:ut(rt(st(bt),1))},active:!0}]}return t.prototype.printRange=function(t){this.lastRange=t},t}(),dt=l.rb({encapsulation:2,styles:[],data:{}});function gt(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,1,"pre",[],null,null,null,null,null)),(t()(),l.Nb(1,null,["  Start: ","\n  End: ","\n"]))],null,function(t,n){var e=n.component;t(n,1,0,e.lastRange.start,e.lastRange.end)})}function ht(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,10,"ts-card",[["class","ts-card"]],null,null,null,r.b,r.a)),l.sb(1,49152,null,0,i.a,[],null,null),(t()(),l.tb(2,0,null,0,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var a=!0;return"submit"===n&&(a=!1!==l.Fb(t,4).onSubmit(e)&&a),"reset"===n&&(a=!1!==l.Fb(t,4).onReset()&&a),a},null,null)),l.sb(3,16384,null,0,s.I,[],null,null),l.sb(4,540672,null,0,s.m,[[8,null],[8,null]],{form:[0,"form"]},null),l.Kb(2048,null,s.d,null,[s.m]),l.sb(6,16384,null,0,s.t,[[4,s.d]],null,null),(t()(),l.tb(7,0,null,null,1,"ts-cohort-date-range",[["class","ts-cohort-date-range"]],[[2,"ts-cohort-date-range--disabled",null],[1,"disabled",0],[1,"aria-disabled",0],[8,"id",0]],[[null,"cohortDateRangeChanged"]],function(t,n,e){var l=!0;return"cohortDateRangeChanged"===n&&(l=!1!==t.component.printRange(e)&&l),l},nt,X)),l.sb(8,245760,null,0,g,[s.h],{allowCustomDates:[0,"allowCustomDates"],cohorts:[1,"cohorts"],isDisabled:[2,"isDisabled"]},{cohortDateRangeChanged:"cohortDateRangeChanged"}),(t()(),l.ib(16777216,null,0,1,null,gt)),l.sb(10,16384,null,0,f.m,[l.P,l.L],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,4,0,e.myForm),t(n,8,0,!0,e.cohorts,!1),t(n,10,0,e.lastRange)},function(t,n){t(n,2,0,l.Fb(n,6).ngClassUntouched,l.Fb(n,6).ngClassTouched,l.Fb(n,6).ngClassPristine,l.Fb(n,6).ngClassDirty,l.Fb(n,6).ngClassValid,l.Fb(n,6).ngClassInvalid,l.Fb(n,6).ngClassPending),t(n,7,0,l.Fb(n,8).isDisabled,l.Fb(n,8).isDisabled,l.Fb(n,8).isDisabled,l.Fb(n,8).id)})}function pt(t){return l.Pb(0,[(t()(),l.tb(0,0,null,null,1,"demo-cohort-date-range",[],null,null,null,ht,dt)),l.sb(1,49152,null,0,ct,[s.h],null,null)],null,null)}var Dt=l.pb("demo-cohort-date-range",ct,pt,{},{},[]),ft=e("ZYCi"),mt=function(){return function(){}}(),Ft=e("l5YW");e.d(n,"CohortDateRangeModuleNgFactory",function(){return Ct});var Ct=l.qb(a,[],function(t){return l.Cb([l.Db(512,l.j,l.bb,[[8,[o.a,Dt,p.a,D.b,D.a]],[3,l.j],l.w]),l.Db(4608,f.o,f.n,[l.t,[2,f.F]]),l.Db(4608,s.F,s.F,[]),l.Db(4608,s.h,s.h,[]),l.Db(5120,l.b,function(t,n){return[m.j(t,n)]},[f.d,l.A]),l.Db(4608,F.c,F.c,[F.i,F.e,l.j,F.h,F.f,l.q,l.y,f.d,C.b,[2,f.i]]),l.Db(5120,F.j,F.k,[F.c]),l.Db(5120,y.b,y.c,[F.c]),l.Db(135680,y.d,y.d,[F.c,l.q,[2,f.i],[2,y.a],y.b,[3,y.d],F.e]),l.Db(4608,j.c,j.c,[]),l.Db(4608,v.i,v.i,[]),l.Db(5120,v.a,v.b,[F.c]),l.Db(4608,R.c,R.o,[[2,R.h],O.a]),l.Db(4608,w.a,w.a,[]),l.Db(4608,w.c,w.c,[]),l.Db(4608,w.d,w.d,[]),l.Db(4608,w.e,w.e,[]),l.Db(4608,w.f,w.f,[]),l.Db(4608,w.g,w.g,[]),l.Db(4608,k.c,k.c,[w.a]),l.Db(4608,P.b,P.b,[]),l.Db(5120,B.a,B.b,[F.c]),l.Db(1073742336,f.c,f.c,[]),l.Db(1073742336,ft.p,ft.p,[[2,ft.u],[2,ft.l]]),l.Db(1073742336,mt,mt,[]),l.Db(1073742336,s.E,s.E,[]),l.Db(1073742336,s.o,s.o,[]),l.Db(1073742336,s.A,s.A,[]),l.Db(1073742336,C.a,C.a,[]),l.Db(1073742336,R.k,R.k,[[2,R.f],[2,I.f]]),l.Db(1073742336,O.b,O.b,[]),l.Db(1073742336,R.n,R.n,[]),l.Db(1073742336,Y.c,Y.c,[]),l.Db(1073742336,A.b,A.b,[]),l.Db(1073742336,i.b,i.b,[]),l.Db(1073742336,m.c,m.c,[]),l.Db(1073742336,L.i,L.i,[]),l.Db(1073742336,G.b,G.b,[]),l.Db(1073742336,_.a,_.a,[]),l.Db(1073742336,q.a,q.a,[[2,m.g],l.A]),l.Db(1073742336,S.c,S.c,[]),l.Db(1073742336,M.g,M.g,[]),l.Db(1073742336,T.c,T.c,[]),l.Db(1073742336,F.g,F.g,[]),l.Db(1073742336,y.g,y.g,[]),l.Db(1073742336,j.d,j.d,[]),l.Db(1073742336,x.a,x.a,[]),l.Db(1073742336,v.j,v.j,[]),l.Db(1073742336,R.p,R.p,[]),l.Db(1073742336,w.b,w.b,[]),l.Db(1073742336,k.b,k.b,[]),l.Db(1073742336,V.c,V.c,[]),l.Db(1073742336,H.d,H.d,[]),l.Db(1073742336,K.b,K.b,[]),l.Db(1073742336,W.f,W.f,[]),l.Db(1073742336,W.d,W.d,[]),l.Db(1073742336,U.b,U.b,[]),l.Db(1073742336,E.f,E.f,[]),l.Db(1073742336,z.c,z.c,[]),l.Db(1073742336,N.c,N.c,[]),l.Db(1073742336,B.d,B.d,[]),l.Db(1073742336,h,h,[]),l.Db(1073742336,Ft.b,Ft.b,[]),l.Db(1073742336,a,a,[]),l.Db(1024,ft.j,function(){return[[{path:"",component:ct}]]},[]),l.Db(256,R.g,H.a,[])])})}}]);